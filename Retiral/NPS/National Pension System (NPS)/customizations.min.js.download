!function(i){var a=2;function r(e,o,r,n){var t="unknown";null!==r&&""===(t=r.name)&&(t="unknown");r=moment(new Date);r.locale("de");r="["+r.format("DD.MM.YY HH:mm:ss.SSS")+"]";i.console&&(1===e&&a<=1?console.debug(r+" DEBUG ["+o+"] ["+t+"]\n"+n):2===e&&a<=2?console.info(r+" INFO  ["+o+"] ["+t+"]\n"+n):3===e&&a<=3?console.warn(r+" WARN  ["+o+"] ["+t+"]\n"+n):4===e&&a<=4&&console.error(r+" ERROR ["+o+"] ["+t+"]\n"+n))}Cookies("LOGLEVEL")&&(a=Cookies("LOGLEVEL")),debug=function(e,o){r(1,e,arguments.callee.caller,o)},info=function(e,o){r(2,e,arguments.callee.caller,o)},warn=function(e,o){r(3,e,arguments.callee.caller,o)},error=function(e,o){r(4,e,arguments.callee.caller,o)},i.debug=debug,i.info=info,i.warn=warn,i.error=error}(window),function(e,n){e.showBEOExpertLabel=function(e,o){var r={de:"BEO Experte",en:"BEO Expert"},e=e in r?e:"en",e=n("<a />").attr({href:"/profiles/html/profileView.do?userid="+o+"&section=beoInformation"}).html(r[e]);n(".beoExpertLabel").html(e).show()}}(window,jQuery),function(r){var e,o,n="contactInformation",t=300;function i(){debug("startTimerToOpenDialog"),o=setTimeout(u,500)}function a(){debug("startTimerToCloseDialog"),clearTimeout(o)}function d(){debug("startTimerToCloseDialog"),e=setTimeout(s,t)}function c(){debug("cancelTimerToKeepDialogOpen"),clearTimeout(e)}function s(){debug("closeOrgUnitDialog"),r(".dialog-orgUnitSearch").dialog("close")}function u(){r(".dialog-orgUnitSearch").dialog({position:{my:"left top",at:"left top+20",of:"#orgUnitSearch"},draggable:!1,height:130,width:350,open:function(e,o){r(".dialog-orgUnitSearch a").blur(),r(".dialog-orgUnitSearch").parent().one("mouseenter",function(){c(),debug(n,"Mouse ENTERED the #dialog-orgUnitSearch"),r(".dialog-orgUnitSearch").parent().on("mouseleave",function(){debug(n,"Mouse LEFT the #dialog-orgUnitSearch"),d()})})}})}r(".lotusProfiles, .myProfile").on("mouseenter","#orgUnitSearch",function(){try{(r(".dialog-orgUnitSearch").dialog("isOpen")?c:i)()}catch(e){i()}}),r(".lotusProfiles, .myProfile").on("mouseleave","#orgUnitSearch",function(){try{(r(".dialog-orgUnitSearch").dialog("isOpen")?d:a)()}catch(e){a()}})}((window,jQuery)),function(e,o){o(document).ready(function(){document.body.style.display="",o("#reversoHeaderBtn").hasClass("lotusBannerBtn")&&o("#reversoHeaderBtn").removeClass("lotusBannerBtn"),o("#urlShortner").attr({href:"http://bos.ch/?url="+e.location.href}),e.location.origin||(e.location.origin=e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")),o("#mobileLinkGenerator").attr({href:e.location.origin+"/public/mobilelink/index.html?url="+encodeURIComponent(e.location.href)})})}(window,jQuery),function(r,n){var t,e,o,i,a,d,c,s,u,l,m,p,g,f,v,h,C="com.bosch.connect.developmentbar";debug(C,"onLoad is called"),h={devConsoleUrlParameter:"dev=true",devConsoleCookieName:"developerConsole",devConsoleMenuCookieName:"devConsoleActiveMenu",defaultStartUpModule:"switchServerModule"},t=r.location.href,d=function(){var e,o={q:{cookieDomain:"//rb-connect-q.bosch.com",url:"rb-connect-q.bosch.com",server:["fe0vm04538","si0vm04924"]},pGretel:{cookieDomain:"//connect.bosch.com",url:"connect.bosch.com",server:["fe0vm04539","fe0vm04540","si0vm04917","si0vm04918"]},pHaensel:{cookieDomain:"//rb-connect-next.bosch.com",url:"rb-connect-next.bosch.com",server:["fe0vm916","si0vm1133"]}};for(e in o)if(o.hasOwnProperty(e)&&(debug(C,o[e].url),0<=t.indexOf(o[e].url)))return o[e];return!1},e=function(){f(),v.devbar.slideDown(800),Cookies(h.devConsoleCookieName)||Cookies(h.devConsoleCookieName,"true",{expires:7,path:"/"}),m(),a()},o=function(){debug(C,"closeDevConsole and remove cookie"),v.devbar.slideUp(),u(!0)},u=function(e){e&&Cookies.remove(h.devConsoleCookieName,{path:"/"}),Cookies.remove(h.devConsoleCookieName+"Left",{path:"/"}),Cookies.remove(h.devConsoleCookieName+"Top",{path:"/"}),Cookies.remove(h.devConsoleCookieName+"Width",{path:"/"}),Cookies.remove(h.devConsoleCookieName+"Height",{path:"/"})},l=function(e){var o=n(".icon-popup.resize");debug(C,"resize and drag devConsole"),debug(C,e),v.devbar.hasClass("ui-draggable")?(o.removeClass("active"),g()):(v.devbar.addClass("ui-draggable"),o.addClass("active"),v.devbar.draggable({stop:function(e,o){v.devbar.css("opacity","1"),debug(C,"dragging stopped."),u(),Cookies(h.devConsoleCookieName+"Left",v.devbar.position().left,{path:"/"}),Cookies(h.devConsoleCookieName+"Top",v.devbar.position().top,{path:"/"})},drag:function(e,o){v.devbar.css("opacity","0.5")}}).resizable({stop:function(e,o){Cookies(h.devConsoleCookieName+"Width",v.devbar.width(),{path:"/"}),Cookies(h.devConsoleCookieName+"Height",v.devbar.height(),{path:"/"})},minHeight:165,minWidth:700,maxHeight:322,maxWidth:r.screen.width}))},f=function(){var e,o,r={top:h.devConsoleCookieName+"Top",left:h.devConsoleCookieName+"Left",height:h.devConsoleCookieName+"Height",width:h.devConsoleCookieName+"Width"};for(e in debug(C,"Re-align DevConsole position.."),r)r.hasOwnProperty(e)&&Cookies(r[e])&&(debug(C,Cookies(r[e])),v.devbar.css(e,Cookies(r[e])+"px"),o=!0);o&&l()},g=function(){u(),v.devbar.removeClass("ui-draggable").removeAttr("style").resizable("destroy").draggable("destroy").css("display","block").css("overflow","hidden")},a=function(){var e,o="BCTARGETNODE";debug(C,"setActiveServer()"),debug(C,o),Cookies(o)&&(e=Cookies(o),setTimeout(function(){n("#switchServer li a."+e).addClass("active")},0),debug(C,"name: #switchServer li a."+e))},p=function(e){var o;e?(Cookies(h.devConsoleMenuCookieName,e),o=e,debug(C,"name: "+e)):(o=Cookies(h.devConsoleMenuCookieName)?Cookies(h.devConsoleMenuCookieName):h.defaultStartUpModule,debug(C,o)),n(".devConsoleModule a").removeClass("active"),n(".devConsoleMenu a").removeClass("active"),n(".devConsoleModule."+o).addClass("active"),n(".devConsoleMenu ."+o).addClass("active")},m=function(){var e,o=d();if(debug(C,"hasServerInfo()"),o)for(e in n("#switchServer ul li").remove(),o.server){var r=o.server[e];n("#switchServer ul").append('<li><a class="switchServer '+r+'" title="'+r+'">'+o.server[e]+" [Node "+ ++e+"]</li>")}},i=function(e){var o=d().cookieDomain;debug(C,e),debug(C,o),Cookies("BCTARGETNODE",e,{expires:1,path:"/"}),c()},s=function(){n("#devbar .close").on("click",function(){o()}),n("#switchServer .switchServer").on("click",function(e){i(e.target.title)}),n(".devConsoleMenu a").on("click",function(e){p(e.target.title)}),n(".devConsoleMenu").on("dblclick",function(e){debug(C,"resizeAndDrag() start."),l(e.target)}),n(".devbar.resize").on("click",function(e){debug(C,"resizeAndDrag() start."),l(e.target)})},c=function(e){r.location.reload()},initJqueryDomObject=function(){var e={devbar:n("#devbar")};v=e},debug(C,"run init() function"),(0<t.lastIndexOf(h.devConsoleUrlParameter)||Cookies(h.devConsoleCookieName))&&(debug(C,"run showDevConsole()"),initJqueryDomObject(),e(),p(),s())}(window,jQuery),function(t){var i="DisableFollowOption";t(".lotusui").on("click",["#btn_actn__personCardAddAsMyColleagues",".lotusMenuSeparator .email"],function(o){var r=0,n=setInterval(function(){var e;"email"!==t(o.target).attr("class")&&"btn_actn__personCardAddAsMyColleagues"!==t(o.target).attr("id")&&"btn_actn__personCardAddAsMyColleagues"!==o.target.parentNode.id&&"DYKMainInvitePerson"!==t(o.target).attr("dojoattachpoint")||(0!==(e=t("input[name='invitation_follow']:visible")).length?(e.prop("checked",!1),info(i,"Follow option unchecked"),clearInterval(n)):3e3<r?(error(i,"Timeout reached! The Invitation Dialog has not been opened."),clearInterval(n)):r+=100)},100)})}((window,jQuery)),function(o,d){"use strict";var e=o.location.protocol+"//"+o.location.hostname+"/boschconnect/thirdparty/maintenance/options.json",c={isEnabled:!1,notificationId:null,notifierBox:d("#notifierBox"),notifierBoxContent:d("#notifierBox .notifierMessage .content"),show:function(){this.notifierBox.fadeIn(0)},animate:function(){var e=this.notifierBox.innerHeight()+"px";this.notifierBox.fadeIn(0).css({"margin-top":"-"+e}).animate({"margin-top":"0"},1400)},setAnimationCookie:function(){Cookies("bcNotifierInitialAnimation"+this.notificationId,"true",{expires:999,path:"/"})},remindMeLater:function(e){Cookies("bcNotifierHidden"+this.notificationId,"true",{expires:e,path:"/"})},neverRemind:function(){Cookies("bcNotifierHidden"+this.notificationId,"true",{expires:999,path:"/"})},run:function(){this.isEnabled&&(c.show(),Cookies("bcNotifierHidden"+this.notificationId)&&c.notifierBox.hide(0),d(".remindMeLater").on("click",function(){c.notifierBox.hide(),c.remindMeLater(2)}),d(".neverRemind").on("click",function(){c.notifierBox.hide(),c.neverRemind()}))}},s={options:{isEnabled:!1,enableScrollHeightAt:131,scrollElement:d("#notifierBoxSmall"),fadeInTime:100,fadeOutTime:100},run:function(){var e=this;d(o).scroll(function(){d(o).scrollTop()>e.options.enableScrollHeightAt&&c.notifierBox.is(":visible")?Cookies("bcNotifierHidden")||e.options.scrollElement.fadeIn(e.options.fadeInTime):e.options.scrollElement.fadeOut(e.options.fadeOutTime)})}};d.ajax({url:e,cache:!1,dataType:"json"}).done(function(e){var o=d("#notifierBox"),r=d("#notifierBoxIcon"),n=d("#notifierBox .content"),t=d(".leftButton .notifierButton"),i=d(".rightButton .notifierButton"),a=d("#notifierBox .customClose");e.header&&(e=e.header,c.notificationId=e.id,c.isEnabled=!0,"green"===e.color||"red"===e.color||"yellow"===e.color?o.addClass(e.color):o.addClass("red"),e.icon&&r.replaceWith(e.icon),n.html(e.text),"temp_and_perm"===e.userButtons?(t.text("Remind me in 2 days"),i.text("Do not remind me again"),a.hide()):"perm"===e.userButtons?(t.hide(),i.hide()):(t.hide(),i.hide(),a.hide()),c.run(),s.run())}).error(function(){})}(window,jQuery),function(e){var o="RenderBusinessCardHelper";e.callSemanticTagServiceonID=function(e){debug(o,"callSemanticTagServiceonID"),debug(o,"elementId"+e),SemTagSvc.parseDom(null,e)}}(window,jQuery);var communardo=communardo||{config:{sharepoint:{DOCUMENT_HOSTS:[],SEARCH_HOST:"",SEARCH_CONTEXT_PATH:"",INDEX_FIELD_NAME_DOCUMENT_ID:"",INDEX_FIELD_NAME_PATH:""},previewcard:{DOCUMENT_ID_PARAM_NAME:"",REMOVAL_DELAY:1e3,DISABLE_PREVIEW_PARAMETER_WITH_VALUE:"disablePreview=true",CUSTOM_PREVIEW_FILE_EXTENSIONS:["mp4","mp3"],CUSTOM_PREVIEW_FILE_PREVIEW_IMAGE:{mp4:"/_layouts/15/images/videopreview.png",mp3:"/_layouts/15/images/audiopreview.png"}},utils:{LOG_ID_SP:"com.bosch.sharepoint.preview"},translations:{defaultLang:"en"}},translations:{locale:djConfig.locale.split("-")[0],de:{ERROR_MSG_GENERAL:"Es ist ein Fehler aufgetreten. Bitte kontaktieren Sie einen Administrator für weitere Informationen.",ERROR_MSG_FAILED_SEARCH_REQUEST:"Es ist ein Fehler während der Suchanfrage an SharePoint aufgetreten. Bitte kontaktieren Sie einen Administrator für weitere Informationen.",ERROR_MSG_NO_DOCUMENT_FOUND:"Dokument nicht gefunden.",ERROR_MSG_NO_DOCUMENT_PREVIEW:"Keine Vorschau verfügbar."},en:{ERROR_MSG_GENERAL:"An error occured. Please contact an administrator for further assistance.",ERROR_MSG_FAILED_SEARCH_REQUEST:"There was an error when trying to search the file in SharePoint. Please contact an administrator for further assistance.",ERROR_MSG_NO_DOCUMENT_FOUND:"No document could be found.",ERROR_MSG_NO_DOCUMENT_PREVIEW:"There is no document preview available."}},utils:{cdebug:function(e){debug(communardo.config.utils.LOG_ID_SP,e)},cerror:function(e){error(communardo.config.utils.LOG_ID_SP,e)},getText:function(e){var o=communardo.translations[communardo.translations.locale];return o=void 0===(o=void 0===(o=void 0!==o?communardo.translations[communardo.translations.locale][e]:o)?communardo.translations[communardo.config.translations.defaultLang][e]:o)?e:o}},sharepoint:{querySharepointAPI:function(r,n,t,i,a){require(["dojo/request"],function(e){var o="//"+communardo.config.sharepoint.SEARCH_HOST+communardo.config.sharepoint.SEARCH_CONTEXT_PATH;communardo.utils.cdebug("Starting Sharepoint Search request. Target URL: "+(o+=n+t+r)),e.get(o,{headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose;charset=utf-8"},withCredentials:!0}).then(function(e){var o=communardo.sharepoint.extractSearchResults(JSON.parse(e));communardo.utils.cdebug("Sharepoint Search request successful. Processing Response: "+e),i(o)},function(e){a(e),communardo.utils.cerror("Sharepoint Search request failed. Error: "+e)})})},extractSearchResults:function(e){var o={},r=e.d.query.PrimaryQueryResult.RelevantResults.Table.Rows.results;return o.resultList=r.map(function(e){return e.Cells.results.reduce(function(e,o){return e[o.Key]=o.Value,e},{})}),o.totalRows=e.d.query.PrimaryQueryResult.RelevantResults.TotalRows,o.totalRowsIncludingDuplicates=e.d.query.PrimaryQueryResult.RelevantResults.TotalRowsIncludingDuplicates,communardo.utils.cdebug("Successfully processed Sharepoint Search response. Returning: "+JSON.stringify(o)),o},buildGetParameterString:function(e){e="?querytext=%27"+e+"%27";return e+="&selectproperties='Title%2cServerRedirectedEmbedURL",e+="%2cDocId%2cTitle%2cLastModifiedTime%2cisContainer%2cSecondaryFileExtension%2cDocumentLink%2c",e+=communardo.config.sharepoint.INDEX_FIELD_NAME_DOCUMENT_ID+"'",communardo.utils.cdebug("Successfully build getParameterString for Sharepoint Search request. GetParameter: "+e),e},searchDocumentsByDocumentId:function(e,o,r){communardo.utils.cdebug("Starting Sharepoint Search for document id: "+e),e=communardo.config.sharepoint.INDEX_FIELD_NAME_DOCUMENT_ID+":"+e,e=communardo.sharepoint.buildGetParameterString(e),this.querySharepointAPI(e,"","/_api/search/query",o,r)},searchDocumentsByPath:function(e,o,r){communardo.utils.cdebug("Starting Sharepoint Search for url path: "+e),e=communardo.config.sharepoint.INDEX_FIELD_NAME_PATH+'="'+e+'"',e=communardo.sharepoint.buildGetParameterString(e),this.querySharepointAPI(e,"","/_api/search/query",o,r)}},previewcard:{urltype:{DOCUMENT_ID_URL:0,WOPI_URL:1,PATH_URL:2},timeoutId:-1,mediaControl:{toggleControls:function(e){null===e.attr("controls")&&!0===e.attr("controls")?dojo.removeAttr(e,"controls"):e.attr("controls","true")},playButtonClick:function(){communardo.utils.cdebug("Inital play button has been clicked"),require(["dojo/on"],function(e){var o=dojo.query(".sharepoint-preview-card .media-container-wrapper .media-container-initial-playbutton")[0];dojo.style(o,"display","none");var r=dojo.query(".sharepoint-preview-card .media-container-wrapper .media-container");e(r,"mouseover",function(){communardo.utils.cdebug("Mediaelement has been hovered on"),communardo.previewcard.mediaControl.toggleControls(r)}),e(r,"mouseout",function(){communardo.utils.cdebug("Mediaelement has been hovered out"),communardo.previewcard.mediaControl.toggleControls(r)}),r[0].play()})}},addHoverListener:function(o){communardo.utils.cdebug("Adding hover event listener to Sharepoint PreviewCard."),require(["dojo/on","dojo/domReady!"],function(e){e(o,"mouseover",function(){communardo.previewcard.clearDestroyTimeout(),dojo.addClass(this,"hovered")}),e(o,"mouseleave",function(e){var o;null!==e.toElement&&(o=this,dojo.removeClass(o,"hovered"),communardo.previewcard.timeoutId=setTimeout(function(){communardo.previewcard.removePreviewCard(!1),communardo.previewcard.clearActiveLinks(o),communardo.previewcard.timeoutId=-1},communardo.config.previewcard.REMOVAL_DELAY))})})},clearDestroyTimeout:function(){-1<communardo.previewcard.timeoutId&&(communardo.utils.cdebug("Clearing timeout for removing the Sharepoint PreviewCard."),clearTimeout(communardo.previewcard.timeoutId),communardo.previewcard.timeoutId=-1)},clearActiveLinks:function(){for(var e=0;e<communardo.config.sharepoint.DOCUMENT_HOSTS.length;e++)dojo.query("a[href*="+communardo.config.sharepoint.DOCUMENT_HOSTS[e]+"].active").forEach(function(e){dojo.hasClass(this,"hovered")||(communardo.utils.cdebug("Clearing active flag on URL element: "+this.toString()),dojo.removeClass(e,"active"))})},getDocumentId:function(e){return communardo.utils.cdebug("Extracting document id from PreviewCard: "+e.toString()),dojo.attr(e,"data-documentId")},removePreviewCard:function(e){var o;0<dojo.query(".sharepoint-preview-card").length&&(o=dojo.query(".sharepoint-preview-card")[0],communardo.utils.cdebug("Removing Sharepoing PreviewCard: "+o.toString()),e?dojo.destroy(o):(e=communardo.config.previewcard.DOCUMENT_ID_PARAM_NAME,e+="=",e+=communardo.previewcard.getDocumentId(o),e=0<dojo.query("a[href*='"+e+"'].hovered").length,dojo.hasClass(o,"hovered")||e||(dojo.destroy(o),communardo.previewcard.clearActiveLinks())))},addPreviewCardDocument:function(e,o){var r;return communardo.utils.cdebug("Adding Document Preview to Sharepoint PreviewCard for document: "+JSON.stringify(e)),(r=dojo.create("iframe")).src=e.ServerRedirectedEmbedURL,dojo.addClass(r,"document-preview"),dojo.place(communardo.previewcard.buildFilenameHeading(e),o),dojo.place(r,o),o},addPreviewCardMediaFile:function(e,o){var r,n,t,i,a;return communardo.utils.cdebug("Adding Media Preview to Sharepoint PreviewCard for document: "+JSON.stringify(e)),a=dojo.create("div"),dojo.addClass(a,"media-container-wrapper"),i=dojo.create("video"),dojo.addClass(i,"media-container"),void 0!==communardo.config.previewcard.CUSTOM_PREVIEW_FILE_PREVIEW_IMAGE[e.SecondaryFileExtension]&&(i.poster="//"+communardo.config.sharepoint.SEARCH_HOST+communardo.config.previewcard.CUSTOM_PREVIEW_FILE_PREVIEW_IMAGE[e.SecondaryFileExtension]),i.width="400",i.height="230",(r=dojo.create("source")).src=e.DocumentLink,(t=dojo.create("a")).title="Play",dojo.place(dojo.create("span"),t),n=dojo.create("div"),dojo.addClass(n,"media-container-initial-playbutton"),dojo.place(t,n),require(["dojo/on"],function(e){e(n,"click",communardo.previewcard.mediaControl.playButtonClick)}),dojo.place(communardo.previewcard.buildFilenameHeading(e),o),dojo.place(r,i),dojo.place(i,a),dojo.place(n,a),dojo.place(a,o),o},addPreviewCardErrorMessage:function(e,o){var r=dojo.create("div");return communardo.utils.cdebug("Adding the following error message to the Sharepoint PreviewCard: "+e),r.innerHTML=e,dojo.addClass(r,"error-message"),dojo.place(r,o),o},buildPreviewCardContainer:function(e){var o,r=dojo.create("span");return dojo.addClass(r,"close-previewcard-button"),require(["dojo/on"],function(e){e(r,"click",communardo.previewcard.closeButtonHandler)}),o=dojo.create("div"),dojo.addClass(o,"sharepoint-preview-card"),dojo.addClass(o,"active"),dojo.attr(o,"data-documentId",e),dojo.place(r,o),communardo.utils.cdebug("Build PreviewCard container with the document id: "+e),o},buildFilenameHeading:function(e){var o=dojo.create("h2");return o.innerHTML=e.Title+"."+e.SecondaryFileExtension,dojo.addClass(o,"filename"),o},closeButtonHandler:function(){communardo.previewcard.removePreviewCard(!0),communardo.previewcard.clearActiveLinks(),communardo.previewcard.clearDestroyTimeout()},setPreviewCardPosition:function(e,o){var r=e.getBoundingClientRect(),n=o.getBoundingClientRect(),t=r.left;return r.left+n.width>window.innerWidth&&(t=window.innerWidth-n.width-40)<0&&(t=0),dojo.style(o,"left",t+"px"),e=r.bottom+window.pageYOffset,t=o.getBoundingClientRect().height,r.bottom+n.height>window.innerHeight&&0<r.top+window.pageYOffset-t&&r.top>window.innerHeight/2&&(e=r.top-t+window.pageYOffset),dojo.style(o,"top",e+"px"),o},getTargetNodes:function(){var e,o,r;if(0<communardo.config.sharepoint.DOCUMENT_HOSTS.length)for(o=0;o<communardo.config.sharepoint.DOCUMENT_HOSTS.length&&(r="a[href*='"+communardo.config.sharepoint.DOCUMENT_HOSTS[o]+"'].hovered.si-link",!(0<(e=dojo.query(r)).length));o++);return communardo.utils.cdebug("Looking for the currently active url node. Found: "+e),e},extractDocumentId:function(e){var o=new RegExp("[?&]"+communardo.config.previewcard.DOCUMENT_ID_PARAM_NAME+"=([A-z0-9-]+)","i"),r="",o=e.match(o);return null!==o&&2===o.length&&(r+=o[1]),communardo.utils.cdebug("Tried to extract the document id "+r+" from the following url: "+e),r},renderPreviewCard:function(e){var o,r=communardo.previewcard.getTargetNodes();communardo.utils.cdebug("Trying to render the following Sharepoint PreviewCard container: "+e.toString()),0<r.length&&(communardo.previewcard.removePreviewCard(!0),communardo.previewcard.clearActiveLinks(),communardo.previewcard.clearDestroyTimeout(),dojo.forEach(r,function(e){dojo.hasClass(e,"hovered")&&(o=e)}),void 0!==o&&(dojo.place(e,dojo.query("body")[0]),e=communardo.previewcard.setPreviewCardPosition(o,e),dojo.addClass(o,"active"),communardo.previewcard.addHoverListener(e)))},renderErrorCard:function(e){var o=communardo.previewcard.buildPreviewCardContainer(),o=communardo.previewcard.addPreviewCardErrorMessage(e,o);communardo.utils.cdebug("Trying to render the following ErrorCard: "+o.toString()),communardo.previewcard.renderPreviewCard(o)},failedSearchResponseHandler:function(e){var o="Request to sharepoint URL "+communardo.config.sharepoint.SEARCH_HOST+" failed. Further Parameters: ";communardo.utils.cerror(o),communardo.utils.cerror(e),communardo.previewcard.renderErrorCard(communardo.utils.getText("ERROR_MSG_FAILED_SEARCH_REQUEST"))},isValidSearchResult:function(e){var o=!0;return o=("true"===e.isContainer||null===e.ServerRedirectedEmbedURL)&&-1===communardo.config.previewcard.CUSTOM_PREVIEW_FILE_EXTENSIONS.indexOf(e.SecondaryFileExtension)?!1:o},successfulSearchResponseHandler:function(e){var o;0<e.resultList.length?(o=e.resultList[0],communardo.previewcard.isValidSearchResult(o)?(communardo.utils.cdebug("Document found. Starting rendering procedure of the PreviewCard: "+JSON.stringify(o)),e=o[communardo.config.sharepoint.INDEX_FIELD_NAME_DOCUMENT_ID],e=communardo.previewcard.buildPreviewCardContainer(e),e=-1===communardo.config.previewcard.CUSTOM_PREVIEW_FILE_EXTENSIONS.indexOf(o.SecondaryFileExtension)?communardo.previewcard.addPreviewCardDocument(o,e):communardo.previewcard.addPreviewCardMediaFile(o,e),communardo.previewcard.renderPreviewCard(e)):communardo.utils.cdebug(communardo.utils.getText("ERROR_MSG_NO_DOCUMENT_PREVIEW"))):(communardo.utils.cdebug("No Document found. Rendering error message for user."),communardo.previewcard.renderErrorCard(communardo.utils.getText("ERROR_MSG_NO_DOCUMENT_FOUND")))},handleDocumentIdUrl:function(e){communardo.sharepoint.searchDocumentsByDocumentId(communardo.previewcard.extractDocumentId(e),communardo.previewcard.successfulSearchResponseHandler,communardo.previewcard.failedSearchResponseHandler)},removeParameterFromUrl:function(e){var o=e;return-1<e.indexOf("?")&&(o=e.substr(0,e.indexOf("?"))),communardo.utils.cdebug("Removed get parameters from url: "+e),communardo.utils.cdebug("Cleaned URL: "+o),o},handleWopiUrl:function(e){var o=new RegExp("[&?]sourcedoc=([^&]+)","i"),e=e.match(o);null!==e&&2===e.length&&(o=e[1],o=decodeURI(o),e="https://",e+=communardo.config.sharepoint.SEARCH_HOST,e+=communardo.config.sharepoint.SEARCH_CONTEXT_PATH,communardo.previewcard.handlePathUrl(e+=o))},handlePathUrl:function(e){e=communardo.previewcard.removeParameterFromUrl(e);communardo.sharepoint.searchDocumentsByPath(e,communardo.previewcard.successfulSearchResponseHandler,communardo.previewcard.failedSearchResponseHandler)},analyzeUrl:function(e){return""!==communardo.previewcard.extractDocumentId(e)?communardo.previewcard.urltype.DOCUMENT_ID_URL:-1<e.indexOf("/WopiFrame.aspx?")?communardo.previewcard.urltype.WOPI_URL:communardo.previewcard.urltype.PATH_URL},mouseoverHandler:function(e){var o;if(!dojo.hasClass(e,"hovered")&&(communardo.utils.cdebug("Mouseover event triggered on element: "+e.toString()),dojo.addClass(e,"hovered"),dojo.addClass(e,"si-link"),communardo.previewcard.clearDestroyTimeout(),!dojo.hasClass(e,"active")))switch(o=e.href,communardo.previewcard.analyzeUrl(o)){case communardo.previewcard.urltype.DOCUMENT_ID_URL:communardo.utils.cdebug("Detected a Document ID inside of the URL."),communardo.previewcard.handleDocumentIdUrl(o);break;case communardo.previewcard.urltype.WOPI_URL:communardo.utils.cdebug("Detected a Wopi Url."),communardo.previewcard.handleWopiUrl(o);break;case communardo.previewcard.urltype.PATH_URL:communardo.utils.cdebug("Detected a Path URL."),communardo.previewcard.handlePathUrl(o)}},mouseoutHandler:function(e){var o=e;communardo.utils.cdebug("Mouseout event triggered on element: "+e.toString()),dojo.removeClass(o,"hovered"),communardo.previewcard.clearDestroyTimeout(),communardo.previewcard.timeoutId=setTimeout(function(){var e;dojo.hasClass(o,"hovered")||(0<(e=dojo.query(".sharepoint-preview-card")).length&&!dojo.hasClass(e[0],"hovered")?(communardo.previewcard.removePreviewCard(!1),dojo.removeClass(o,"active"),communardo.previewcard.timeoutId=-1):dojo.removeClass(o,"active"))},communardo.config.previewcard.REMOVAL_DELAY)},addUrlEventListener:function(o){communardo.utils.cdebug("Adding URL event listener for host: "+o),require(["dojo/on"],function(e){e(document,"a[href*="+o+"]:mouseover",function(){-1===this.href.indexOf(communardo.config.previewcard.DISABLE_PREVIEW_PARAMETER_WITH_VALUE)&&communardo.previewcard.mouseoverHandler(this)}),e(document,"a[href*="+o+"]:mouseout",function(){-1===this.href.indexOf(communardo.config.previewcard.DISABLE_PREVIEW_PARAMETER_WITH_VALUE)&&communardo.previewcard.mouseoutHandler(this)})})},init:function(){var e,o;communardo.utils.cdebug("Initializing Sharepoing Integration PreviewCard"),o={attributes:!0},null!==(e=document.querySelector("#tabNavBar"))&&new MutationObserver(function(){var e,o=dojo.query(".sharepoint-preview-card");0<o.length&&(e=dojo.style(o[0],"top"),0<dojo.query(".tabNavFixed").length&&0<o.length?dojo.style(o[0],"top",e-140+"px"):dojo.style(o[0],"top",e+140+"px"))}).observe(e,o),require(["dojo/domReady!"],function(){dojo.forEach(communardo.config.sharepoint.DOCUMENT_HOSTS,function(e){communardo.previewcard.addUrlEventListener(e)})})}}};communardo.config.sharepoint.DOCUMENT_HOSTS=["sites.inside-share.bosch.com","inside-share-hosted-apps.bosch.com","sites.share.bosch.com"],communardo.config.sharepoint.SEARCH_HOST="content.inside-share.bosch.com",communardo.config.sharepoint.SEARCH_CONTEXT_PATH="",communardo.config.sharepoint.INDEX_FIELD_NAME_DOCUMENT_ID="BoschDMSShortid",communardo.config.sharepoint.INDEX_FIELD_NAME_PATH="Path",communardo.config.previewcard.DOCUMENT_ID_PARAM_NAME="documentID",communardo.config.previewcard.REMOVAL_DELAY=2e3,communardo.previewcard.init(),function(e,o){e.supportInfoUtils={};function r(e){o(e?".supportInfoCopiedOk":".supportInfoCopiedNok").show(),setTimeout(function(){o(".supportInfoCopiedOk").hide()},2e3)}supportInfoUtils.copySupportInfo=function(){debug("com.bosch.connect.supportInfoUtils","copySupportInfo >>>>>>");var e=document.getElementById("supportInfoTextArea");document.getElementById("supportInfoCopyAnswer"),document.getElementById("supportInfoCopyBlock"),e.select();try{var o=document.execCommand("copy");o&&r(o)}catch(e){r(!1)}}}(window,jQuery),function(t){var i,a=Cookies("BCTARGETNODE"),d=Cookies("BCSESSIONID");!function(){debug("com.bosch.connect.supportInfoUtils","setSupportInfo >>>>>>");var e,o,r,n="Bosch Connect Support information\n",r=(o=navigator.userAgent,r=o.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(r[1])?{name:"IE ",version:(e=/\brv[ :]+(\d+)/g.exec(o)||[])[1]||""}:"Chrome"===r[1]&&null!=(e=o.match(/\bOPR\/(\d+)/))?{name:"Opera",version:e[1]}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=o.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),{name:r[0],version:r[1]}));n+="Browser: "+r.name+" "+r.version+"\n",n+="Node:",n+=a?" "+a:" error no target server defined",n+="\n",void 0!==d&&(i=d.split(":")[0],n+="Session ID:",n+=(i=String(i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"))?" "+i:" error no session id"),n+="\n",n+="Version: 21.10-4-2021-11-02_05-04-53",t("#supportInfoTextArea").val(n)}()}((window,jQuery)),function(a,d){a.switchHomepageUtils={};var c="orientme",s="orientme-ob",u="homepage",l="com.bosch.connect.switchHomepage";function n(e,o){debug(l,"updateSelectedHomepage >>>>>>"),debug(l,"userid="+e+" | currentSelectedHomepage="+o);var r,n=new Date((new Date).toUTCString()).getTime(),t="/";if(o==c||o==s)r=u,i=!0,t="/homepage",Cookies.remove("ORIENTME");else{if(o!=u)return void error(l,"Something went wrong. Invalid value for currentSelectedHomepage="+o);r=c,i=!1,t="/social",Cookies.set("ORIENTME","true",{expires:365,path:"/"})}var i='{"selectedHomepage" : "'+r+'", "timestamp" : '+n+', "switchBack": '+i+"}";debug(l,"putData="+i),d.ajax({url:"/profiles/atom/profileExtension.do?extensionId=selectedHomepage&userid="+e,type:"PUT",xhrFields:{withCredentials:!0},data:i}).done(function(e,o){return debug(l,"response="+e+" | status="+o),a.location=t,!0}).fail(function(e,o,r){return debug(l,"xhr="+e+" | response="+o+" | status="+r),debug(l,"failed to store the extension attribute selectedHomepage"),!1})}function r(e){debug(l,"setSwitchLabelText >>>>>>"),debug(l,"selectedHomepage="+e);var o=widgetUtils.getUserLanguage();debug(l,"userLanguage="+o);var r="Try out new home page",n="Go back to old home page";0<=["de","de-de","de-at","de-li","de-lu","de-ch"].indexOf(o)?(r="Neue Homepage ausprobieren",n="Zurück zur alten Homepage"):0<=["fr"].indexOf(o)&&(r="Essayezla nouvelle page d'accueil",n="Retour à l'ancienne page d'accueil");var t=r,t=e==c||e==s?n:r;debug(l,"label="+t);var i=0,a=setInterval(function(){d("#switchHomepage").text()?(debug(l,"switchHomepage element found. Setting label"),d("#switchHomepage").text(t),clearInterval(a)):1e3<i?(error(l,"Timeout reached! The switchHomepage element could not be found"),clearInterval(a)):i+=10},10)}switchHomepageUtils.switchHomepage=function(r){debug(l,"switchHomepage >>>>>>"),debug(l,"userid="+r),d.ajax({url:"/profiles/atom/profileExtension.do?extensionId=selectedHomepage&userid="+r,type:"GET",xhrFields:{withCredentials:!0}}).done(function(e,o){return debug(l,"response="+e+" | status="+o),e?(e=JSON.parse(e).selectedHomepage,debug(l,"currentSelectedHomepage="+e),n(r,e)):(debug(l,"Extension attribute does not yet exist."),n(r,u)),!0}).fail(function(e,o,r){return debug(l,"xhr="+e+" | response="+o+" | status="+r),debug(l,"failed to read the extension attribute selectedHomepage. Eventually it does not yet exist"),!1})},switchHomepageUtils.getHomeUrl=function(e){debug(l,"getHomeUrl >>>>>>"),debug(l,"userid="+e);var n="/homepage";try{d.ajax({url:"/profiles/atom/profileExtension.do?extensionId=selectedHomepage&userid="+e,type:"GET",xhrFields:{withCredentials:!0}}).done(function(e,o){debug(l,"response="+JSON.stringify(e)+" | status="+o),e?(e=JSON.parse(e).selectedHomepage,debug(l,"selectedHomepage="+e),e==c||e==s?n="/social":e==u&&(n="/homepage")):debug(l,"Extension attribute selectedHomepage is not yet set. Using /homepage"),debug(l,"redirectUrl="+n),a.location=n}).fail(function(e,o,r){debug(l,"xhr="+e+" | response="+o+" | status="+r),debug(l,"failed to read the extension attribute selectedHomepage. Eventually it does not yet exist"),a.location=n})}catch(e){error(l,"Something went wrong. Error message: "+e+". Use /homepage"),a.location=n}},switchHomepageUtils.setSwitchLabel=function(e){debug(l,"setSwitchLabel >>>>>>"),debug(l,"userid="+e),dojo.cookie("ORIENTME")?r(c):d.ajax({url:"/profiles/atom/profileExtension.do?extensionId=selectedHomepage&userid="+e,type:"GET",xhrFields:{withCredentials:!0}}).done(function(e,o){debug(l,"response="+JSON.stringify(e)+" | status="+o),e?r(JSON.parse(e).selectedHomepage):(debug(l,"Extension attribute selectedHomepage is not yet set. Using homepage as default"),r(u))}).fail(function(e,o,r){debug(l,"xhr="+e+" | response="+o+" | status="+r),debug(l,"failed to read the extension attribute selectedHomepage. Eventually it does not yet exist")})}}(window,jQuery),function(e,t){var i=!1,a=document.cookie.split(";"),d="//"+location.host,c="Terms and Conditions",s={tc:{acceptTc:function(){s.tc.closeWindow();var r=location.protocol+"//"+location.host,n=new Date((new Date).toUTCString()).getTime();t.xhrGet({url:r+"/connections/opensocial/basic/rest/people/@me/",handleAs:"json",load:function(e,o){e.entry.emails[0].value;e=s.tc.getUserId(e.entry.id);t.xhrPut({url:r+"/profiles/atom/profileExtension.do?extensionId=privacyAndGuidelines&userid="+e,putData:n.toString(),handleAs:"text",load:function(e,o){},error:function(e,o){debug(c,"failed to store the extension type privacyAndGuidelines")}})},error:function(e,o){debug(c,"Could not read profile!")}})},showAlertDialog:function(){t.require("dijit.Dialog"),new dijit.Dialog({id:"boschdisclaimer",duration:1},"boschdisclaimer_div").show()},escape:function(){s.tc.closeWindow(),e.location="https://inside.bosch.com/irj/portal"},toggleNext:function(e){elem=document.getElementById("okbutton"),e.checked?("Microsoft Internet Explorer"===navigator.appName?elem.style.color="black":elem.setAttribute("style","color: black !important"),elem.disabled=!1):("Microsoft Internet Explorer"===navigator.appName?elem.style.color="#676767":elem.setAttribute("style","color: #676767 !important"),elem.disabled=!0)},getUserId:function(e){var o=e.lastIndexOf(":")+1,r=e.length;return e.substring(o,r)},closeWindow:function(){var e;elem=dijit.byId("boschdisclaimer"),void 0!==elem?elem.hide():void 0!==(e=document.getElementById("boschdisclaimer_div"))&&(e.style.visibility="hidden")}}};e.bosch=s,function(){for(var e,o=0;o<a.length;o++){for(var r=a[o];" "===r.charAt(0);)r=r.substring(1);var n=r.substring(0,r.indexOf("="));"confirm_tc"!==n&&"confirm_tc_1.1"!==n&&"bcConfirmTC"!==n||(e=n,document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",debug(c,"Old cookie found and deleted. cookieName="+n),i=!0,s.tc.acceptTc())}!1===i&&t.xhrGet({url:d+"/connections/opensocial/basic/rest/people/@me/",preventCache:"true",timout:6e5,handleAs:"json",load:function(e,o){e.entry.emails[0].value;e=s.tc.getUserId(e.entry.id);t.xhrGet({url:d+"/profiles/atom/profileExtension.do?extensionId=privacyAndGuidelines&userid="+e,handleAs:"text",load:function(e,o){debug(c,"response to xhrGet for privacyAndGuidelines="+e),""===e&&s.tc.showAlertDialog()},error:function(e,o){s.tc.showAlertDialog(),debug(c,"fetching prof extn failed , showing dialog")}})},error:function(e,o){debug(c,"Could not read profile!")}})}()}(window,dojo);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjFfbG9nZ2luZy5qcyIsImJlb0V4cGVydHMuanMiLCJjb250YWN0SW5mb3JtYXRpb24uanMiLCJjdXN0b21pemF0aW9ucy5qcyIsImRldmVsb3BtZW50YmFyLmpzIiwiZXB0YWN0LTE4MDktZm9sbG93LW9wdGlvbi5qcyIsIm5vdGlmaWVyLmpzIiwicmVuZGVyQnVzaW5lc3NDYXJkSGVscGVyLmpzIiwic2hhcmVwb2ludC1wcmV2aWV3LWNhcmQuanMiLCJzdXBwb3J0SW5mb1V0aWxzLmpzIiwic3dpdGNoSG9tZXBhZ2VVdGlscy5qcyIsInRlcm1zQW5kQ29uZGl0aW9ucy5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJMT0dMRVZFTCIsImxvZ1N0cmluZyIsImxldmVsIiwibW9kdWxlIiwiY2FsbGVyIiwibWVzc2FnZSIsImNhbGxlck5hbWUiLCJuYW1lIiwiZm9ybWF0dGVkRGF0ZSIsIm1vbWVudCIsIkRhdGUiLCJsb2NhbGUiLCJ0aW1lc3RhbXAiLCJmb3JtYXQiLCJjb25zb2xlIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIiwiQ29va2llcyIsImFyZ3VtZW50cyIsImNhbGxlZSIsIiQiLCJzaG93QkVPRXhwZXJ0TGFiZWwiLCJkaXNwbGF5TGFuZyIsInVzZXJJZCIsImJlb0V4cGVydExhYmVsIiwiZGUiLCJlbiIsImxhbmd1YWdlIiwiYmVvTGluayIsImF0dHIiLCJocmVmIiwiaHRtbCIsInNob3ciLCJqUXVlcnkiLCJhdXRvQ2xvc2VEaWFsb2dUaW1lciIsImF1dG9PcGVuRGlhbG9nVGltZXIiLCJMT0dfSUQiLCJkaWFsb2dDbG9zaW5nVGltZSIsInN0YXJ0VGltZXJUb09wZW5EaWFsb2ciLCJzZXRUaW1lb3V0Iiwic2hvd09yZ1VuaXREaWFsb2ciLCJzdG9wVGltZXJUb09wZW5EaWFsb2ciLCJjbGVhclRpbWVvdXQiLCJzdGFydFRpbWVyVG9DbG9zZURpYWxvZyIsImNsb3NlT3JnVW5pdERpYWxvZyIsImNhbmNlbFRpbWVyVG9LZWVwRGlhbG9nT3BlbiIsImRpYWxvZyIsInBvc2l0aW9uIiwibXkiLCJhdCIsIm9mIiwiZHJhZ2dhYmxlIiwiaGVpZ2h0Iiwid2lkdGgiLCJvcGVuIiwiZXZlbnQiLCJ1aSIsImJsdXIiLCJwYXJlbnQiLCJvbmUiLCJvbiIsImUiLCJkb2N1bWVudCIsInJlYWR5IiwiYm9keSIsInN0eWxlIiwiZGlzcGxheSIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJsb2NhdGlvbiIsIm9yaWdpbiIsInByb3RvY29sIiwiaG9zdG5hbWUiLCJwb3J0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiY3VycmVudFVybCIsInNob3dEZXZDb25zb2xlIiwiY2xvc2VEZXZDb25zb2xlIiwic3dpdGNoU2VydmVyIiwic2V0QWN0aXZlU2VydmVyIiwiZ2V0U2VydmVySW5mbyIsInJlbG9hZCIsInJlZ2lzdGVyRXZlbnRzIiwicmVtb3ZlQ29va2llcyIsInJlc2l6ZUFuZERyYWciLCJjcmVhdGVTd2l0Y2hTZXJ2ZXJNZW51Iiwic2V0QWN0aXZlQ29uc29sZU1lbnUiLCJyZXNldERldkNvbnNvbGUiLCJyZXN0b3JlRGV2Q29uc29sZVBvc2l0aW9uQW5kU2l6ZSIsIiRvYmoiLCJzZXR0aW5ncyIsImRldkNvbnNvbGVVcmxQYXJhbWV0ZXIiLCJkZXZDb25zb2xlQ29va2llTmFtZSIsImRldkNvbnNvbGVNZW51Q29va2llTmFtZSIsImRlZmF1bHRTdGFydFVwTW9kdWxlIiwia2V5Iiwic2VydmVySW5mbyIsInEiLCJjb29raWVEb21haW4iLCJ1cmwiLCJzZXJ2ZXIiLCJwR3JldGVsIiwicEhhZW5zZWwiLCJoYXNPd25Qcm9wZXJ0eSIsImluZGV4T2YiLCJkZXZiYXIiLCJzbGlkZURvd24iLCJleHBpcmVzIiwicGF0aCIsInNsaWRlVXAiLCJyZW1vdmVBbGwiLCJyZW1vdmUiLCJ0YXJnZXQiLCIkcmVzaXplQnV0dG9uIiwiYWRkQ2xhc3MiLCJzdG9wIiwiY3NzIiwibGVmdCIsInRvcCIsImRyYWciLCJyZXNpemFibGUiLCJtaW5IZWlnaHQiLCJtaW5XaWR0aCIsIm1heEhlaWdodCIsIm1heFdpZHRoIiwic2NyZWVuIiwiaXNNb2RpZmllZCIsImNvb2tpZXMiLCJyZW1vdmVBdHRyIiwidGFyZ2V0Tm9kZSIsImNvb2tpZU5hbWUiLCJhY3RpdmF0ZU1lbnUiLCJhY3RpdmVNZW51IiwiaSIsImhhc1NlcnZlckluZm8iLCJub2RlIiwiYXBwZW5kIiwibm9kZUlkIiwidGl0bGUiLCJoYXNEZXZDb25zb2xlIiwiaW5pdEpxdWVyeURvbU9iamVjdCIsIiRkb21PYmoiLCJsYXN0SW5kZXhPZiIsImV4ZWN1dGlvblRpbWUiLCJ3YWl0aW5nRm9yRGlhbG9nSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIiRmb2xsb3dCdXR0b24iLCJwYXJlbnROb2RlIiwiaWQiLCJsZW5ndGgiLCJwcm9wIiwiY2xlYXJJbnRlcnZhbCIsInVybFRvSnNvbiIsImJjTm90aWZpZXIiLCJpc0VuYWJsZWQiLCJub3RpZmljYXRpb25JZCIsIm5vdGlmaWVyQm94Iiwibm90aWZpZXJCb3hDb250ZW50IiwidGhpcyIsImZhZGVJbiIsImFuaW1hdGUiLCJub3RpZmllckJveEhlaWdodFB4IiwiaW5uZXJIZWlnaHQiLCJtYXJnaW4tdG9wIiwic2V0QW5pbWF0aW9uQ29va2llIiwicmVtaW5kTWVMYXRlciIsImV4cGlyZUR1cmF0aW9uIiwibmV2ZXJSZW1pbmQiLCJydW4iLCJoaWRlIiwiYmNTY3JvbGxpbmciLCJvcHRpb25zIiwiZW5hYmxlU2Nyb2xsSGVpZ2h0QXQiLCJzY3JvbGxFbGVtZW50IiwiZmFkZUluVGltZSIsImZhZGVPdXRUaW1lIiwiX3NlbGYiLCJzY3JvbGwiLCJzY3JvbGxUb3AiLCJpcyIsImZhZGVPdXQiLCJhamF4IiwiY2FjaGUiLCJkYXRhVHlwZSIsImRvbmUiLCJvcHRpb25zRmlsZSIsIiRub3RpZmllckJveCIsIiRub3RpZmllckJveEljb24iLCIkbm90aWZpZXJCb3hDb250ZW50IiwiJG5vdGlmaWVyTGVmdEJ1dHRvbiIsIiRub3RpZmllclJpZ2h0QnV0dG9uIiwiJG5vdGlmaWVyQ2xvc2VCdXR0b24iLCJoZWFkZXIiLCJub3RpZmllck9wdGlvbnMiLCJjb2xvciIsImljb24iLCJyZXBsYWNlV2l0aCIsInRleHQiLCJ1c2VyQnV0dG9ucyIsImNhbGxTZW1hbnRpY1RhZ1NlcnZpY2VvbklEIiwiZWxlbWVudElkIiwiU2VtVGFnU3ZjIiwicGFyc2VEb20iLCJjb21tdW5hcmRvIiwiY29uZmlnIiwic2hhcmVwb2ludCIsIkRPQ1VNRU5UX0hPU1RTIiwiU0VBUkNIX0hPU1QiLCJTRUFSQ0hfQ09OVEVYVF9QQVRIIiwiSU5ERVhfRklFTERfTkFNRV9ET0NVTUVOVF9JRCIsIklOREVYX0ZJRUxEX05BTUVfUEFUSCIsInByZXZpZXdjYXJkIiwiRE9DVU1FTlRfSURfUEFSQU1fTkFNRSIsIlJFTU9WQUxfREVMQVkiLCJESVNBQkxFX1BSRVZJRVdfUEFSQU1FVEVSX1dJVEhfVkFMVUUiLCJDVVNUT01fUFJFVklFV19GSUxFX0VYVEVOU0lPTlMiLCJDVVNUT01fUFJFVklFV19GSUxFX1BSRVZJRVdfSU1BR0UiLCJtcDQiLCJtcDMiLCJ1dGlscyIsIkxPR19JRF9TUCIsInRyYW5zbGF0aW9ucyIsImRlZmF1bHRMYW5nIiwiZGpDb25maWciLCJzcGxpdCIsIkVSUk9SX01TR19HRU5FUkFMIiwiRVJST1JfTVNHX0ZBSUxFRF9TRUFSQ0hfUkVRVUVTVCIsIkVSUk9SX01TR19OT19ET0NVTUVOVF9GT1VORCIsIkVSUk9SX01TR19OT19ET0NVTUVOVF9QUkVWSUVXIiwiY2RlYnVnIiwiY2Vycm9yIiwiZ2V0VGV4dCIsInRyYW5zIiwidW5kZWZpbmVkIiwicXVlcnlTaGFyZXBvaW50QVBJIiwiZ2V0UGFyYW1ldGVyIiwic2l0ZUNvbGxlY3Rpb24iLCJhcGlQYXRoIiwiZG9uZUhhbmRsZXIiLCJlcnJvckhhbmRsZXIiLCJyZXF1aXJlIiwicmVxdWVzdCIsInJlcXVlc3RVcmwiLCJnZXQiLCJoZWFkZXJzIiwiQWNjZXB0IiwiQ29udGVudC1UeXBlIiwid2l0aENyZWRlbnRpYWxzIiwidGhlbiIsInJlc3BvbnNlIiwic2VhcmNoUmVzdWx0cyIsImV4dHJhY3RTZWFyY2hSZXN1bHRzIiwiSlNPTiIsInBhcnNlIiwic2hhcmVQb2ludFJlc3VsdE9iamVjdCIsInNlYXJjaFJlc3VsdCIsInJvd3MiLCJkIiwicXVlcnkiLCJQcmltYXJ5UXVlcnlSZXN1bHQiLCJSZWxldmFudFJlc3VsdHMiLCJUYWJsZSIsIlJvd3MiLCJyZXN1bHRzIiwicmVzdWx0TGlzdCIsIm1hcCIsInJvdyIsIkNlbGxzIiwicmVkdWNlIiwicmVzdWx0Um93IiwiY2VsbCIsIktleSIsIlZhbHVlIiwidG90YWxSb3dzIiwiVG90YWxSb3dzIiwidG90YWxSb3dzSW5jbHVkaW5nRHVwbGljYXRlcyIsIlRvdGFsUm93c0luY2x1ZGluZ0R1cGxpY2F0ZXMiLCJzdHJpbmdpZnkiLCJidWlsZEdldFBhcmFtZXRlclN0cmluZyIsInBhcmFtdGVyU3RyaW5nIiwic2VhcmNoRG9jdW1lbnRzQnlEb2N1bWVudElkIiwiZG9jdW1lbnRJZCIsImdldFBhcmFtZXRlclN0cmluZyIsInNlYXJjaERvY3VtZW50c0J5UGF0aCIsInVybHR5cGUiLCJET0NVTUVOVF9JRF9VUkwiLCJXT1BJX1VSTCIsIlBBVEhfVVJMIiwidGltZW91dElkIiwibWVkaWFDb250cm9sIiwidG9nZ2xlQ29udHJvbHMiLCJtZWRpYUVsZW1lbnQiLCJkb2pvIiwicGxheUJ1dHRvbkNsaWNrIiwicGxheUJ1dHRvbiIsInZpZEVsZW1lbnQiLCJwbGF5IiwiYWRkSG92ZXJMaXN0ZW5lciIsImNhcmRDb250YWluZXIiLCJjbGVhckRlc3Ryb3lUaW1lb3V0Iiwic2VsZiIsInRvRWxlbWVudCIsInJlbW92ZVByZXZpZXdDYXJkIiwiY2xlYXJBY3RpdmVMaW5rcyIsImZvckVhY2giLCJlbnRyeSIsInRvU3RyaW5nIiwiZ2V0RG9jdW1lbnRJZCIsInByZXZpZXdDYXJkIiwiZm9yY2UiLCJkZXN0cm95IiwiZG9jdW1lbnRJZFBhcmFtIiwibGlua0lzSG92ZXJlZCIsImFkZFByZXZpZXdDYXJkRG9jdW1lbnQiLCJpRnJhbWUiLCJjcmVhdGUiLCJzcmMiLCJTZXJ2ZXJSZWRpcmVjdGVkRW1iZWRVUkwiLCJwbGFjZSIsImJ1aWxkRmlsZW5hbWVIZWFkaW5nIiwiYWRkUHJldmlld0NhcmRNZWRpYUZpbGUiLCJ2aWRlb1NvdXJjZSIsInBsYXlCdXR0b25MaW5rIiwibWVkaWFDb250YWluZXIiLCJ3cmFwcGVyQ29udGFpbmVyIiwiU2Vjb25kYXJ5RmlsZUV4dGVuc2lvbiIsInBvc3RlciIsIkRvY3VtZW50TGluayIsImFkZFByZXZpZXdDYXJkRXJyb3JNZXNzYWdlIiwiZXJyb3JCbG9jayIsImlubmVySFRNTCIsImJ1aWxkUHJldmlld0NhcmRDb250YWluZXIiLCJjbG9zZUJ1dHRvbiIsImNsb3NlQnV0dG9uSGFuZGxlciIsImZpbGVOYW1lSGVhZGluZyIsIlRpdGxlIiwic2V0UHJldmlld0NhcmRQb3NpdGlvbiIsImxpbmtOb2RlIiwibGlua05vZGVQb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNhcmRDb250YWluZXJTaXplIiwibGVmdFBvc2l0aW9uIiwiaW5uZXJXaWR0aCIsInRvcFBvc2l0aW9uIiwiYm90dG9tIiwicGFnZVlPZmZzZXQiLCJjb250YWluZXJIZWlnaHQiLCJnZXRUYXJnZXROb2RlcyIsInF1ZXJ5UmVzdWx0cyIsImRvbVF1ZXJ5IiwiZXh0cmFjdERvY3VtZW50SWQiLCJyZWdleCIsIlJlZ0V4cCIsIm1hdGNoIiwicmVuZGVyUHJldmlld0NhcmQiLCJsaW5rTm9kZXMiLCJyZW5kZXJFcnJvckNhcmQiLCJlcnJvck1zZyIsImZhaWxlZFNlYXJjaFJlc3BvbnNlSGFuZGxlciIsImpYSFIiLCJpc1ZhbGlkU2VhcmNoUmVzdWx0IiwiaXNWYWxpZCIsImlzQ29udGFpbmVyIiwic3VjY2Vzc2Z1bFNlYXJjaFJlc3BvbnNlSGFuZGxlciIsImhhbmRsZURvY3VtZW50SWRVcmwiLCJyZW1vdmVQYXJhbWV0ZXJGcm9tVXJsIiwicmV0VmFsIiwic3Vic3RyIiwiaGFuZGxlV29waVVybCIsInNvdXJjZURvYyIsImRlY29kZVVSSSIsImRvY3VtZW50VXJsIiwiaGFuZGxlUGF0aFVybCIsImFuYWx5emVVcmwiLCJtb3VzZW92ZXJIYW5kbGVyIiwibGlua0VsZW1lbnQiLCJtb3VzZW91dEhhbmRsZXIiLCJhZGRVcmxFdmVudExpc3RlbmVyIiwiaG9zdCIsImluaXQiLCJhdHRyaWJ1dGVzIiwicXVlcnlTZWxlY3RvciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJjdXJyZW50VG9wIiwic2hhcmVwb2ludFByZXZpZXdDYXJkcyIsIm9ic2VydmUiLCJzdXBwb3J0SW5mb1V0aWxzIiwic2hvd1N1cHBvcnRJbmZvQ29waWVkIiwicmVzdWx0IiwiY29weVN1cHBvcnRJbmZvIiwidGV4dGFyZWEiLCJnZXRFbGVtZW50QnlJZCIsInNlbGVjdCIsIm9rIiwiZXhlY0NvbW1hbmQiLCJlcnIiLCJzZXNzaW9uSWQiLCJ0YXJnZXRTZXJ2ZXIiLCJzZXNzaW9uQ29va2llIiwidGVtIiwidWEiLCJNIiwib3V0IiwiYnJvd3NlckluZm8iLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0ZXN0IiwidmVyc2lvbiIsImV4ZWMiLCJhcHBOYW1lIiwiYXBwVmVyc2lvbiIsInNwbGljZSIsIlN0cmluZyIsInJlcGxhY2UiLCJ2YWwiLCJzZXRTdXBwb3J0SW5mbyIsInN3aXRjaEhvbWVwYWdlVXRpbHMiLCJTRUxFQ1RFRF9IT01FUEFHRV9PUklFTlRNRSIsIlNFTEVDVEVEX0hPTUVQQUdFX09SSUVOVE1FX09CIiwiU0VMRUNURURfSE9NRVBBR0VfSE9NRVBBR0UiLCJ1cGRhdGVTZWxlY3RlZEhvbWVwYWdlIiwidXNlcmlkIiwiY3VycmVudFNlbGVjdGVkSG9tZXBhZ2UiLCJuZXdTZWxlY3RlZEhvbWVwYWdlIiwiZGF0ZVZhciIsInRvVVRDU3RyaW5nIiwiZ2V0VGltZSIsInJlZGlyZWN0VXJsIiwic3dpdGNoQmFjayIsInNldCIsInB1dERhdGEiLCJ0eXBlIiwieGhyRmllbGRzIiwiZGF0YSIsInRleHRTdGF0dXMiLCJmYWlsIiwieGhyIiwic2V0U3dpdGNoTGFiZWxUZXh0Iiwic2VsZWN0ZWRIb21lcGFnZSIsInVzZXJMYW5ndWFnZSIsIndpZGdldFV0aWxzIiwiZ2V0VXNlckxhbmd1YWdlIiwiaG9tZXBhZ2UiLCJvcmllbnRtZSIsImxhYmVsIiwid2FpdGluZ0Zvck1lbnVFbnRyeSIsInN3aXRjaEhvbWVwYWdlIiwiZ2V0SG9tZVVybCIsInNldFN3aXRjaExhYmVsIiwiY29va2llIiwib2xkQ29va2llRm91bmQiLCJjb29raWVFbnRyaWVzIiwiaG9zdE5hbWUiLCJib3NjaCIsInRjIiwiYWNjZXB0VGMiLCJjbG9zZVdpbmRvdyIsInhockdldCIsImhhbmRsZUFzIiwibG9hZCIsImlvQXJncyIsImVtYWlscyIsInZhbHVlIiwiZ2V0VXNlcklkIiwieGhyUHV0Iiwic2hvd0FsZXJ0RGlhbG9nIiwiZGlqaXQiLCJEaWFsb2ciLCJkdXJhdGlvbiIsImVzY2FwZSIsInRvZ2dsZU5leHQiLCJjYm94IiwiZWxlbSIsImNoZWNrZWQiLCJzZXRBdHRyaWJ1dGUiLCJkaXNhYmxlZCIsInVuZm9ybWF0dGVkVXNlcklkIiwiY3V0SW5kZXgiLCJzdWJzdHJpbmciLCJkaXNjbGFpbWVyRWxlbWVudCIsImJ5SWQiLCJ2aXNpYmlsaXR5IiwiY29va2llVmFsdWUiLCJjaGFyQXQiLCJwcmV2ZW50Q2FjaGUiLCJ0aW1vdXQiXSwibWFwcGluZ3MiOiJDQWFBLFNBQUFBLEdBSUEsSUFNQUMsRUFMQSxFQVdBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBRUEsSUFBQUMsRUFBQSxVQUNBLE9BQUFGLEdBRUEsTUFEQUUsRUFBQUYsRUFBQUcsUUFFQUQsRUFBQSxXQUlBRSxFQUFBQyxPQUFBLElBQUFDLE1BQ0FGLEVBQUFHLE9BQUEsTUFDQUMsRUFBQSxJQUFBSixFQUFBSyxPQUFBLHlCQUFBLElBRUFkLEVBQUFlLFVBMUJBLElBMkJBWixHQUFBRixHQTNCQSxFQTRCQWMsUUFBQUMsTUFBQUgsRUFBQSxXQUFBVCxFQUFBLE1BQUFHLEVBQUEs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NlYsRUFBQS9CLEVBQUE5VCxHQUVBLE1BQUE2VixFQUFBQyxPQUFBLElBQ0FELEVBQUFBLEVBQUFKLFVBQUEsR0FHQSxJQUFBNVYsRUFBQWdXLEVBQUFKLFVBQUEsRUFBQUksRUFBQTFYLFFBQUEsTUFoSUEsZUFpSUEwQixHQTlIQSxtQkE4SEFBLEdBM0hBLGdCQTJIQUEsSUFmQUEsRUFrQkFBLEVBakJBcEUsU0FBQW1ZLE9BQUEvVCxFQUFBLG9EQW1CQXJILE1BQUF1QixFQUFBLDRDQUFBOEYsR0FHQWdVLEdBQUEsRUFHQUcsRUFBQUMsR0FBQUMsYUFLQSxJQUFBTCxHQUdBOUosRUFBQXFLLE9BQUEsQ0FDQXRXLElBQUFpVyxFQUFBLGlEQUNBZ0MsYUFBQSxPQUNBQyxPQUFBLElBQ0EzQixTQUFBLE9BQ0FDLEtBQUEsU0FBQWxOLEVBQUFtTixHQUVBbk4sRUFBQXdELE1BQUE0SixPQUFBLEdBQUFDLE1BQ0F2YixFQUFBOGEsRUFBQUMsR0FBQVMsVUFBQXROLEVBQUF3RCxNQUFBN0osSUFFQWdKLEVBQUFxSyxPQUFBLENBQ0F0VyxJQUFBaVcsRUFBQSw4RUFBQTdhLEVBQ0FtYixTQUFBLE9BQ0FDLEtBQUEsU0FBQWxOLEVBQUFtTixHQUNBL2IsTUFBQXVCLEVBQUEsK0NBQUFxTixHQUNBLEtBQUFBLEdBQ0E0TSxFQUFBQyxHQUFBVyxtQkFJQWpjLE1BQUEsU0FBQXlPLEVBQUFtTixHQUNBUCxFQUFBQyxHQUFBVyxrQkFDQXBjLE1BQUF1QixFQUFBLGtEQUtBcEIsTUFBQSxTQUFBeU8sRUFBQW1OLEdBQ0EvYixNQUFBdUIsRUFBQSw4QkFxQkF1VixHQTFNQSxDQTRNQTlYLE9BQUF1UyIsImZpbGUiOiJjdXN0b21pemF0aW9ucy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIERlZmluZXMgdGhlIEJvc2NoIENvbm5lY3QgbG9nZ2luZyBmdW5jdGlvbnMuIERvbid0IHVzZSBjb25zb2xlLiogaW4gYW55IGN1c3RvbSBKUyBjb2RlIG9mIEJvc2NoIENvbm5lY3QhXG4gKiBcbiAqIERvY3VtZW50YXRpb246IFRPRE9cbiAqIFxuICogQGF1dGhvcjogRGFuaWVsIEdsdWVjayA8ZGFuaWVsLmdsdWVja0BkZS5ib3NjaC5jb20+XG4gKiBAZGF0ZTogMTkuMDYuMjAxNVxuICogQGZpbGU6IGxvZ2dpbmcuanNcbiAqIEBiY3ZlcnNpb246IElCTSBDb25uZWN0aW9ucyA1LjAgQ1IyXG4gKiBAYmNGaXhWZXJzaW9uOiAyLjMuMFxuICovXG5cbiBcbihmdW5jdGlvbih3aW5kb3csIHVuZGVmaW5lZCkge1xuXG5cdC8vIENvbmZpZ3VyYXRpb25cblx0Ly8gVE9ETzogR2lidCBlcyBpbiBKUyBzb3dhcyB3aWUgc3RhdGlzY2hlIFZhcmlhYmxlLiBDb2RlIENvbnZldGlvbiBhbmFsb2cgSmF2YSwgZC5oLiBVcHBlcmFzZT9cblx0dmFyIERFQlVHID0gMTtcblx0dmFyIElORk8gPSAyO1xuXHR2YXIgV0FSTiA9IDM7XG5cdHZhciBFUlJPUiA9IDQ7XG5cdHZhciBPRkYgPSA1O1xuXHQvLyBUT0RPOiBNYWtlIHRoaXMgY29uZmlndXJhYmxlIHZpYSBkZXZlbG9wbWVudGJhci5cblx0dmFyIExPR0xFVkVMID0gSU5GTzsgLy8gTmV2ZXIgc2V0IHRoaXMgdG8gREVCVUcgaW4gUHJvZHVjdGlvbiEhIVxuXG5cdGlmIChDb29raWVzKFwiTE9HTEVWRUxcIikpIHtcblx0XHRMT0dMRVZFTCA9IENvb2tpZXMoXCJMT0dMRVZFTFwiKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGxvZ1N0cmluZyhsZXZlbCwgbW9kdWxlLCBjYWxsZXIsIG1lc3NhZ2UpIHtcblxuXHRcdHZhciBjYWxsZXJOYW1lID0gXCJ1bmtub3duXCI7XG5cdFx0aWYgKGNhbGxlciAhPT0gbnVsbCkge1xuXHRcdFx0Y2FsbGVyTmFtZSA9IGNhbGxlci5uYW1lO1xuXHRcdFx0aWYgKGNhbGxlck5hbWUgPT09IFwiXCIpIHtcblx0XHRcdFx0Y2FsbGVyTmFtZSA9IFwidW5rbm93blwiO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBmb3JtYXR0ZWREYXRlID0gbW9tZW50KG5ldyBEYXRlKCkpO1xuXHRcdGZvcm1hdHRlZERhdGUubG9jYWxlKFwiZGVcIik7XG5cdFx0dmFyIHRpbWVzdGFtcCA9IFwiW1wiICsgZm9ybWF0dGVkRGF0ZS5mb3JtYXQoXCJERC5NTS5ZWSBISDptbTpzcy5TU1NcIikgKyBcIl1cIjtcblxuXHRcdGlmICh3aW5kb3cuY29uc29sZSkge1xuXHRcdFx0aWYgKGxldmVsID09PSBERUJVRyAmJiBMT0dMRVZFTCA8PSBERUJVRykge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKHRpbWVzdGFtcCArIFwiIERFQlVHIFtcIiArIG1vZHVsZSArIFwiXSBcIiArIFwiW1wiICsgY2FsbGVyTmFtZSArIFwiXVxcblwiICsgbWVzc2FnZSk7XG5cdFx0XHR9IGVsc2UgaWYgKGxldmVsID09PSBJTkZPICYmIExPR0xFVkVMIDw9IElORk8pIHtcblx0XHRcdFx0Y29uc29sZS5pbmZvKHRpbWVzdGFtcCArIFwiIElORk8gIFtcIiArIG1vZHVsZSArIFwiXSBcIiArIFwiW1wiICsgY2FsbGVyTmFtZSArIFwiXVxcblwiICsgbWVzc2FnZSk7XG5cdFx0XHR9IGVsc2UgaWYgKGxldmVsID09PSBXQVJOICYmIExPR0xFVkVMIDw9IFdBUk4pIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKHRpbWVzdGFtcCArIFwiIFdBUk4gIFtcIiArIG1vZHVsZSArIFwiXSBcIiArIFwiW1wiICsgY2FsbGVyTmFtZSArIFwiXVxcblwiICsgbWVzc2FnZSk7XG5cdFx0XHR9IGVsc2UgaWYgKGxldmVsID09PSBFUlJPUiAmJiBMT0dMRVZFTCA8PSBFUlJPUikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKHRpbWVzdGFtcCArIFwiIEVSUk9SIFtcIiArIG1vZHVsZSArIFwiXSBcIiArIFwiW1wiICsgY2FsbGVyTmFtZSArIFwiXVxcblwiICsgbWVzc2FnZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZGVidWcgPSBmdW5jdGlvbihtb2R1bGUsIG1lc3NhZ2UpIHtcblx0XHRsb2dTdHJpbmcoREVCVUcsIG1vZHVsZSwgYXJndW1lbnRzLmNhbGxlZS5jYWxsZXIsIG1lc3NhZ2UpO1xuXHR9O1xuXG5cdGluZm8gPSBmdW5jdGlvbihtb2R1bGUsIG1lc3NhZ2UpIHtcblx0XHRsb2dTdHJpbmcoSU5GTywgbW9kdWxlLCBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciwgbWVzc2FnZSk7XG5cdH07XG5cblx0d2FybiA9IGZ1bmN0aW9uKG1vZHVsZSwgbWVzc2FnZSkge1xuXHRcdGxvZ1N0cmluZyhXQVJOLCBtb2R1bGUsIGFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyLCBtZXNzYWdlKTtcblx0fTtcblxuXHRlcnJvciA9IGZ1bmN0aW9uKG1vZHVsZSwgbWVzc2FnZSkge1xuXHRcdGxvZ1N0cmluZyhFUlJPUiwgbW9kdWxlLCBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciwgbWVzc2FnZSk7XG5cdH07XG5cblx0Ly8gcG9wdWxhdGUgbG9nIGZ1bmN0aW9ucyB0byBnbG9iYWwgd2luZG93KCkgb2JqZWN0LlxuXHR3aW5kb3cuZGVidWcgPSBkZWJ1Zztcblx0d2luZG93LmluZm8gPSBpbmZvO1xuXHR3aW5kb3cud2FybiA9IHdhcm47XG5cdHdpbmRvdy5lcnJvciA9IGVycm9yO1xufSh3aW5kb3cpKTtcbiIsIihmdW5jdGlvbih3aW5kb3csICQsIHVuZGVmaW5lZCkge1xuXG5cdC8qKiBFUFRBQ1QtMTIzMCB0b2dnbGUgQkVPIGV4cGVydCB2YWx1ZSBpbiBwcm9maWxlICoqL1xuXHR2YXIgc2hvd0JFT0V4cGVydExhYmVsID0gZnVuY3Rpb24oZGlzcGxheUxhbmcsIHVzZXJJZCkge1xuXHRcdHZhciBiZW9FeHBlcnRMYWJlbCA9IHtcblx0XHRcdGRlOiBcIkJFTyBFeHBlcnRlXCIsXG5cdFx0XHRlbjogXCJCRU8gRXhwZXJ0XCJcblx0XHR9O1xuXG5cdFx0dmFyIGxhbmd1YWdlID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdGlmIChkaXNwbGF5TGFuZyBpbiBiZW9FeHBlcnRMYWJlbCkge1xuXHRcdFx0XHRyZXR1cm4gZGlzcGxheUxhbmc7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBcImVuXCI7XG5cblx0XHR9KCk7XG5cblx0XHR2YXIgYmVvTGluayA9ICQoJzxhIC8+JykgLmF0dHIoe1xuXHRcdFx0ICBocmVmOiAnL3Byb2ZpbGVzL2h0bWwvcHJvZmlsZVZpZXcuZG8/dXNlcmlkPScgKyB1c2VySWQgKyAnJnNlY3Rpb249YmVvSW5mb3JtYXRpb24nXG5cdFx0XHR9KS5odG1sKGJlb0V4cGVydExhYmVsW2xhbmd1YWdlXSk7XG5cdFx0XHRcblx0XHQkKFwiLmJlb0V4cGVydExhYmVsXCIpLmh0bWwoYmVvTGluaykuc2hvdygpO1xuXHR9O1xuXG5cdHdpbmRvdy5zaG93QkVPRXhwZXJ0TGFiZWwgPSBzaG93QkVPRXhwZXJ0TGFiZWw7XG5cbn0od2luZG93LCBqUXVlcnkpKTsiLCIvKipcbiAqIEJvc2NoIENvbm5lY3QgQ3VzdG9taXphdGlvbnNcbiAqXG4gKiBAYXV0aG9yOiAgICAgICBEYW5pZWwgR2x1ZWNrIDxkYW5pZWwuZ2x1ZWNrQGRlLmJvc2NoLmNvbT5cbiAqIEBhdXRob3I6ICAgICAgIERhbmllbCBUb2dlbGFuZyA8ZGFuaWVsLnRvZ2VsYW5nQGRlLmJvc2NoLmNvbT5cbiAqIEBkYXRlOiAgICAgICAgIDE1LjEwLjIwMTVcbiAqIEBmaWxlOiAgICAgICAgIGNvbnRhY3RJbmZvcm1hdGlvbi5qc1xuICogQGJjdmVyc2lvbjogICAgSUJNIENvbm5lY3Rpb25zIDUuMCBDUjNcbiAqIEBiY0ZpeFZlcnNpb246IDIuMy4xXG4gKlxuICogQ3VzdG9tIEphdmFzY3JpcHQgZm9yIHRoZSBQcm9maWxlcyA+IENvbnRhY3QgSW5mb3JtYXRpb24gdGFiXG4gKi9cblxuKGZ1bmN0aW9uKHdpbmRvdywgJCwgdW5kZWZpbmVkKSB7XG5cblx0dmFyIExPR19JRCA9IFwiY29udGFjdEluZm9ybWF0aW9uXCI7XG5cblx0dmFyIGRpYWxvZ0Nsb3NpbmdUaW1lID0gMzAwLFxuXHRcdGRpYWxvZ09wZW5pbmdUaW1lID0gNTAwLFxuXHRcdGF1dG9DbG9zZURpYWxvZ1RpbWVyLFxuXHRcdGF1dG9PcGVuRGlhbG9nVGltZXI7XG5cblx0Ly8gaW5pdGlhbGx5IGRlbGVnYXRlIGEgbW91c2VlbnRlciBldmVudCB0byAjb3JnVW5pdFNlYXJjaFxuXG5cdCQoXCIubG90dXNQcm9maWxlcywgLm15UHJvZmlsZVwiKS5vbihcIm1vdXNlZW50ZXJcIiwgXCIjb3JnVW5pdFNlYXJjaFwiLCBmdW5jdGlvbigpIHtcblxuXHRcdC8vIHdlIG5lZWQgYSB0cnkvY2F0Y2ggYmxvY2sgaGVyZSwgYmVjYXVzZSB0aGUgZmlyc3QgdGltZSBcblx0XHQvLyB0aGUgZGlhbG9nIGlzIG5vdCBpbml0aWFsaXNlZCBhbmQgdGhlcmVmb3JlIGRpYWxvZyhcImlzT3BlblwiKVxuXHRcdC8vIGlzIG5vdCBhdmFpbGFibGUuXG5cdFx0dHJ5IHtcblxuXHRcdFx0aWYgKCQoJy5kaWFsb2ctb3JnVW5pdFNlYXJjaCcpLmRpYWxvZygnaXNPcGVuJykpIHtcblx0XHRcdFx0Y2FuY2VsVGltZXJUb0tlZXBEaWFsb2dPcGVuKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdGFydFRpbWVyVG9PcGVuRGlhbG9nKCk7XG5cdFx0XHR9XG5cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRzdGFydFRpbWVyVG9PcGVuRGlhbG9nKCk7XG5cdFx0fVxuXHR9KTtcblxuXG5cdCQoXCIubG90dXNQcm9maWxlcywgLm15UHJvZmlsZVwiKS5vbihcIm1vdXNlbGVhdmVcIiwgXCIjb3JnVW5pdFNlYXJjaFwiLCBmdW5jdGlvbigpIHtcblxuXHRcdHRyeSB7XG5cdFx0XHRpZiAoJCgnLmRpYWxvZy1vcmdVbml0U2VhcmNoJykuZGlhbG9nKCdpc09wZW4nKSkge1xuXHRcdFx0XHRzdGFydFRpbWVyVG9DbG9zZURpYWxvZygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3RvcFRpbWVyVG9PcGVuRGlhbG9nKCk7XG5cdFx0XHR9XG5cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRzdG9wVGltZXJUb09wZW5EaWFsb2coKTtcblx0XHR9XG5cdH0pO1xuXG5cblx0ZnVuY3Rpb24gc3RhcnRUaW1lclRvT3BlbkRpYWxvZygpIHtcblxuXHRcdGRlYnVnKFwic3RhcnRUaW1lclRvT3BlbkRpYWxvZ1wiKTtcblx0XHRhdXRvT3BlbkRpYWxvZ1RpbWVyID0gc2V0VGltZW91dChzaG93T3JnVW5pdERpYWxvZywgZGlhbG9nT3BlbmluZ1RpbWUpO1xuXHR9XG5cblx0ZnVuY3Rpb24gc3RvcFRpbWVyVG9PcGVuRGlhbG9nKCkge1xuXG5cdFx0ZGVidWcoXCJzdGFydFRpbWVyVG9DbG9zZURpYWxvZ1wiKTtcblx0XHRjbGVhclRpbWVvdXQoYXV0b09wZW5EaWFsb2dUaW1lcik7XG5cdH1cblxuXHRmdW5jdGlvbiBzdGFydFRpbWVyVG9DbG9zZURpYWxvZygpIHtcblx0XHRkZWJ1ZyhcInN0YXJ0VGltZXJUb0Nsb3NlRGlhbG9nXCIpO1xuXHRcdGF1dG9DbG9zZURpYWxvZ1RpbWVyID0gc2V0VGltZW91dChjbG9zZU9yZ1VuaXREaWFsb2csIGRpYWxvZ0Nsb3NpbmdUaW1lKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNhbmNlbFRpbWVyVG9LZWVwRGlhbG9nT3BlbigpIHtcblx0XHRkZWJ1ZyhcImNhbmNlbFRpbWVyVG9LZWVwRGlhbG9nT3BlblwiKTtcblx0XHRjbGVhclRpbWVvdXQoYXV0b0Nsb3NlRGlhbG9nVGltZXIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2xvc2VPcmdVbml0RGlhbG9nKCkge1xuXHRcdGRlYnVnKFwiY2xvc2VPcmdVbml0RGlhbG9nXCIpO1xuXHRcdCQoJy5kaWFsb2ctb3JnVW5pdFNlYXJjaCcpLmRpYWxvZygnY2xvc2UnKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNob3dPcmdVbml0RGlhbG9nKCkge1xuXG5cdFx0JCgnLmRpYWxvZy1vcmdVbml0U2VhcmNoJykuZGlhbG9nKHtcblx0XHRcdHBvc2l0aW9uOiB7XG5cdFx0XHRcdG15OiAnbGVmdCB0b3AnLFxuXHRcdFx0XHRhdDogJ2xlZnQgdG9wKzIwJyxcblx0XHRcdFx0b2Y6ICcjb3JnVW5pdFNlYXJjaCdcblx0XHRcdH0sXG5cdFx0XHRkcmFnZ2FibGU6IGZhbHNlLFxuXHRcdFx0aGVpZ2h0OiAxMzAsXG5cdFx0XHR3aWR0aDogMzUwLFxuXHRcdFx0b3BlbjogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG5cblx0XHRcdFx0Ly8gd2UgbmVlZCB0aGUgYmx1ciBoZXJlIHRvIHVuZm9jdXMgdGhlIGZpcnN0IGxpbmsgdGhhdCBhdXRvbWF0aWNhbGx5IGdhaW5zIGZvY3VzXG5cdFx0XHRcdC8vIHdoZW4gZGlhbG9nIGlzIGdldHRpbmcgcmVuZGVyZWRcblx0XHRcdFx0JChcIi5kaWFsb2ctb3JnVW5pdFNlYXJjaCBhXCIpLmJsdXIoKTtcblxuXHRcdFx0XHQvLyBjbG9zZURpYWxvZyBpZiBubyBtb3VzZW92ZXIgZXZlbnQgaGFzIGJlZW4gcmVnaXN0ZXJlZC5cblxuXHRcdFx0XHQvLyB3ZSBhcmUgYWRkaW5nIHRoZSBtb3VzZWVudGVyIGV2ZW50IHRvIHRoZSBwYXJlbnQgZWxlbWVudFxuXHRcdFx0XHQvLyBiZWNhdXNlIHRoZSBkaWFsb2cgdGl0bGUgZWxlbWVudCBpcyBub3QgYSBjaGlsZHJlbiBvZiAjZGlhbG9nLW9yZ1VuaXRTZWFyY2hcblx0XHRcdFx0JChcIi5kaWFsb2ctb3JnVW5pdFNlYXJjaFwiKS5wYXJlbnQoKS5vbmUoXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0Y2FuY2VsVGltZXJUb0tlZXBEaWFsb2dPcGVuKCk7XG5cblx0XHRcdFx0XHRkZWJ1ZyhMT0dfSUQsIFwiTW91c2UgRU5URVJFRCB0aGUgI2RpYWxvZy1vcmdVbml0U2VhcmNoXCIpO1xuXG5cdFx0XHRcdFx0Ly8gaWYgdXNlciBtb3VzZSBtb3ZlZCBpbnRvIHRoZSBkaWFsb2cgd2UgY2xlYXIgdGhlIGF1dG8gY2xvc2UgZGlhbG9nIHRpbWVyLiBcblx0XHRcdFx0XHQvLyBjbGVhclRpbWVvdXQoYXV0b0Nsb3NlRGlhbG9nVGltZXIpO1xuXG5cdFx0XHRcdFx0Ly8gY2xvc2luZyB0aGUgZGlhbG9nIGFmdGVyIFggbXMgd2hlbiBtb3VzZSBsZWZ0IHRoZSBkaWFsb2cgXG5cdFx0XHRcdFx0JChcIi5kaWFsb2ctb3JnVW5pdFNlYXJjaFwiKS5wYXJlbnQoKS5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdGRlYnVnKExPR19JRCwgXCJNb3VzZSBMRUZUIHRoZSAjZGlhbG9nLW9yZ1VuaXRTZWFyY2hcIik7XG5cblx0XHRcdFx0XHRcdHN0YXJ0VGltZXJUb0Nsb3NlRGlhbG9nKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cbn0od2luZG93LCBqUXVlcnkpKTtcbiIsIi8qKlxuICogQm9zY2ggQ29ubmVjdCBDdXN0b21pemF0aW9uc1xuICpcbiAqIEBhdXRob3I6ICAgICAgIERhbmllbCBUb2dlbGFuZyA8ZGFuaWVsLnRvZ2VsYW5nQGRlLmJvc2NoLmNvbT5cbiAqIEBkYXRlOiAgICAgICAgIDE4LjA0LjIwMTZcbiAqIEBmaWxlOiAgICAgICAgIGN1c3RvbWl6YXRpb25zLmpzXG4gKiBAYmN2ZXJzaW9uOiAgICBJQk0gQ29ubmVjdGlvbnMgNS4wIENSMVxuICogQGJjRml4VmVyc2lvbjogMi4wLjRcbiAqXG4gKiBBbGwgamF2YXNjcmlwdCBjdXN0b21pemF0aW9ucyBmb3IgQm9zY2ggQ29ubmVjdCB3aWxsIGJlIGluY2x1ZGVkXG4gKiBpbiB0aGlzIGZpbGUuIEJlY2F1c2UgdGhpcyBmaWxlcyBpcyBpbiB0aGUgaHRkb2NzIGRpcmVjdG9yeSxcbiAqIGNoYW5nZXMgY2FuIGJlIG1hZGUgd2l0aG91dCByZXN0YXJ0aW5nIGFueSBXQVMgc2VydmVycy9hcHBsaWNhdGlvbnMuXG4gKi9cblxuKGZ1bmN0aW9uKHdpbmRvdywgJCwgdW5kZWZpbmVkKSB7XG5cblx0JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCB0byBoaWRlIHRoZSBib2R5IGZvciBqdXN0IGEgYml0ICB1bnRpbCBvdXIgY3NzIGlzIGxvYWRlZCBhbmQgcmVuZGVyZWRcblx0XHQvLyBzbyB3ZSBkb250IHNlZSBJQk0ncyBcImJsYWNrXCIgVGhlbWUuXG5cdFx0dmFyIHNob3dJQk1UaGVtZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cdFx0fSgpO1xuXG5cblx0XHQvLyBSZW1vdmluZyB0aGUgZW1wdHkgYm94IG9uIHRoZSBsZWZ0IHNpZGUgd2hlbiBjcmVhdGluZyBhIG5ldyBjb21tdW5pdHlcblx0XHQvKlxuXHRcdHZhciByZW1vdmVDb21tdW5pdGllc0xlZnRCb3ggPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIGlzQ29tbXVuaXR5QWN0aXZlID0gJChcIiNsb3R1c0Jhbm5lckNvbW11bml0aWVzXCIpLmhhc0NsYXNzKFwibG90dXNTZWxlY3RlZFwiKSxcblx0XHRcdFx0Ly8gY2hpbGRyZW4oKSByZXR1cm5zIGFuIGFycmF5IHRoYXRzIHdoeSB3ZSBjaGVjayBmb3IgdGhlIGxlbmd0aFxuXHRcdFx0XHRoYXNDaGlsZHJlbiA9ICQoXCIjbG90dXNDb2xMZWZ0Q29udGVudFwiKS5jaGlsZHJlbigpLmxlbmd0aDtcblxuXHRcdFx0aWYgKGlzQ29tbXVuaXR5QWN0aXZlICYmICFoYXNDaGlsZHJlbikge1xuXHRcdFx0XHQkKFwiI2xvdHVzQ29sTGVmdFwiKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSgpO1xuXHRcdCAqL1xuXG5cblx0XHQvKiogRVBUQUNULTE2OTUgdG8gYWRhcHQgY3NzIG9mIHRyYW5zbGF0ZSBidXR0b24gKiovXG5cdFx0dmFyIGFkYXB0Q3NzVHJhbnNsYXRlQnV0dG9uID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdGlmICgkKFwiI3JldmVyc29IZWFkZXJCdG5cIikuaGFzQ2xhc3MoXCJsb3R1c0Jhbm5lckJ0blwiKSkge1xuXHRcdFx0XHQkKFwiI3JldmVyc29IZWFkZXJCdG5cIikucmVtb3ZlQ2xhc3MoXCJsb3R1c0Jhbm5lckJ0blwiKTtcblx0XHRcdH1cblxuXHRcdH0oKTtcblxuXG5cdFx0LyoqIEVQVEFDVC0xODI4LVNUQVJUUyAtdG8gYWRkIHVybCBzaG9ydG5lciAqKi9cblx0XHR2YXIgYWRkVXJsU2hvcnRuZXJMaW5rID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdXJsU2hvcnRuZXJMaW5rID0ge1xuXHRcdFx0XHRkZXZVcmw6ICdodHRwOi8va29yYnNidm0yOS5hcGFjLmJvc2NoLmNvbTo4MDgxLz91cmw9Jyxcblx0XHRcdFx0cFVybDogJ2h0dHA6Ly9ib3MuY2gvP3VybD0nXG5cdFx0XHR9O1xuXG5cdFx0XHQkKFwiI3VybFNob3J0bmVyXCIpLmF0dHIoe1xuXHRcdFx0XHRocmVmOiB1cmxTaG9ydG5lckxpbmsucFVybCArIHdpbmRvdy5sb2NhdGlvbi5ocmVmXG5cdFx0XHR9KTtcblx0XHR9KCk7XG5cblxuXHRcdHZhciBhZGRNb2JpbGVMaW5rID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvL0VQVEFDVC0zMTMwOiBTb2x1dGlvbiBpbXBsZW1lbnRhdGlvbiBmb3IgTW9iaWxlIExpbmtlIEdlbmVyYXRvciBwcm9ibGVtXG5cdFx0XHRpZiAoIXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHtcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLm9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSArICh3aW5kb3cubG9jYXRpb24ucG9ydCA/ICc6JyArIHdpbmRvdy5sb2NhdGlvbi5wb3J0OiAnJyk7XG5cdFx0XHR9XG5cdFx0XHQvL0VORCBFUFRBQ1QtMzEzMDogU29sdXRpb24gaW1wbGVtZW50YXRpb24gZm9yIE1vYmlsZSBMaW5rZSBHZW5lcmF0b3IgcHJvYmxlbVxuXHRcdFx0JChcIiNtb2JpbGVMaW5rR2VuZXJhdG9yXCIpLmF0dHIoe1xuXHRcdFx0XHRocmVmOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9wdWJsaWMvbW9iaWxlbGluay9pbmRleC5odG1sP3VybD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5ocmVmKVxuXHRcdFx0fSk7XG5cdFx0fSgpO1xuXG5cdH0pO1xuXG59KSh3aW5kb3csIGpRdWVyeSk7XG4iLCIoZnVuY3Rpb24od2luZG93LCAkLCB1bmRlZmluZWQpIHtcblxuXHQvLyBpZiB1cmwgaGFzIGEgXCJkZXY9dHJ1ZVwiIHBhcmFtZXRlclxuXHQvLyBzaG93IGFkZGl0aW9uYWwgZGVidWdnaW5nIHRvb2xzIGluIGJvc2NoIGNvbm5lY3QgZnJvbnQgZW5kXG5cblx0dmFyIGN1cnJlbnRVcmwsXG5cdFx0c2hvd0RldkNvbnNvbGUsXG5cdFx0Y2xvc2VEZXZDb25zb2xlLFxuXHRcdHN3aXRjaFNlcnZlcixcblx0XHRpbml0LFxuXHRcdHNldEFjdGl2ZVNlcnZlcixcblx0XHRnZXRTZXJ2ZXJJbmZvLFxuXHRcdHJlbG9hZCxcblx0XHRyZWdpc3RlckV2ZW50cyxcblx0XHRyZW1vdmVDb29raWVzLFxuXHRcdHJlc2l6ZUFuZERyYWcsXG5cdFx0Y3JlYXRlU3dpdGNoU2VydmVyTWVudSxcblx0XHRzZXRBY3RpdmVDb25zb2xlTWVudSxcblx0XHRyZXNldERldkNvbnNvbGUsXG5cdFx0cmVzdG9yZURldkNvbnNvbGVQb3NpdGlvbkFuZFNpemUsXG5cdFx0JG9iaixcblx0XHRzZXR0aW5ncztcblxuXHR2YXIgTE9HX0lEID0gXCJjb20uYm9zY2guY29ubmVjdC5kZXZlbG9wbWVudGJhclwiO1xuXHRkZWJ1ZyhMT0dfSUQsIFwib25Mb2FkIGlzIGNhbGxlZFwiKTtcblxuXG5cblx0LyoqXG5cdCAqIFJldHVybiB0aGUgaVdpZGdldCBBdHRyaWJ1dGVzIGluIGEgYXNzb2NpYXRpdmUgQXJyYXkuXG5cdCAqIFxuXHQgKiBUT0RPOiBNb3ZlIHRoaXMgdG8gdXRpbHMgcGFja2FnZS5cblx0ICogXG5cdCAqIEtleTogQXR0cmlidXRlIE5hbWVcblx0ICogXG5cdCAqIFZhbHVlOiBBdHRyaWJ1dGUgdmFsdWVcblx0ICogXG5cdCAqIEBtZW1iZXJPZiBjb20uYm9zY2guY29ubmVjdC5kZXZlbG9wbWVudGJhclxuXHQgKi9cblxuXG5cdC8vIGdsb2JhbCBzZXR0aW5ncyBvYmplY3QgZm9yIHRoZSBkZXZlbG9wZXIgY29uc29sZVxuXG5cblx0c2V0dGluZ3MgPSB7XG5cblx0XHRkZXZDb25zb2xlVXJsUGFyYW1ldGVyOiAnZGV2PXRydWUnLCAvLyBhY3RpdmF0ZSB0aGUgZGV2IGNvbnNvbGUgYnkgaHR0cDovLy4uLi4/ZGV2PXRydWUgKHBhcmFtZXRlcilcblx0XHRkZXZDb25zb2xlQ29va2llTmFtZTogJ2RldmVsb3BlckNvbnNvbGUnLCAvLyBjb29raWUgbmFtZSBvZiB0aGUgZGV2IGNvbnNvbGVcblx0XHRkZXZDb25zb2xlTWVudUNvb2tpZU5hbWU6ICdkZXZDb25zb2xlQWN0aXZlTWVudScsIC8vIGNvb2tpZSBuYW1lIG9mIHRoZSBhY3RpdmUgZGV2IGNvbnNvbGUgbWVudVxuXHRcdGRlZmF1bHRTdGFydFVwTW9kdWxlOiAnc3dpdGNoU2VydmVyTW9kdWxlJyAvLyB1c2UgdGhlIHRpdGxlIG5hbWUgdGhlcmVmb3JlXG5cblx0fTtcblxuXHRjdXJyZW50VXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cblxuXHQvLyBnZXRTZXJ2ZXJJbmZvIHJldHVybnMgdGhlIGN1cnJlbnQgc2VydmVyIGluZm9ybWF0aW9uXG5cdC8vIGFzIGFuIG9iamVjdCB0byBlbnRlciBjb29raWVuYW1lLCBkb21haW4sIHNlcnZlciBhcnJheSwgLi4uXG5cdGdldFNlcnZlckluZm8gPSBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZXJ2ZXJJbmZvLFxuXHRcdFx0a2V5O1xuXG5cdFx0Ly8gbWFpbnRhaW5hbmNlIG9mIG91ciBzeXN0ZW0gbGluZXNcblx0XHRzZXJ2ZXJJbmZvID0ge1xuXG5cdFx0XHRxOiB7XG5cdFx0XHRcdGNvb2tpZURvbWFpbjogJy8vcmItY29ubmVjdC1xLmJvc2NoLmNvbScsXG5cdFx0XHRcdHVybDogJ3JiLWNvbm5lY3QtcS5ib3NjaC5jb20nLFxuXHRcdFx0XHRzZXJ2ZXI6IFsnZmUwdm0wNDUzOCcsICdzaTB2bTA0OTI0J11cblx0XHRcdH0sXG5cblx0XHRcdHBHcmV0ZWw6IHtcblx0XHRcdFx0Y29va2llRG9tYWluOiAnLy9jb25uZWN0LmJvc2NoLmNvbScsXG5cdFx0XHRcdHVybDogJ2Nvbm5lY3QuYm9zY2guY29tJyxcblx0XHRcdFx0c2VydmVyOiBbJ2ZlMHZtMDQ1MzknLCAnZmUwdm0wNDU0MCcsICdzaTB2bTA0OTE3JywgJ3NpMHZtMDQ5MTgnXVxuXHRcdFx0fSxcblxuXHRcdFx0cEhhZW5zZWw6IHtcblx0XHRcdFx0Y29va2llRG9tYWluOiAnLy9yYi1jb25uZWN0LW5leHQuYm9zY2guY29tJyxcblx0XHRcdFx0dXJsOiAncmItY29ubmVjdC1uZXh0LmJvc2NoLmNvbScsXG5cdFx0XHRcdHNlcnZlcjogWydmZTB2bTkxNicsICdzaTB2bTExMzMnXVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKiBcblx0XHQgKiBpdGVyYXRlIG92ZXIgc2VydmVySW5mbyBvYmplY3QgYW5kIFxuXHRcdCAqIGZldGNoIGN1cnJlbnQgc2VydmVyIGluZm9ybWF0aW9uXG5cdFx0ICogYWZ0ZXJ3YXJkcyByZXR1cm4gdGhlIHNlcnZlciBvYmplY3Rcblx0XHQgKiBvciBmYWxzZSBpZiB0aGUgY3VycmVudCB1cmwgaXMgbm90IGEgIFxuXHRcdCAqIG11bHRpIG5vZGUgc3lzdGVtLlxuXHRcdCAqL1xuXHRcdGZvciAoa2V5IGluIHNlcnZlckluZm8pIHtcblxuXHRcdFx0aWYgKHNlcnZlckluZm8uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXG5cblx0XHRcdFx0ZGVidWcoTE9HX0lELCBzZXJ2ZXJJbmZvW2tleV0udXJsKTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFVybC5pbmRleE9mKHNlcnZlckluZm9ba2V5XS51cmwpID49IDApIHtcblxuXHRcdFx0XHRcdHJldHVybiBzZXJ2ZXJJbmZvW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblxuXHQvLyBkaXNwbGF5IHRoZSBkZXZlbG9wZXIgY29uc29sZSBhbmQgc2V0IGEgY29va2llXG5cdC8vIHRoYXQgdGhlIGNvbnNvbGUgd2lsbCBiZSB2aXNpYmxlIGFzIGxvbmcgYXMgdGhlIGNvb2tpZSBpcyBub3QgZGVsZXRlZFxuXHRzaG93RGV2Q29uc29sZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0cmVzdG9yZURldkNvbnNvbGVQb3NpdGlvbkFuZFNpemUoKTtcblx0XHQkb2JqLmRldmJhci5zbGlkZURvd24oODAwKTtcblxuXHRcdGlmICghQ29va2llcyhzZXR0aW5ncy5kZXZDb25zb2xlQ29va2llTmFtZSkpIHtcblx0XHRcdENvb2tpZXMoc2V0dGluZ3MuZGV2Q29uc29sZUNvb2tpZU5hbWUsIFwidHJ1ZVwiLCB7XG5cdFx0XHRcdGV4cGlyZXM6IDcsXG5cdFx0XHRcdHBhdGg6ICcvJ1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Y3JlYXRlU3dpdGNoU2VydmVyTWVudSgpO1xuXHRcdHNldEFjdGl2ZVNlcnZlcigpO1xuXHR9O1xuXG5cdGNsb3NlRGV2Q29uc29sZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0ZGVidWcoTE9HX0lELCBcImNsb3NlRGV2Q29uc29sZSBhbmQgcmVtb3ZlIGNvb2tpZVwiKTtcblx0XHQkb2JqLmRldmJhci5zbGlkZVVwKCk7XG5cdFx0cmVtb3ZlQ29va2llcyh0cnVlKTtcblxuXHR9O1xuXG5cdHJlbW92ZUNvb2tpZXMgPSBmdW5jdGlvbihyZW1vdmVBbGwpIHtcblxuXHRcdGlmIChyZW1vdmVBbGwpIHtcblx0XHRcdENvb2tpZXMucmVtb3ZlKHNldHRpbmdzLmRldkNvbnNvbGVDb29raWVOYW1lLCB7XG5cdFx0XHRcdHBhdGg6ICcvJ1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Q29va2llcy5yZW1vdmUoc2V0dGluZ3MuZGV2Q29uc29sZUNvb2tpZU5hbWUgKyBcIkxlZnRcIiwge1xuXHRcdFx0cGF0aDogJy8nXG5cdFx0fSk7XG5cdFx0Q29va2llcy5yZW1vdmUoc2V0dGluZ3MuZGV2Q29uc29sZUNvb2tpZU5hbWUgKyBcIlRvcFwiLCB7XG5cdFx0XHRwYXRoOiAnLydcblx0XHR9KTtcblx0XHRDb29raWVzLnJlbW92ZShzZXR0aW5ncy5kZXZDb25zb2xlQ29va2llTmFtZSArIFwiV2lkdGhcIiwge1xuXHRcdFx0cGF0aDogJy8nXG5cdFx0fSk7XG5cdFx0Q29va2llcy5yZW1vdmUoc2V0dGluZ3MuZGV2Q29uc29sZUNvb2tpZU5hbWUgKyBcIkhlaWdodFwiLCB7XG5cdFx0XHRwYXRoOiAnLydcblx0XHR9KTtcblxuXHR9O1xuXG5cdC8vIHJlc2l6ZSBhbmQgZHJhZyBkZXZDb25zb2xlXG5cdHJlc2l6ZUFuZERyYWcgPSBmdW5jdGlvbih0YXJnZXQpIHtcblxuXHRcdHZhciAkcmVzaXplQnV0dG9uID0gJChcIi5pY29uLXBvcHVwLnJlc2l6ZVwiKTtcblxuXHRcdGRlYnVnKExPR19JRCwgXCJyZXNpemUgYW5kIGRyYWcgZGV2Q29uc29sZVwiKTtcblx0XHRkZWJ1ZyhMT0dfSUQsIHRhcmdldCk7XG5cblxuXHRcdGlmICgkb2JqLmRldmJhci5oYXNDbGFzcyhcInVpLWRyYWdnYWJsZVwiKSkge1xuXG5cdFx0XHQkcmVzaXplQnV0dG9uLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdFx0cmVzZXREZXZDb25zb2xlKCk7XG5cblx0XHR9IGVsc2Uge1xuXG5cblx0XHRcdCRvYmouZGV2YmFyLmFkZENsYXNzKFwidWktZHJhZ2dhYmxlXCIpO1xuXHRcdFx0JHJlc2l6ZUJ1dHRvbi5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblxuXHRcdFx0JG9iai5kZXZiYXIuZHJhZ2dhYmxlKHtcblxuXHRcdFx0XHRzdG9wOiBmdW5jdGlvbihldmVudCwgdWkpIHtcblxuXHRcdFx0XHRcdCRvYmouZGV2YmFyLmNzcyhcIm9wYWNpdHlcIiwgXCIxXCIpO1xuXHRcdFx0XHRcdGRlYnVnKExPR19JRCwgXCJkcmFnZ2luZyBzdG9wcGVkLlwiKTtcblxuXHRcdFx0XHRcdC8vIHNldCBjb29raWUgd2l0aCBwb3NpdGlvbiBpbmZvcm1hdGlvbnMuXG5cdFx0XHRcdFx0cmVtb3ZlQ29va2llcygpO1xuXHRcdFx0XHRcdENvb2tpZXMoc2V0dGluZ3MuZGV2Q29uc29sZUNvb2tpZU5hbWUgKyBcIkxlZnRcIiwgJG9iai5kZXZiYXIucG9zaXRpb24oKS5sZWZ0LCB7XG5cdFx0XHRcdFx0XHRwYXRoOiAnLydcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRDb29raWVzKHNldHRpbmdzLmRldkNvbnNvbGVDb29raWVOYW1lICsgXCJUb3BcIiwgJG9iai5kZXZiYXIucG9zaXRpb24oKS50b3AsIHtcblx0XHRcdFx0XHRcdHBhdGg6ICcvJ1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRkcmFnOiBmdW5jdGlvbihldmVudCwgdWkpIHtcblx0XHRcdFx0XHQkb2JqLmRldmJhci5jc3MoXCJvcGFjaXR5XCIsIFwiMC41XCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0pLnJlc2l6YWJsZSh7XG5cblx0XHRcdFx0Ly8gc2V0IGNvb2tpZSB3aXRoIHNpemUgaW5mb3JtYXRpb25zLlxuXHRcdFx0XHRzdG9wOiBmdW5jdGlvbihldmVudCwgdWkpIHtcblx0XHRcdFx0XHRDb29raWVzKHNldHRpbmdzLmRldkNvbnNvbGVDb29raWVOYW1lICsgXCJXaWR0aFwiLCAkb2JqLmRldmJhci53aWR0aCgpLCB7XG5cdFx0XHRcdFx0XHRwYXRoOiAnLydcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRDb29raWVzKHNldHRpbmdzLmRldkNvbnNvbGVDb29raWVOYW1lICsgXCJIZWlnaHRcIiwgJG9iai5kZXZiYXIuaGVpZ2h0KCksIHtcblx0XHRcdFx0XHRcdHBhdGg6ICcvJ1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdG1pbkhlaWdodDogMTY1LFxuXHRcdFx0XHRtaW5XaWR0aDogNzAwLFxuXHRcdFx0XHRtYXhIZWlnaHQ6IDMyMixcblx0XHRcdFx0bWF4V2lkdGg6IHdpbmRvdy5zY3JlZW4ud2lkdGhcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXG5cdHJlc3RvcmVEZXZDb25zb2xlUG9zaXRpb25BbmRTaXplID0gZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIga2V5LFxuXHRcdFx0aXNNb2RpZmllZCxcblx0XHRcdGNvb2tpZXMgPSB7XG5cblx0XHRcdFx0dG9wOiBzZXR0aW5ncy5kZXZDb25zb2xlQ29va2llTmFtZSArIFwiVG9wXCIsXG5cdFx0XHRcdGxlZnQ6IHNldHRpbmdzLmRldkNvbnNvbGVDb29raWVOYW1lICsgXCJMZWZ0XCIsXG5cdFx0XHRcdGhlaWdodDogc2V0dGluZ3MuZGV2Q29uc29sZUNvb2tpZU5hbWUgKyBcIkhlaWdodFwiLFxuXHRcdFx0XHR3aWR0aDogc2V0dGluZ3MuZGV2Q29uc29sZUNvb2tpZU5hbWUgKyBcIldpZHRoXCJcblx0XHRcdH07XG5cblx0XHRkZWJ1ZyhMT0dfSUQsIFwiUmUtYWxpZ24gRGV2Q29uc29sZSBwb3NpdGlvbi4uXCIpO1xuXG5cblx0XHRmb3IgKGtleSBpbiBjb29raWVzKSB7XG5cblx0XHRcdGlmIChjb29raWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcblxuXHRcdFx0XHRpZiAoQ29va2llcyhjb29raWVzW2tleV0pKSB7XG5cblx0XHRcdFx0XHRkZWJ1ZyhMT0dfSUQsIENvb2tpZXMoY29va2llc1trZXldKSk7XG5cdFx0XHRcdFx0JG9iai5kZXZiYXIuY3NzKGtleSwgQ29va2llcyhjb29raWVzW2tleV0pICsgXCJweFwiKTtcblxuXHRcdFx0XHRcdGlzTW9kaWZpZWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGlzTW9kaWZpZWQpIHtcblx0XHRcdHJlc2l6ZUFuZERyYWcoKTtcblx0XHR9XG5cdH07XG5cblxuXG5cdHJlc2V0RGV2Q29uc29sZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0cmVtb3ZlQ29va2llcygpO1xuXG5cdFx0JG9iai5kZXZiYXIucmVtb3ZlQ2xhc3MoXCJ1aS1kcmFnZ2FibGVcIilcblx0XHRcdC5yZW1vdmVBdHRyKCdzdHlsZScpXG5cdFx0XHQucmVzaXphYmxlKCdkZXN0cm95Jylcblx0XHRcdC5kcmFnZ2FibGUoJ2Rlc3Ryb3knKVxuXHRcdFx0LmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKVxuXHRcdFx0LmNzcyhcIm92ZXJmbG93XCIsIFwiaGlkZGVuXCIpO1xuXHR9O1xuXG5cblxuXHQvLyBzZXRBY3RpdmVTZXJ2ZXIgaXMgbmVlZGVkIHRvIGhpZ2hsaWdodCB0aGUgYnV0dG9uIHdpdGggdGhlIGN1cnJlbnQgbm9kZS5cblx0Ly8gdGhlcmVmb3Igd2UgY2hlY2sgZm9yIHRoZSBjdXJyZW50IHRhcmdldG5vZGUgY29va2llIGFuZCBhZGQgdGhlIGNsYXNzPWFjdGl2ZVxuXHQvLyB0byB0aGUgYnV0dG9uXG5cdHNldEFjdGl2ZVNlcnZlciA9IGZ1bmN0aW9uKCkge1xuXG5cblx0XHR2YXIgY29va2llTmFtZSA9IFwiQkNUQVJHRVROT0RFXCI7XG5cblx0XHRkZWJ1ZyhMT0dfSUQsIFwic2V0QWN0aXZlU2VydmVyKClcIik7XG5cdFx0ZGVidWcoTE9HX0lELCBjb29raWVOYW1lKTtcblxuXG5cdFx0aWYgKENvb2tpZXMoY29va2llTmFtZSkpIHtcblxuXHRcdFx0dmFyIHRhcmdldE5vZGUgPSBDb29raWVzKGNvb2tpZU5hbWUpO1xuXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdCQoXCIjc3dpdGNoU2VydmVyIGxpIGEuXCIgKyB0YXJnZXROb2RlKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblxuXHRcdFx0fSwgMCk7XG5cblx0XHRcdGRlYnVnKExPR19JRCwgXCJuYW1lOiAjc3dpdGNoU2VydmVyIGxpIGEuXCIgKyB0YXJnZXROb2RlKTtcblxuXHRcdH1cblxuXHR9O1xuXG5cblx0c2V0QWN0aXZlQ29uc29sZU1lbnUgPSBmdW5jdGlvbihhY3RpdmF0ZU1lbnUpIHtcblxuXHRcdHZhciBhY3RpdmVNZW51O1xuXG5cdFx0aWYgKGFjdGl2YXRlTWVudSkge1xuXG5cdFx0XHRDb29raWVzKHNldHRpbmdzLmRldkNvbnNvbGVNZW51Q29va2llTmFtZSwgYWN0aXZhdGVNZW51KTtcblxuXHRcdFx0YWN0aXZlTWVudSA9IGFjdGl2YXRlTWVudTtcblx0XHRcdGRlYnVnKExPR19JRCwgXCJuYW1lOiBcIiArIGFjdGl2YXRlTWVudSk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRhY3RpdmVNZW51ID0gQ29va2llcyhzZXR0aW5ncy5kZXZDb25zb2xlTWVudUNvb2tpZU5hbWUpID8gQ29va2llcyhzZXR0aW5ncy5kZXZDb25zb2xlTWVudUNvb2tpZU5hbWUpIDogc2V0dGluZ3MuZGVmYXVsdFN0YXJ0VXBNb2R1bGU7XG5cblx0XHRcdGRlYnVnKExPR19JRCwgYWN0aXZlTWVudSk7XG5cblx0XHR9XG5cblx0XHQkKFwiLmRldkNvbnNvbGVNb2R1bGUgYVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHQkKFwiLmRldkNvbnNvbGVNZW51IGFcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cblx0XHQkKFwiLmRldkNvbnNvbGVNb2R1bGUuXCIgKyBhY3RpdmVNZW51KS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHQkKFwiLmRldkNvbnNvbGVNZW51IC5cIiArIGFjdGl2ZU1lbnUpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXG5cdH07XG5cblxuXG5cdC8vIGNyZWF0ZVN3aXRjaFNlcnZlck1lbnUgbWV0aG9kIGNyZWF0ZSdzIGFuZCBkaXNwbGF5J3MgXG5cdC8vIGFsbCBhdmFpbGFibGUgbm9kZXMgZm9yIHRoZSBjdXJyZW50IHN5c3RlbSBsaW5lIGFuZCBhZGRzXG5cdC8vIHRoZSBvcHRpb25zIGFzIGxpc3QgZWxlbWVudHMgdG8gdGhlIHVsIGVsZW1lbnQgb2YgZGl2I3N3aXRjaFNlcnZlclxuXHRjcmVhdGVTd2l0Y2hTZXJ2ZXJNZW51ID0gZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgaGFzU2VydmVySW5mbyA9IGdldFNlcnZlckluZm8oKSxcblx0XHRcdGk7XG5cblx0XHRkZWJ1ZyhMT0dfSUQsIFwiaGFzU2VydmVySW5mbygpXCIpO1xuXG5cdFx0aWYgKGhhc1NlcnZlckluZm8pIHtcblxuXHRcdFx0JChcIiNzd2l0Y2hTZXJ2ZXIgdWwgbGlcIikucmVtb3ZlKCk7XG5cblx0XHRcdGZvciAoaSBpbiBoYXNTZXJ2ZXJJbmZvLnNlcnZlcikge1xuXG5cdFx0XHRcdC8qIGFwcGVuZGluZyBhIGNsaWNrYWJsZSBIVE1MLWVsZW1lbnQgbGlrZSB0aGlzIHRvIHRoZSBzZXJ2ZXJsaXN0XG5cdFx0XHRcdCAqXG5cdFx0XHRcdCAqIDxsaT48YSBjbGFzcz1cInN3aXRjaFNlcnZlciBzaTB2bTEwMDBcIiB0aXRsZT1cInNpMHZtMTAwMFwiPnNpMHZtMTAwMCBbTm9kZSAzXTwvYT48L2xpPlxuXHRcdFx0XHQgKi9cblxuXHRcdFx0XHR2YXIgbm9kZSA9IGhhc1NlcnZlckluZm8uc2VydmVyW2ldO1xuXG5cdFx0XHRcdCQoXCIjc3dpdGNoU2VydmVyIHVsXCIpXG5cdFx0XHRcdFx0LmFwcGVuZCgnPGxpPjxhIGNsYXNzPVwic3dpdGNoU2VydmVyICcgKyBub2RlICsgJ1wiIHRpdGxlPVwiJyArIG5vZGUgKyAnXCI+JyArXG5cdFx0XHRcdFx0XHRoYXNTZXJ2ZXJJbmZvLnNlcnZlcltpXSArICcgW05vZGUgJyArICgrK2kpICsgJ108L2xpPicpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXG5cdC8vIHN3aXRjaFNlcnZlciByZWNpZXZlcyB0aGUgbm9kZSBpZCBlLmcuIHNpMHZtYzAzODgsXG5cdC8vIHNldCB0aGUgYmNUYXJnZXROb2RlIGNvb2tpZSB0byB0aGUgbm9kZSBpZCwgXG5cdC8vIHJlbG9hZHMgdGhlIHBhZ2UgYW5kIHJlZGlyZWN0IHRvIHRoZSBzZWxlY3RlZCBub2RlXG5cdHN3aXRjaFNlcnZlciA9IGZ1bmN0aW9uKG5vZGVJZCkge1xuXG5cdFx0dmFyIGNvb2tpZU5hbWUgPSBcIkJDVEFSR0VUTk9ERVwiLFxuXHRcdFx0Y29va2llRG9tYWluID0gZ2V0U2VydmVySW5mbygpLmNvb2tpZURvbWFpbjtcblxuXHRcdGRlYnVnKExPR19JRCwgbm9kZUlkKTtcblxuXHRcdGRlYnVnKExPR19JRCwgY29va2llRG9tYWluKTtcblxuXHRcdENvb2tpZXMoY29va2llTmFtZSwgbm9kZUlkLCB7XG5cdFx0XHRleHBpcmVzOiAxLFxuXHRcdFx0cGF0aDogJy8nXG5cdFx0fSk7XG5cblx0XHQvLyB3ZSBuZWVkIGEgcmVsb2FkIGhlcmUgdG8gc2V0IHRoZSBuZXcgbm9kZVxuXHRcdHJlbG9hZCgpO1xuXHR9O1xuXG5cdC8vIHJlZ2lzdGVyRXZlbnRzIGlzIHVzZWQgdG8gcmVnaXN0ZXIgYWxsIGV2ZW50IGhhbmRsZXJzIHRvIG5lY2Vzc2FyeSBIVE1MIGVsZW1lbnRzXG5cdHJlZ2lzdGVyRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBvbkNsaWNrIGNsb3NlIGRldmJhclxuXHRcdCQoXCIjZGV2YmFyIC5jbG9zZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0Y2xvc2VEZXZDb25zb2xlKCk7XG5cdFx0fSk7XG5cblx0XHQvLyBvbkNsaWNrIGdldFNlcnZlcklkXG5cdFx0JChcIiNzd2l0Y2hTZXJ2ZXIgLnN3aXRjaFNlcnZlclwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdHN3aXRjaFNlcnZlcihlLnRhcmdldC50aXRsZSk7XG5cdFx0fSk7XG5cblx0XHQkKFwiLmRldkNvbnNvbGVNZW51IGFcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRzZXRBY3RpdmVDb25zb2xlTWVudShlLnRhcmdldC50aXRsZSk7XG5cdFx0fSk7XG5cblx0XHQkKFwiLmRldkNvbnNvbGVNZW51XCIpLm9uKFwiZGJsY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuXHRcdFx0ZGVidWcoTE9HX0lELCBcInJlc2l6ZUFuZERyYWcoKSBzdGFydC5cIik7XG5cdFx0XHRyZXNpemVBbmREcmFnKGUudGFyZ2V0KTtcblx0XHR9KTtcblxuXHRcdCQoXCIuZGV2YmFyLnJlc2l6ZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGRlYnVnKExPR19JRCwgXCJyZXNpemVBbmREcmFnKCkgc3RhcnQuXCIpO1xuXHRcdFx0cmVzaXplQW5kRHJhZyhlLnRhcmdldCk7XG5cdFx0fSk7XG5cdH07XG5cblx0Ly8gZm9yY2UgYnJvd3NlciByZWxvYWRcblx0Ly8gbWF5IGJlIG5lZWRlZCB0byByZW1vdmUvcmVsb2FkIGNvb2tpZXMgXG5cdHJlbG9hZCA9IGZ1bmN0aW9uKGhhc0RldkNvbnNvbGUpIHtcblxuXHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcblxuXHR9O1xuXG5cblx0Ly8gaW5pdGlhbGx5IGxvYWQgZG9tIGVsZW1lbnRzIGludG8gYW4gb2JqZWN0XG5cdC8vIHRvIHJlZHVjZSBkb20gYWNjZXNzIGFuZCB3cml0ZSBpdCB0byBhIGdsb2JhbCB2YXJpYWJsZVxuXHQvLyBhbmQgdXNlIHRoYXQgaW5zdGVhZCBvZiAkKCktU2VsZWN0b3IuXG5cdGluaXRKcXVlcnlEb21PYmplY3QgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgJGRvbU9iaiA9IHtcblxuXHRcdFx0ZGV2YmFyOiAkKFwiI2RldmJhclwiKVxuXG5cdFx0fTtcblxuXHRcdCRvYmogPSAkZG9tT2JqO1xuXHR9O1xuXG5cdC8vIGluaXQgZnVuY3Rpb25cblx0Ly8gbmVlZGVkIHRvIGV4ZWN1dGUgdGhlIHN0YXJ0aW5nIGxvZ2ljIG9mIGRldiBjb25zb2xlLlxuXHRpbml0ID0gZnVuY3Rpb24oKSB7XG5cblx0XHRkZWJ1ZyhMT0dfSUQsIFwicnVuIGluaXQoKSBmdW5jdGlvblwiKTtcblxuXHRcdGlmIChjdXJyZW50VXJsLmxhc3RJbmRleE9mKHNldHRpbmdzLmRldkNvbnNvbGVVcmxQYXJhbWV0ZXIpID4gMCB8fCBDb29raWVzKHNldHRpbmdzLmRldkNvbnNvbGVDb29raWVOYW1lKSkge1xuXG5cdFx0XHRkZWJ1ZyhMT0dfSUQsIFwicnVuIHNob3dEZXZDb25zb2xlKClcIik7XG5cblx0XHRcdGluaXRKcXVlcnlEb21PYmplY3QoKTtcblxuXHRcdFx0c2hvd0RldkNvbnNvbGUoKTtcblx0XHRcdHNldEFjdGl2ZUNvbnNvbGVNZW51KCk7XG5cdFx0XHRyZWdpc3RlckV2ZW50cygpO1xuXHRcdH1cblx0fSgpO1xuXG59KSh3aW5kb3csIGpRdWVyeSk7IC8vIGVuZGluZyBTSUFGLlxuIiwiKGZ1bmN0aW9uIGRpc2FibGVGb2xsb3dPcHRpb24od2luZG93LCAkLCB1bmRlZmluZWQpIHtcblxuXHR2YXIgTE9HX0lEID0gXCJEaXNhYmxlRm9sbG93T3B0aW9uXCI7XG5cblx0Ly8gRVBUQUNUIC0gMjA0MiAtIEN1c3RvbWl6ZSBmb2xsb3cgb3B0aW9uIHdoZW4gYWRkaW5nIHNvbWVvbmUgdG8geW91ciBuZXR3b3JrIC0gTm90IHdvcmtpbmcgaW4gQnVzaW5lc3MgQ2FyZFxuXHQvLyBlbmFibGUgdGhlIGV2ZW50ICBjbGljayBldmVudCBmb3IgYWxsIHBhZ2VzIGJlY2F1c2UgYnVzaW5lc3MgY2FyZHMgYXJlIGF2YWlsYWJsZSBpbiBhbGwgYXBwbGljYXRpb25zIFxuXHQvLyBvbiBjbGljayBsaXN0ZW5lciBmb3IgdGhlIGludml0ZSB0byBteSBuZXR3b3JrIGJ1dHRvblxuXG5cdCQoXCIubG90dXN1aVwiKS5vbihcImNsaWNrXCIsIFsnI2J0bl9hY3RuX19wZXJzb25DYXJkQWRkQXNNeUNvbGxlYWd1ZXMnLCAnLmxvdHVzTWVudVNlcGFyYXRvciAuZW1haWwnXSwgZnVuY3Rpb24oZSkge1xuXG5cblx0XHR2YXIgZXhlY3V0aW9uVGltZSA9IDA7XG5cdFx0dmFyIGludGVydmFsID0gMTAwOyAvLyBtc1xuXHRcdHZhciB0aW1lb3V0ID0gMzAwMDsgLy8gbXNcblx0XHR2YXIgd2FpdGluZ0ZvckRpYWxvZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIG9ubHkgaWYgdXNlciBjbGlja3Mgb24gb25lIG9mIHRoZSBmb2xsb3dpbmcgYnV0dG9ucy9saW5rcyAgXG5cdFx0XHQvLyB3ZSBjaGVjayBmb3IgdGhlIHVuL2ZvbGxvdyBjaGVja2JveFxuXHRcdFx0Ly9CT0NBLTYzMzE6IEZvbGxvdyBvcHRpb24gaW4gbmV0d29yayBpbnZpdGF0aW9uIGRpYWxvZ3VlIGlzIG5vdCB1bmNoZWNrZWQgYXV0b21hdGljYWxseVxuXHRcdFx0aWYgKCQoZS50YXJnZXQpLmF0dHIoJ2NsYXNzJykgPT09ICdlbWFpbCcgfHwgJChlLnRhcmdldCkuYXR0cignaWQnKSA9PT0gJ2J0bl9hY3RuX19wZXJzb25DYXJkQWRkQXNNeUNvbGxlYWd1ZXMnIHx8IGUudGFyZ2V0LnBhcmVudE5vZGUuaWQgPT09ICdidG5fYWN0bl9fcGVyc29uQ2FyZEFkZEFzTXlDb2xsZWFndWVzJyB8fCAkKGUudGFyZ2V0KS5hdHRyKCdkb2pvYXR0YWNocG9pbnQnKSA9PT0gJ0RZS01haW5JbnZpdGVQZXJzb24nKSB7XG5cblxuXHRcdFx0XHR2YXIgJGZvbGxvd0J1dHRvbiA9ICQoXCJpbnB1dFtuYW1lPSdpbnZpdGF0aW9uX2ZvbGxvdyddOnZpc2libGVcIik7XG5cblx0XHRcdFx0aWYgKCRmb2xsb3dCdXR0b24ubGVuZ3RoICE9PSAwKSB7XG5cblx0XHRcdFx0XHQkZm9sbG93QnV0dG9uLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG5cdFx0XHRcdFx0aW5mbyhMT0dfSUQsIFwiRm9sbG93IG9wdGlvbiB1bmNoZWNrZWRcIik7XG5cblx0XHRcdFx0XHRjbGVhckludGVydmFsKHdhaXRpbmdGb3JEaWFsb2dJbnRlcnZhbCk7XG5cblx0XHRcdFx0fSBlbHNlIGlmIChleGVjdXRpb25UaW1lID4gdGltZW91dCkge1xuXG5cdFx0XHRcdFx0Ly8gd2UgaGF2ZSB0byBzdG9wIHRoZSBpbnRlcnZhbCBhZnRlciBhIHByZS1kZWZpbmVkIHRpbWVvdXRcblx0XHRcdFx0XHRlcnJvcihMT0dfSUQsIFwiVGltZW91dCByZWFjaGVkISBUaGUgSW52aXRhdGlvbiBEaWFsb2cgaGFzIG5vdCBiZWVuIG9wZW5lZC5cIik7XG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCh3YWl0aW5nRm9yRGlhbG9nSW50ZXJ2YWwpO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRleGVjdXRpb25UaW1lICs9IGludGVydmFsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSwgaW50ZXJ2YWwpO1xuXG5cdH0pO1xuXG59KHdpbmRvdywgalF1ZXJ5KSk7XG4iLCIvKipcbiAqIEJvc2NoIENvbm5lY3QgQ3VzdG9taXphdGlvbnNcbiAqXG4gKiBAYXV0aG9yOiAgICAgICBEYW5pZWwgVG9nZWxhbmcgPGRhbmllbC50b2dlbGFuZ0BkZS5ib3NjaC5jb20+XG4gKiBAYXV0aG9yOiAgICAgICBTZXJoYW4gU2VuIDxmaXhlZC10ZXJtLnNlcmhhbi5zZW5AZGUuYm9zY2guY29tPlxuICogQGRhdGU6ICAgICAgICAgMDkuMTIuMjAxNVxuICogQGZpbGU6ICAgICAgICAgY3VzdG9taXphdGlvbnMuanNcbiAqIEBiY3ZlcnNpb246ICAgIElCTSBDb25uZWN0aW9ucyA1LjAgQ1IzXG4gKiBAYmNGaXhWZXJzaW9uOiAzLjIuMVxuICpcbiAqIEFsbCBqYXZhc2NyaXB0IGN1c3RvbWl6YXRpb25zIGZvciBCb3NjaCBDb25uZWN0IHdpbGwgYmUgaW5jbHVkZWRcbiAqIGluIHRoaXMgZmlsZS4gQmVjYXVzZSB0aGlzIGZpbGVzIGlzIGluIHRoZSBodGRvY3MgZGlyZWN0b3J5LFxuICogY2hhbmdlcyBjYW4gYmUgbWFkZSB3aXRob3V0IHJlc3RhcnRpbmcgYW55IFdBUyBzZXJ2ZXJzL2FwcGxpY2F0aW9ucy5cbiAqL1xuXG4gXG4vLyB1c2luZyB1bmRlZmluZWQgbGlrZSBzbyxcbi8vIGVuc3VyZXMgdGhhdCB1bmRlZmluZWQgaXMgcmVhbGx5IHVuZGVmaW5lZCAtXG4vLyB1bmRlZmluZWQgY291bGQgYmUgb3ZlcndyaXR0ZW4gd2l0aGluIHRoZSBnbG9iYWwganMgc2NvcGUuXG5cbihmdW5jdGlvbih3aW5kb3csICQsIHVuZGVmaW5lZCkge1xuXG5cdC8vIFN0cmljdCBtb2RlIG1ha2VzIHNldmVyYWwgY2hhbmdlcyB0byBub3JtYWwgSmF2YVNjcmlwdCBzZW1hbnRpY3MuIFxuXHQvLyBGaXJzdCwgc3RyaWN0IG1vZGUgZWxpbWluYXRlcyBzb21lIEphdmFTY3JpcHQgc2lsZW50IGVycm9ycyBieSBjaGFuZ2luZyB0aGVtIHRvIHRocm93IGVycm9ycy4gXG5cdC8vIFNlY29uZCwgc3RyaWN0IG1vZGUgZml4ZXMgbWlzdGFrZXMgdGhhdCBtYWtlIGl0IGRpZmZpY3VsdCBmb3IgSmF2YVNjcmlwdCBlbmdpbmVzIHRvIHBlcmZvcm0gb3B0aW1pemF0aW9uczogXG5cdC8vIHN0cmljdCBtb2RlIGNvZGUgY2FuIHNvbWV0aW1lcyBiZSBtYWRlIHRvIHJ1biBmYXN0ZXIgdGhhbiBpZGVudGljYWwgY29kZSB0aGF0J3Mgbm90IHN0cmljdCBtb2RlLiBcblx0Ly8gVGhpcmQsIHN0cmljdCBtb2RlIHByb2hpYml0cyBzb21lIHN5bnRheCBsaWtlbHkgdG8gYmUgZGVmaW5lZCBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgRUNNQVNjcmlwdC5cblx0Ly8gXG5cdC8vIE1vcmUgb246IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSmF2YVNjcmlwdC9SZWZlcmVuY2UvRnVuY3Rpb25zX2FuZF9mdW5jdGlvbl9zY29wZS9TdHJpY3RfbW9kZVxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvLyB1c2UgdGhlIGxvZyBvYmplY3QgdG8gbG9nIG1lc3NhZ2VzIGxpa2Ugc286XG5cdC8vIGxvZy5pbmZvKFwieW91ciBsb2cgbWVzc2FnZVwiKTtcblx0dmFyIGJjTm90aWZpZXIsIGJjU2Nyb2xsaW5nLCB1cmxUb0pzb24sIGpzb25SZXF1ZXN0O1xuXG5cdHZhciBzaG93QWdhaW5CdXR0b25UZXh0ID0gXCJSZW1pbmQgbWUgaW4gMiBkYXlzXCI7XG5cdHZhciBjbG9zZUZvcmV2ZXJCdXR0b25UZXh0ID0gXCJEbyBub3QgcmVtaW5kIG1lIGFnYWluXCI7XG5cblx0dXJsVG9Kc29uID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSArICcvYm9zY2hjb25uZWN0L3RoaXJkcGFydHkvbWFpbnRlbmFuY2Uvb3B0aW9ucy5qc29uJztcblxuXHQvLyBCb3NjaENvbm5lY3QgTm90aWZpZXIgT2JqZWN0XG5cdC8vIGhhbmRsZXMgY29va2llcyBhbmQgYW5pbWF0aW9uIG9mICNub3RpZmllckJveFxuXHRiY05vdGlmaWVyID0ge1xuXG5cdFx0aXNFbmFibGVkOiBmYWxzZSxcblx0XHQvLyBub3RpZmljYXRpb25JZDogVW5pcXVlLUlEIG9mIG5vdGlmaWNhdGlvbiwgdG8gZW5zdXJlIGV2ZXJ5IG5vdGlmaWNhdGlvbiBpcyB1bmlxdWUgYW5kIFxuXHRcdC8vIHRoZXJlZm9yIHZpc2libGUgdG8gZWFjaCB1c2VyIGFscmVhZHkgaGFzIHNldCB0aGUgXCJvbGRcIiBjb29raWUuXG5cdFx0bm90aWZpY2F0aW9uSWQ6IG51bGwsXG5cdFx0bm90aWZpZXJCb3g6ICQoJyNub3RpZmllckJveCcpLFxuXHRcdG5vdGlmaWVyQm94Q29udGVudDogJCgnI25vdGlmaWVyQm94IC5ub3RpZmllck1lc3NhZ2UgLmNvbnRlbnQnKSxcblxuXHRcdC8vIG5vdGlmaWVyQm94IGlzIGRpc3BsYXk6bm9uZSBieSBkZWZhdWx0XG5cdFx0c2hvdzogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLm5vdGlmaWVyQm94LmZhZGVJbigwKTtcblx0XHR9LFxuXG5cdFx0Ly8gYW5pbWF0ZSB0aGUgbm90aWZpZXJCb3ggaW50byB0aGUgaGVhZGVyXG5cdFx0YW5pbWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbm90aWZpZXJCb3hIZWlnaHQgPSB0aGlzLm5vdGlmaWVyQm94LmlubmVySGVpZ2h0KCksXG5cdFx0XHRcdG5vdGlmaWVyQm94SGVpZ2h0UHggPSBub3RpZmllckJveEhlaWdodCArICdweCc7XG5cblx0XHRcdHRoaXMubm90aWZpZXJCb3guZmFkZUluKDApXG5cdFx0XHRcdC5jc3Moe1xuXHRcdFx0XHRcdCdtYXJnaW4tdG9wJzogJy0nICsgbm90aWZpZXJCb3hIZWlnaHRQeFxuXHRcdFx0XHR9KVxuXHRcdFx0XHQuYW5pbWF0ZSh7XG5cdFx0XHRcdFx0J21hcmdpbi10b3AnOiAnMCdcblx0XHRcdFx0fSwgMTQwMCk7XG5cblx0XHR9LFxuXG5cdFx0Ly8gaWYgYW5pbWF0aW9uIHJhbiwgc2V0IGNvb2tpZVxuXHRcdHNldEFuaW1hdGlvbkNvb2tpZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRDb29raWVzKCdiY05vdGlmaWVySW5pdGlhbEFuaW1hdGlvbicgKyB0aGlzLm5vdGlmaWNhdGlvbklkLCAndHJ1ZScsIHtcblx0XHRcdFx0ZXhwaXJlczogOTk5LFxuXHRcdFx0XHRwYXRoOiAnLydcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRyZW1pbmRNZUxhdGVyOiBmdW5jdGlvbihleHBpcmVEdXJhdGlvbikge1xuXG5cdFx0XHRDb29raWVzKCdiY05vdGlmaWVySGlkZGVuJyArIHRoaXMubm90aWZpY2F0aW9uSWQsICd0cnVlJywge1xuXHRcdFx0XHRleHBpcmVzOiBleHBpcmVEdXJhdGlvbixcblx0XHRcdFx0cGF0aDogJy8nXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0bmV2ZXJSZW1pbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Q29va2llcygnYmNOb3RpZmllckhpZGRlbicgKyB0aGlzLm5vdGlmaWNhdGlvbklkLCAndHJ1ZScsIHtcblx0XHRcdFx0ZXhwaXJlczogOTk5LFxuXHRcdFx0XHRwYXRoOiAnLydcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRydW46IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRpZiAodGhpcy5pc0VuYWJsZWQpIHtcblxuXHRcdFx0XHQvLyBEbyBub3QgYW5pbWF0ZSB0aGUgbm90aWZpZXJCb3ggYWdhaW4sIGlmIGFuaW1hdGVkIGFscmVhZHkgb25jZS5cblx0XHRcdFx0Ly9pZiAoQ29va2llcygnYmNOb3RpZmllckluaXRpYWxBbmltYXRpb24nICsgdGhpcy5ub3RpZmljYXRpb25JZCkpIHtcblx0XHRcdFx0YmNOb3RpZmllci5zaG93KCk7XG5cdFx0XHRcdC8vfSBlbHNlIHtcblx0XHRcdFx0Ly8gIGJjTm90aWZpZXIuYW5pbWF0ZSgpO1xuXHRcdFx0XHQvLyAgYmNOb3RpZmllci5zZXRBbmltYXRpb25Db29raWUoKTtcblx0XHRcdFx0Ly99XG5cblx0XHRcdFx0Ly8gSGlkZSBub3RpZmllckJveCBpZiBjb29raWUgaXMgc2V0XG5cdFx0XHRcdGlmIChDb29raWVzKCdiY05vdGlmaWVySGlkZGVuJyArIHRoaXMubm90aWZpY2F0aW9uSWQpKSB7XG5cdFx0XHRcdFx0YmNOb3RpZmllci5ub3RpZmllckJveC5oaWRlKDApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2V0IGNvb2tpZSB0byBzaG93IG5vdGlmaWVyQm94IGFnYWluIGluIDIgZGF5c1xuXHRcdFx0XHQkKFwiLnJlbWluZE1lTGF0ZXJcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiY05vdGlmaWVyLm5vdGlmaWVyQm94LmhpZGUoKTtcblx0XHRcdFx0XHRiY05vdGlmaWVyLnJlbWluZE1lTGF0ZXIoMik7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIFNldCBjb29raWUgdG8gbmV2ZXIgc2hvdyBub3RpZmllckJveCBhZ2FpbiAgIFxuXHRcdFx0XHQkKFwiLm5ldmVyUmVtaW5kXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0YmNOb3RpZmllci5ub3RpZmllckJveC5oaWRlKCk7XG5cdFx0XHRcdFx0YmNOb3RpZmllci5uZXZlclJlbWluZCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH07IC8vIGVuZCBiY05vdGlmaWVyLlxuXG5cblx0Ly8gQm9zY2ggQ29ubmVjdCBzY3JvbGxpbmdcblx0YmNTY3JvbGxpbmcgPSB7XG5cblx0XHRvcHRpb25zOiB7XG5cdFx0XHRpc0VuYWJsZWQ6IGZhbHNlLFxuXHRcdFx0ZW5hYmxlU2Nyb2xsSGVpZ2h0QXQ6IDEzMSxcblx0XHRcdHNjcm9sbEVsZW1lbnQ6ICQoXCIjbm90aWZpZXJCb3hTbWFsbFwiKSxcblx0XHRcdGZhZGVJblRpbWU6IDEwMCxcblx0XHRcdGZhZGVPdXRUaW1lOiAxMDBcblx0XHR9LFxuXG5cdFx0Ly8gRGlzcGxheSBub3RpZmllckJveFNtYWxsIGlmIHNjcm9sbGVkID4xMzFweCB0byBib3R0b20gZGlyZWN0aW9uXG5cdFx0cnVuOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gXCJ0aGlzXCIgZnJlcXVlbnRseSBjaGFuZ2VzIHdoZW4gY2hhbmdpbmcgc2NvcGUgYnkgdXNpbmcgYSBuZXcgZnVuY3Rpb24gLCBcblx0XHRcdC8vIHlvdSBjYW4ndCBhY2Nlc3MgdGhlIG9yaWdpbmFsIHZhbHVlIGJ5IHVzaW5nIGl0LiBBbGlhc2luZyBpdCB0byBcIl9zZWxmXCIgYWxsb3dzIFxuXHRcdFx0Ly8geW91IHN0aWxsIHRvIGFjY2VzcyB0aGUgb3JpZ2luYWwgdmFsdWUgb2YgXCJ0aGlzXCIuIEluIHRoaXMgY2FzZSBcIl9zZWxmXCIgcmVmZXJlcyB0byBcblx0XHRcdC8vIHRoZSBcImJjU2Nyb2xsaW5nXCIgT2JqZWN0XG5cdFx0XHR2YXIgX3NlbGYgPSB0aGlzO1xuXG5cdFx0XHQkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIHNjcm9sbGluZyBiYXIgZW5hYmxpbmcgaWYgd2luZG93IHNjcm9sbGVkID4gZW5hYmxlU2Nyb2xsSGVpZ2h0QXRcblx0XHRcdFx0aWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+IF9zZWxmLm9wdGlvbnMuZW5hYmxlU2Nyb2xsSGVpZ2h0QXQgJiZcblx0XHRcdFx0XHRiY05vdGlmaWVyLm5vdGlmaWVyQm94LmlzKFwiOnZpc2libGVcIikpIHtcblxuXHRcdFx0XHRcdGlmICghQ29va2llcygnYmNOb3RpZmllckhpZGRlbicpKSB7XG5cdFx0XHRcdFx0XHRfc2VsZi5vcHRpb25zLnNjcm9sbEVsZW1lbnQuZmFkZUluKF9zZWxmLm9wdGlvbnMuZmFkZUluVGltZSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0X3NlbGYub3B0aW9ucy5zY3JvbGxFbGVtZW50LmZhZGVPdXQoX3NlbGYub3B0aW9ucy5mYWRlT3V0VGltZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHQvLyBjYWxsIHRoZSBhamF4IHJlcXVlc3Rcblx0anNvblJlcXVlc3QgPSAkLmFqYXgoe1xuXG5cdFx0dXJsOiB1cmxUb0pzb24sXG5cdFx0Y2FjaGU6IGZhbHNlLFxuXHRcdGRhdGFUeXBlOiBcImpzb25cIlxuXG5cdH0pLmRvbmUoZnVuY3Rpb24ob3B0aW9uc0ZpbGUpIHtcblxuXHRcdHZhciAkbm90aWZpZXJCb3ggPSAkKFwiI25vdGlmaWVyQm94XCIpLFxuXHRcdFx0JG5vdGlmaWVyQm94SWNvbiA9ICQoXCIjbm90aWZpZXJCb3hJY29uXCIpLFxuXHRcdFx0JG5vdGlmaWVyQm94Q29udGVudCA9ICQoXCIjbm90aWZpZXJCb3ggLmNvbnRlbnRcIiksXG5cdFx0XHQkbm90aWZpZXJMZWZ0QnV0dG9uID0gJChcIi5sZWZ0QnV0dG9uIC5ub3RpZmllckJ1dHRvblwiKSxcblx0XHRcdCRub3RpZmllclJpZ2h0QnV0dG9uID0gJChcIi5yaWdodEJ1dHRvbiAubm90aWZpZXJCdXR0b25cIiksXG5cdFx0XHQkbm90aWZpZXJDbG9zZUJ1dHRvbiA9ICQoXCIjbm90aWZpZXJCb3ggLmN1c3RvbUNsb3NlXCIpO1xuXG5cdFx0Ly8gSWYgdGhlIGhlYWRlciBwcm9wZXJ0eSBpcyBtaXNzaW5nLCBpdCBtZWFucyB0aGUgaGVhZGVyIGlzIGRpc2FibGVkLlxuXHRcdGlmICghb3B0aW9uc0ZpbGUuaGVhZGVyKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG5vdGlmaWVyT3B0aW9ucyA9IG9wdGlvbnNGaWxlLmhlYWRlcjtcblxuXHRcdC8vIHNldCBiY05vdGlmaWVySWQgYW5kIGlzRW5hYmxlZCBzdGF0dXNcblx0XHRiY05vdGlmaWVyLm5vdGlmaWNhdGlvbklkID0gbm90aWZpZXJPcHRpb25zLmlkO1xuXHRcdGJjTm90aWZpZXIuaXNFbmFibGVkID0gdHJ1ZTtcblxuXHRcdC8vIHNldCBjb2xvciBmb3Igbm90aWZpZXJcblx0XHRpZiAobm90aWZpZXJPcHRpb25zLmNvbG9yID09PSAnZ3JlZW4nIHx8IG5vdGlmaWVyT3B0aW9ucy5jb2xvciA9PT0gJ3JlZCcgfHwgbm90aWZpZXJPcHRpb25zLmNvbG9yID09PSAneWVsbG93Jykge1xuXHRcdFx0JG5vdGlmaWVyQm94LmFkZENsYXNzKG5vdGlmaWVyT3B0aW9ucy5jb2xvcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCRub3RpZmllckJveC5hZGRDbGFzcygncmVkJyk7XG5cdFx0fVxuXG5cblx0XHRpZiAobm90aWZpZXJPcHRpb25zLmljb24pIHtcblx0XHRcdCRub3RpZmllckJveEljb24ucmVwbGFjZVdpdGgobm90aWZpZXJPcHRpb25zLmljb24pO1xuXHRcdH1cblxuXHRcdC8vIHNldCBjb250ZW50IGZvciBub3RpZmllclxuXHRcdCRub3RpZmllckJveENvbnRlbnQuaHRtbChub3RpZmllck9wdGlvbnMudGV4dCk7XG5cblx0XHRpZiAobm90aWZpZXJPcHRpb25zLnVzZXJCdXR0b25zID09PSBcInRlbXBfYW5kX3Blcm1cIikge1xuXHRcdFx0JG5vdGlmaWVyTGVmdEJ1dHRvbi50ZXh0KHNob3dBZ2FpbkJ1dHRvblRleHQpO1xuXHRcdFx0JG5vdGlmaWVyUmlnaHRCdXR0b24udGV4dChjbG9zZUZvcmV2ZXJCdXR0b25UZXh0KTtcblx0XHRcdCRub3RpZmllckNsb3NlQnV0dG9uLmhpZGUoKTtcblx0XHR9IGVsc2UgaWYgKG5vdGlmaWVyT3B0aW9ucy51c2VyQnV0dG9ucyA9PT0gXCJwZXJtXCIpIHtcblx0XHRcdCRub3RpZmllckxlZnRCdXR0b24uaGlkZSgpO1xuXHRcdFx0JG5vdGlmaWVyUmlnaHRCdXR0b24uaGlkZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkbm90aWZpZXJMZWZ0QnV0dG9uLmhpZGUoKTtcblx0XHRcdCRub3RpZmllclJpZ2h0QnV0dG9uLmhpZGUoKTtcblx0XHRcdCRub3RpZmllckNsb3NlQnV0dG9uLmhpZGUoKTtcblx0XHR9XG5cblx0XHQvLyBmaW5hbGx5IHJ1biBiY05vdGlmaWVyIGFuZCBiY1Njcm9sbGluZ1xuXHRcdGJjTm90aWZpZXIucnVuKCk7XG5cdFx0YmNTY3JvbGxpbmcucnVuKCk7XG5cdH0pO1xuXG5cdGpzb25SZXF1ZXN0LmVycm9yKGZ1bmN0aW9uKCkge1xuXHRcdC8vIGxvZ2dlci5lcnJvcihcIk9oIG5vISBcXG4gVGhlcmUgb2NjdXJlZCBhbiBlcnJvciBmZXRjaGluZyBKU09OIGZyb20gXCIgKyB1cmxUb0pzb24pO1xuXHR9KTtcblxuXHQvLyB0aGUgbG9nZ2VyIGluc3RhbmNlIGlzIGJ1aWxkIHdpdGhpbiB0aGUgZm9vdGVyLmpzcC5cblx0Ly8gd2UgYXJlIHVzaW5nIHRoZSBsb2c0amF2YXNjcmlwdCAoK2luamVjdGluZyBhIGNvbnNvbGVBcGVuZGVyKS5cbn0od2luZG93LCBqUXVlcnkpKTtcbiIsIi8qKlxuICogQWRkIEh5cGVybGluayB0byBQcm9maWxlcyA+IENvbnRhY3QgSW5mb3JtYXRpb24gVGFiID4gQXNzaXN0YW50IGZpZWxkIChFUFRBQ1QtMjAxNClcbiAqIFxuICogQGF1dGhvcjogS3Jpc2huYW4gTW9oYW4gPGtyaXNobmFuLm1vaGFuQGluLmJvc2NoLmNvbT5cbiAqIEBhdXRob3I6IERhbmllbCBUb2dlbGFuZyA8ZGFuaWVsLnRvZ2VsYW5nQGRlLmJvc2NoLmNvbT5cbiAqIEBkYXRlOiAwNy4wOS4yMDE1XG4gKiBAZmlsZTogcmVuZGVyQnVzaW5lc3NDYXJkSGVscGVyLmpzXG4gKiBAYmN2ZXJzaW9uOiBJQk0gQ29ubmVjdGlvbnMgNS4wIENSM1xuICogQGJjRml4VmVyc2lvbjogMi4zLjBcbiAqL1xuXG4oZnVuY3Rpb24od2luZG93LCAkLCB1bmRlZmluZWQpIHtcblxuXHR2YXIgTE9HX0lEID0gXCJSZW5kZXJCdXNpbmVzc0NhcmRIZWxwZXJcIjtcblxuXHQvKipcblx0ICogQ2FsbHMgdGhlIFNlbWFudGljIHRhZyBzZXJ2aWNlIHdoaWNoIHBhcnNlcyB0aGUgRE9NIGFuZCBoZWxwcyB0byByZW5kZXIgdGhlIGJ1c2luZXNzIGNhcmRcblx0ICogQHBhcmFtIGVsZW1lbnRJZFxuXHQgKiBcblx0ICovXG5cdHZhciBjYWxsU2VtYW50aWNUYWdTZXJ2aWNlb25JRCA9IGZ1bmN0aW9uKGVsZW1lbnRJZCkge1xuXHRcdGRlYnVnKExPR19JRCwgXCJjYWxsU2VtYW50aWNUYWdTZXJ2aWNlb25JRFwiKTtcblx0XHRkZWJ1ZyhMT0dfSUQsIFwiZWxlbWVudElkXCIgKyBlbGVtZW50SWQpO1xuXG5cdFx0U2VtVGFnU3ZjLnBhcnNlRG9tKG51bGwsIGVsZW1lbnRJZCk7XG5cdH07XG5cblx0d2luZG93LmNhbGxTZW1hbnRpY1RhZ1NlcnZpY2VvbklEID0gY2FsbFNlbWFudGljVGFnU2VydmljZW9uSUQ7XG5cbn0od2luZG93LCBqUXVlcnkpKTtcbiIsIi8qXHJcbiAqIFZlcnNpb24gSW5mb1xyXG4gKiAtLS0tLS0tLS0tLS1cclxuICogVmVyc2lvbjogMS4xLjBcclxuICogSGFzaDogNTMzZjk4MzNhNDY0YjcyYjM2MjQyNzkwNWI4NTQ0YTMxNTEyZWQzMVxyXG4gKlxyXG4gKi9cclxudmFyIGNvbW11bmFyZG8gPSBjb21tdW5hcmRvIHx8IHtcclxuICAgIGNvbmZpZzoge1xyXG4gICAgICAgIHNoYXJlcG9pbnQ6IHtcclxuICAgICAgICAgICAgLyogY29udGFpbnMgdGhlIGhvc3RzIHdoaWNoIGFyZSB1c2VkIGFzIGEgY3JpdGVyaWEgdG8gaWRlbnRpZnkgU2hhcmVwb2ludCBsaW5rcyAtIHJlcXVpcmVkICovXHJcbiAgICAgICAgICAgIERPQ1VNRU5UX0hPU1RTOiBbXSxcclxuICAgICAgICAgICAgLyogdGhlIGhvc3Qgb2YgdGhlIFNoYXJlcG9pbnQgU2VhcmNoIEFQSSAtIHJlcXVpcmVkICovXHJcbiAgICAgICAgICAgIFNFQVJDSF9IT1NUOiAnJyxcclxuICAgICAgICAgICAgLyogdGhlIGNvbnRleHQgZm9yIHRoZSBTaGFyZXBvaW50IFNlYXJjaCBBUEkgKGlmIHRoZXJlIGlzIG9uZSkgLSByZXF1aXJlZCAqL1xyXG4gICAgICAgICAgICBTRUFSQ0hfQ09OVEVYVF9QQVRIOiAnJyxcclxuICAgICAgICAgICAgLyogdGhlIGluZGV4IGZpZWxkIG5hbWUgb2YgdGhlIGRvY3VtZW50IGlkIGluIFNoYXJlcG9pbnQgLSByZXF1aXJlZCAqL1xyXG4gICAgICAgICAgICBJTkRFWF9GSUVMRF9OQU1FX0RPQ1VNRU5UX0lEOiAnJyxcclxuICAgICAgICAgICAgLyogdGhlIGluZGV4IGZpZWxkIG5hbWUgb2YgdGhlIHBhdGggb2YgYSBkb2N1bWVudCBpbiBTaGFyZXBvaW50IC0gcmVxdWlyZWQgKi9cclxuICAgICAgICAgICAgSU5ERVhfRklFTERfTkFNRV9QQVRIOiAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJldmlld2NhcmQ6IHtcclxuICAgICAgICAgICAgLyogdGhlIHBhcmFtZXRlciBuYW1lIHdob3NlIHZhbHVlIHdpbGwgYmUgZmV0Y2hlZCBmcm9tIGFuIGVtYmVkZGVkIHVybCAtIHJlcXVpcmVkICovXHJcbiAgICAgICAgICAgIERPQ1VNRU5UX0lEX1BBUkFNX05BTUU6ICcnLFxyXG4gICAgICAgICAgICAvKiB0aGUgcmVtb3ZhbCBkZWxheSBvZiB0aGUgU2hhcmVwb2ludCBQcmV2aWV3Q2FyZCAtIHJlcXVpcmVkICovXHJcbiAgICAgICAgICAgIFJFTU9WQUxfREVMQVk6IDEwMDAsIC8vbXNcclxuICAgICAgICAgICAgLyogdGhlIHVybCBwYXJhbWV0ZXIgd2l0aCB2YWx1ZSB3aGljaCBwcmV2ZW50cyB0aGUgUHJldmlld0NhcmQgZnJvbSByZW5kZXJpbmcgKi9cclxuICAgICAgICAgICAgRElTQUJMRV9QUkVWSUVXX1BBUkFNRVRFUl9XSVRIX1ZBTFVFOiAnZGlzYWJsZVByZXZpZXc9dHJ1ZScsXHJcbiAgICAgICAgICAgIC8qIHRoZSB3aGl0ZWxpc3Qgb2YgZmlsZSBleHRlbnNpb25zIGZvciB3aGljaCBhIGN1c3RvbSBQcmV2aWV3Q2FyZCBpcyBidWlsZCAqL1xyXG4gICAgICAgICAgICBDVVNUT01fUFJFVklFV19GSUxFX0VYVEVOU0lPTlM6IFsnbXA0JywgJ21wMyddLFxyXG4gICAgICAgICAgICAvKiBhIG1hcCB3aGljaCBkZWZpbmVzIHRoZSBwcmV2aWV3IGltYWdlIG9mIHRoZSBtZWRpYSBmaWxlIHByZXZpZXcgdmlhIGEgZ2l2ZW4gZmlsZSBleHRlbnNpb24gKi9cclxuICAgICAgICAgICAgQ1VTVE9NX1BSRVZJRVdfRklMRV9QUkVWSUVXX0lNQUdFOiB7XHJcbiAgICAgICAgICAgICAgICAnbXA0JzogJy9fbGF5b3V0cy8xNS9pbWFnZXMvdmlkZW9wcmV2aWV3LnBuZycsXHJcbiAgICAgICAgICAgICAgICAnbXAzJzogJy9fbGF5b3V0cy8xNS9pbWFnZXMvYXVkaW9wcmV2aWV3LnBuZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXRpbHM6IHtcclxuICAgICAgICAgICAgLyogdGhlIGxvZ2dpbmcgY29udGV4dCAtIG5vIGFjdGlvbiByZXF1aXJlZCAqL1xyXG4gICAgICAgICAgICBMT0dfSURfU1A6IFwiY29tLmJvc2NoLnNoYXJlcG9pbnQucHJldmlld1wiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0cmFuc2xhdGlvbnM6IHtcclxuICAgICAgICAgICAgLyogdGhlIGRlZmF1bHQgbGFuZ3VhZ2UgZm9yIHRoZSBsb2NhbGl6YXRpb24gLSBubyBhY3Rpb24gcmVxdWlyZWQqL1xyXG4gICAgICAgICAgICBkZWZhdWx0TGFuZzogXCJlblwiXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB0cmFuc2xhdGlvbnM6IHtcclxuICAgICAgICBsb2NhbGU6IGRqQ29uZmlnLmxvY2FsZS5zcGxpdCgnLScpWzBdLFxyXG4gICAgICAgIGRlOiB7XHJcbiAgICAgICAgICAgIEVSUk9SX01TR19HRU5FUkFMOiBcIkVzIGlzdCBlaW4gRmVobGVyIGF1ZmdldHJldGVuLiBCaXR0ZSBrb250YWt0aWVyZW4gU2llIGVpbmVuIEFkbWluaXN0cmF0b3IgZsO8ciB3ZWl0ZXJlIEluZm9ybWF0aW9uZW4uXCIsXHJcbiAgICAgICAgICAgIEVSUk9SX01TR19GQUlMRURfU0VBUkNIX1JFUVVFU1Q6IFwiRXMgaXN0IGVpbiBGZWhsZXIgd8OkaHJlbmQgZGVyIFN1Y2hhbmZyYWdlIGFuIFNoYXJlUG9pbnQgYXVmZ2V0cmV0ZW4uIEJpdHRlIGtvbnRha3RpZXJlbiBTaWUgZWluZW4gQWRtaW5pc3RyYXRvciBmw7xyIHdlaXRlcmUgSW5mb3JtYXRpb25lbi5cIixcclxuICAgICAgICAgICAgRVJST1JfTVNHX05PX0RPQ1VNRU5UX0ZPVU5EOiBcIkRva3VtZW50IG5pY2h0IGdlZnVuZGVuLlwiLFxyXG4gICAgICAgICAgICBFUlJPUl9NU0dfTk9fRE9DVU1FTlRfUFJFVklFVzogXCJLZWluZSBWb3JzY2hhdSB2ZXJmw7xnYmFyLlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbjoge1xyXG4gICAgICAgICAgICBFUlJPUl9NU0dfR0VORVJBTDogXCJBbiBlcnJvciBvY2N1cmVkLiBQbGVhc2UgY29udGFjdCBhbiBhZG1pbmlzdHJhdG9yIGZvciBmdXJ0aGVyIGFzc2lzdGFuY2UuXCIsXHJcbiAgICAgICAgICAgIEVSUk9SX01TR19GQUlMRURfU0VBUkNIX1JFUVVFU1Q6IFwiVGhlcmUgd2FzIGFuIGVycm9yIHdoZW4gdHJ5aW5nIHRvIHNlYXJjaCB0aGUgZmlsZSBpbiBTaGFyZVBvaW50LiBQbGVhc2UgY29udGFjdCBhbiBhZG1pbmlzdHJhdG9yIGZvciBmdXJ0aGVyIGFzc2lzdGFuY2UuXCIsXHJcbiAgICAgICAgICAgIEVSUk9SX01TR19OT19ET0NVTUVOVF9GT1VORDogXCJObyBkb2N1bWVudCBjb3VsZCBiZSBmb3VuZC5cIixcclxuICAgICAgICAgICAgRVJST1JfTVNHX05PX0RPQ1VNRU5UX1BSRVZJRVc6IFwiVGhlcmUgaXMgbm8gZG9jdW1lbnQgcHJldmlldyBhdmFpbGFibGUuXCJcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHV0aWxzOiB7XHJcbiAgICAgICAgY2RlYnVnOiBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICBkZWJ1Zyhjb21tdW5hcmRvLmNvbmZpZy51dGlscy5MT0dfSURfU1AsIG1lc3NhZ2UpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNlcnJvcjogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgZXJyb3IoY29tbXVuYXJkby5jb25maWcudXRpbHMuTE9HX0lEX1NQLCBtZXNzYWdlKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRUZXh0OiBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciB0cmFucyA9IGNvbW11bmFyZG8udHJhbnNsYXRpb25zW2NvbW11bmFyZG8udHJhbnNsYXRpb25zLmxvY2FsZV07XHJcbiAgICAgICAgICAgIGlmICh0cmFucyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFucyA9IGNvbW11bmFyZG8udHJhbnNsYXRpb25zW2NvbW11bmFyZG8udHJhbnNsYXRpb25zLmxvY2FsZV1ba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHJhbnMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdHJhbnMgPSBjb21tdW5hcmRvLnRyYW5zbGF0aW9uc1tjb21tdW5hcmRvLmNvbmZpZy50cmFuc2xhdGlvbnMuZGVmYXVsdExhbmddW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRyYW5zID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zID0ga2V5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cmFucztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHNoYXJlcG9pbnQ6IHtcclxuICAgICAgICBxdWVyeVNoYXJlcG9pbnRBUEk6IGZ1bmN0aW9uIChnZXRQYXJhbWV0ZXIsIHNpdGVDb2xsZWN0aW9uLCBhcGlQYXRoLCBkb25lSGFuZGxlciwgZXJyb3JIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHJlcXVpcmUoW1wiZG9qby9yZXF1ZXN0XCJdLCBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RVcmw7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdFVybCA9IFwiLy9cIiArIGNvbW11bmFyZG8uY29uZmlnLnNoYXJlcG9pbnQuU0VBUkNIX0hPU1QgKyBjb21tdW5hcmRvLmNvbmZpZy5zaGFyZXBvaW50LlNFQVJDSF9DT05URVhUX1BBVEg7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0VXJsICs9IHNpdGVDb2xsZWN0aW9uICsgYXBpUGF0aCArIGdldFBhcmFtZXRlcjtcclxuXHJcbiAgICAgICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIlN0YXJ0aW5nIFNoYXJlcG9pbnQgU2VhcmNoIHJlcXVlc3QuIFRhcmdldCBVUkw6IFwiICsgcmVxdWVzdFVybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5nZXQocmVxdWVzdFVybCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBY2NlcHRcIjogXCJhcHBsaWNhdGlvbi9qc29uO29kYXRhPXZlcmJvc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uO29kYXRhPXZlcmJvc2U7Y2hhcnNldD11dGYtOFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlYXJjaFJlc3VsdHMgPSBjb21tdW5hcmRvLnNoYXJlcG9pbnQuZXh0cmFjdFNlYXJjaFJlc3VsdHMoSlNPTi5wYXJzZShyZXNwb25zZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoXCJTaGFyZXBvaW50IFNlYXJjaCByZXF1ZXN0IHN1Y2Nlc3NmdWwuIFByb2Nlc3NpbmcgUmVzcG9uc2U6IFwiICsgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZUhhbmRsZXIoc2VhcmNoUmVzdWx0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGVyKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8udXRpbHMuY2Vycm9yKFwiU2hhcmVwb2ludCBTZWFyY2ggcmVxdWVzdCBmYWlsZWQuIEVycm9yOiBcIiArIGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGV4dHJhY3RTZWFyY2hSZXN1bHRzOiBmdW5jdGlvbiAoc2hhcmVQb2ludFJlc3VsdE9iamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgc2VhcmNoUmVzdWx0ID0ge307XHJcbiAgICAgICAgICAgIHZhciByb3dzID0gc2hhcmVQb2ludFJlc3VsdE9iamVjdC5kLnF1ZXJ5LlByaW1hcnlRdWVyeVJlc3VsdC5SZWxldmFudFJlc3VsdHMuVGFibGUuUm93cy5yZXN1bHRzO1xyXG4gICAgICAgICAgICBzZWFyY2hSZXN1bHQucmVzdWx0TGlzdCA9IHJvd3MubWFwKGZ1bmN0aW9uIGV4dHJhY3RSb3cocm93KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcm93LkNlbGxzLnJlc3VsdHMucmVkdWNlKGZ1bmN0aW9uIGV4dHJhY3RDZWxsKHJlc3VsdFJvdywgY2VsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFJvd1tjZWxsLktleV0gPSBjZWxsLlZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRSb3c7XHJcbiAgICAgICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc2VhcmNoUmVzdWx0LnRvdGFsUm93cyA9IHNoYXJlUG9pbnRSZXN1bHRPYmplY3QuZC5xdWVyeS5QcmltYXJ5UXVlcnlSZXN1bHQuUmVsZXZhbnRSZXN1bHRzLlRvdGFsUm93cztcclxuICAgICAgICAgICAgc2VhcmNoUmVzdWx0LnRvdGFsUm93c0luY2x1ZGluZ0R1cGxpY2F0ZXMgPSBzaGFyZVBvaW50UmVzdWx0T2JqZWN0LmQucXVlcnkuUHJpbWFyeVF1ZXJ5UmVzdWx0LlJlbGV2YW50UmVzdWx0cy5Ub3RhbFJvd3NJbmNsdWRpbmdEdXBsaWNhdGVzO1xyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBwcm9jZXNzZWQgU2hhcmVwb2ludCBTZWFyY2ggcmVzcG9uc2UuIFJldHVybmluZzogXCIgKyBKU09OLnN0cmluZ2lmeShzZWFyY2hSZXN1bHQpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlYXJjaFJlc3VsdDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBidWlsZEdldFBhcmFtZXRlclN0cmluZzogZnVuY3Rpb24gKHF1ZXJ5KSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbXRlclN0cmluZyA9IFwiP3F1ZXJ5dGV4dD0lMjdcIiArIHF1ZXJ5ICsgJyUyNyc7XHJcbiAgICAgICAgICAgIHBhcmFtdGVyU3RyaW5nICs9IFwiJnNlbGVjdHByb3BlcnRpZXM9J1RpdGxlJTJjU2VydmVyUmVkaXJlY3RlZEVtYmVkVVJMXCI7XHJcbiAgICAgICAgICAgIHBhcmFtdGVyU3RyaW5nICs9IFwiJTJjRG9jSWQlMmNUaXRsZSUyY0xhc3RNb2RpZmllZFRpbWUlMmNpc0NvbnRhaW5lciUyY1NlY29uZGFyeUZpbGVFeHRlbnNpb24lMmNEb2N1bWVudExpbmslMmNcIjtcclxuICAgICAgICAgICAgcGFyYW10ZXJTdHJpbmcgKz0gY29tbXVuYXJkby5jb25maWcuc2hhcmVwb2ludC5JTkRFWF9GSUVMRF9OQU1FX0RPQ1VNRU5UX0lEICsgXCInXCI7XHJcbiAgICAgICAgICAgIGNvbW11bmFyZG8udXRpbHMuY2RlYnVnKFwiU3VjY2Vzc2Z1bGx5IGJ1aWxkIGdldFBhcmFtZXRlclN0cmluZyBmb3IgU2hhcmVwb2ludCBTZWFyY2ggcmVxdWVzdC4gR2V0UGFyYW1ldGVyOiBcIiArIHBhcmFtdGVyU3RyaW5nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcmFtdGVyU3RyaW5nO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNlYXJjaERvY3VtZW50c0J5RG9jdW1lbnRJZDogZnVuY3Rpb24gKGRvY3VtZW50SWQsIGRvbmVIYW5kbGVyLCBlcnJvckhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5LCBnZXRQYXJhbWV0ZXJTdHJpbmc7XHJcbiAgICAgICAgICAgIGNvbW11bmFyZG8udXRpbHMuY2RlYnVnKFwiU3RhcnRpbmcgU2hhcmVwb2ludCBTZWFyY2ggZm9yIGRvY3VtZW50IGlkOiBcIiArIGRvY3VtZW50SWQpO1xyXG4gICAgICAgICAgICBxdWVyeSA9IGNvbW11bmFyZG8uY29uZmlnLnNoYXJlcG9pbnQuSU5ERVhfRklFTERfTkFNRV9ET0NVTUVOVF9JRCArIFwiOlwiICsgZG9jdW1lbnRJZDtcclxuICAgICAgICAgICAgZ2V0UGFyYW1ldGVyU3RyaW5nID0gY29tbXVuYXJkby5zaGFyZXBvaW50LmJ1aWxkR2V0UGFyYW1ldGVyU3RyaW5nKHF1ZXJ5KTtcclxuICAgICAgICAgICAgdGhpcy5xdWVyeVNoYXJlcG9pbnRBUEkoZ2V0UGFyYW1ldGVyU3RyaW5nLCBcIlwiLCBcIi9fYXBpL3NlYXJjaC9xdWVyeVwiLCBkb25lSGFuZGxlciwgZXJyb3JIYW5kbGVyKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZWFyY2hEb2N1bWVudHNCeVBhdGg6IGZ1bmN0aW9uIChwYXRoLCBkb25lSGFuZGxlciwgZXJyb3JIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeSwgZ2V0UGFyYW1ldGVyU3RyaW5nO1xyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIlN0YXJ0aW5nIFNoYXJlcG9pbnQgU2VhcmNoIGZvciB1cmwgcGF0aDogXCIgKyBwYXRoKTtcclxuICAgICAgICAgICAgcXVlcnkgPSBjb21tdW5hcmRvLmNvbmZpZy5zaGFyZXBvaW50LklOREVYX0ZJRUxEX05BTUVfUEFUSCArICc9XCInICsgcGF0aCArICdcIic7XHJcbiAgICAgICAgICAgIGdldFBhcmFtZXRlclN0cmluZyA9IGNvbW11bmFyZG8uc2hhcmVwb2ludC5idWlsZEdldFBhcmFtZXRlclN0cmluZyhxdWVyeSk7XHJcbiAgICAgICAgICAgIHRoaXMucXVlcnlTaGFyZXBvaW50QVBJKGdldFBhcmFtZXRlclN0cmluZywgXCJcIiwgXCIvX2FwaS9zZWFyY2gvcXVlcnlcIiwgZG9uZUhhbmRsZXIsIGVycm9ySGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBwcmV2aWV3Y2FyZDoge1xyXG4gICAgICAgIHVybHR5cGU6IHtcclxuICAgICAgICAgICAgRE9DVU1FTlRfSURfVVJMOiAwLFxyXG4gICAgICAgICAgICBXT1BJX1VSTDogMSxcclxuICAgICAgICAgICAgUEFUSF9VUkw6IDJcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB0aW1lb3V0SWQ6IC0xLFxyXG5cclxuICAgICAgICBtZWRpYUNvbnRyb2w6IHtcclxuICAgICAgICAgICAgdG9nZ2xlQ29udHJvbHM6IGZ1bmN0aW9uIChtZWRpYUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtZWRpYUVsZW1lbnQuYXR0cihcImNvbnRyb2xzXCIpID09PSBudWxsICYmIG1lZGlhRWxlbWVudC5hdHRyKFwiY29udHJvbHNcIikgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2pvLnJlbW92ZUF0dHIobWVkaWFFbGVtZW50LCBcImNvbnRyb2xzXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYUVsZW1lbnQuYXR0cihcImNvbnRyb2xzXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIHBsYXlCdXR0b25DbGljazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoXCJJbml0YWwgcGxheSBidXR0b24gaGFzIGJlZW4gY2xpY2tlZFwiKTtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmUoW1wiZG9qby9vblwiXSwgZnVuY3Rpb24gKG9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXlCdXR0b24gPSBkb2pvLnF1ZXJ5KFwiLnNoYXJlcG9pbnQtcHJldmlldy1jYXJkIC5tZWRpYS1jb250YWluZXItd3JhcHBlciAubWVkaWEtY29udGFpbmVyLWluaXRpYWwtcGxheWJ1dHRvblwiKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBkb2pvLnN0eWxlKHBsYXlCdXR0b24sIFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2aWRFbGVtZW50ID0gZG9qby5xdWVyeShcIi5zaGFyZXBvaW50LXByZXZpZXctY2FyZCAubWVkaWEtY29udGFpbmVyLXdyYXBwZXIgLm1lZGlhLWNvbnRhaW5lclwiKTtcclxuICAgICAgICAgICAgICAgICAgICBvbih2aWRFbGVtZW50LCBcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8udXRpbHMuY2RlYnVnKFwiTWVkaWFlbGVtZW50IGhhcyBiZWVuIGhvdmVyZWQgb25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQubWVkaWFDb250cm9sLnRvZ2dsZUNvbnRyb2xzKHZpZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBvbih2aWRFbGVtZW50LCBcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoXCJNZWRpYWVsZW1lbnQgaGFzIGJlZW4gaG92ZXJlZCBvdXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQubWVkaWFDb250cm9sLnRvZ2dsZUNvbnRyb2xzKHZpZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2aWRFbGVtZW50WzBdLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYWRkSG92ZXJMaXN0ZW5lcjogZnVuY3Rpb24gKGNhcmRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoXCJBZGRpbmcgaG92ZXIgZXZlbnQgbGlzdGVuZXIgdG8gU2hhcmVwb2ludCBQcmV2aWV3Q2FyZC5cIik7XHJcbiAgICAgICAgICAgIHJlcXVpcmUoW1wiZG9qby9vblwiLCBcImRvam8vZG9tUmVhZHkhXCJdLCBmdW5jdGlvbiAob24pIHtcclxuICAgICAgICAgICAgICAgIG9uKGNhcmRDb250YWluZXIsIFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tdW5hcmRvLnByZXZpZXdjYXJkLmNsZWFyRGVzdHJveVRpbWVvdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2pvLmFkZENsYXNzKHRoaXMsIFwiaG92ZXJlZFwiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgb24oY2FyZENvbnRhaW5lciwgXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50b0VsZW1lbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2pvLnJlbW92ZUNsYXNzKHNlbGYsIFwiaG92ZXJlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQucmVtb3ZlUHJldmlld0NhcmQoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5jbGVhckFjdGl2ZUxpbmtzKHNlbGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC50aW1lb3V0SWQgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgY29tbXVuYXJkby5jb25maWcucHJldmlld2NhcmQuUkVNT1ZBTF9ERUxBWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNsZWFyRGVzdHJveVRpbWVvdXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNvbW11bmFyZG8ucHJldmlld2NhcmQudGltZW91dElkID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGNvbW11bmFyZG8udXRpbHMuY2RlYnVnKFwiQ2xlYXJpbmcgdGltZW91dCBmb3IgcmVtb3ZpbmcgdGhlIFNoYXJlcG9pbnQgUHJldmlld0NhcmQuXCIpO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbW11bmFyZG8ucHJldmlld2NhcmQudGltZW91dElkKTtcclxuICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQudGltZW91dElkID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjbGVhckFjdGl2ZUxpbmtzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tbXVuYXJkby5jb25maWcuc2hhcmVwb2ludC5ET0NVTUVOVF9IT1NUUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZG9qby5xdWVyeShcImFbaHJlZio9XCIgKyBjb21tdW5hcmRvLmNvbmZpZy5zaGFyZXBvaW50LkRPQ1VNRU5UX0hPU1RTW2ldICsgXCJdLmFjdGl2ZVwiKS5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZG9qby5oYXNDbGFzcyh0aGlzLCBcImhvdmVyZWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoXCJDbGVhcmluZyBhY3RpdmUgZmxhZyBvbiBVUkwgZWxlbWVudDogXCIgKyB0aGlzLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2pvLnJlbW92ZUNsYXNzKGVudHJ5LCBcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldERvY3VtZW50SWQ6IGZ1bmN0aW9uIChwcmV2aWV3Q2FyZCkge1xyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIkV4dHJhY3RpbmcgZG9jdW1lbnQgaWQgZnJvbSBQcmV2aWV3Q2FyZDogXCIgKyBwcmV2aWV3Q2FyZC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRvam8uYXR0cihwcmV2aWV3Q2FyZCwgXCJkYXRhLWRvY3VtZW50SWRcIik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVtb3ZlUHJldmlld0NhcmQ6IGZ1bmN0aW9uIChmb3JjZSkge1xyXG4gICAgICAgICAgICB2YXIgcHJldmlld0NhcmQsIGZpbGVMaW5rLCBsaW5rSXNIb3ZlcmVkLCBkb2N1bWVudElkUGFyYW0sIHF1ZXJ5UmVzdWx0O1xyXG4gICAgICAgICAgICBxdWVyeVJlc3VsdCA9IGRvam8ucXVlcnkoXCIuc2hhcmVwb2ludC1wcmV2aWV3LWNhcmRcIik7XHJcbiAgICAgICAgICAgIGlmIChxdWVyeVJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2aWV3Q2FyZCA9IGRvam8ucXVlcnkoXCIuc2hhcmVwb2ludC1wcmV2aWV3LWNhcmRcIilbMF07XHJcbiAgICAgICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIlJlbW92aW5nIFNoYXJlcG9pbmcgUHJldmlld0NhcmQ6IFwiICsgcHJldmlld0NhcmQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZm9yY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2pvLmRlc3Ryb3kocHJldmlld0NhcmQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudElkUGFyYW0gPSBjb21tdW5hcmRvLmNvbmZpZy5wcmV2aWV3Y2FyZC5ET0NVTUVOVF9JRF9QQVJBTV9OQU1FO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50SWRQYXJhbSArPSBcIj1cIjtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudElkUGFyYW0gKz0gY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5nZXREb2N1bWVudElkKHByZXZpZXdDYXJkKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlTGluayA9IGRvam8ucXVlcnkoXCJhW2hyZWYqPSdcIiArIGRvY3VtZW50SWRQYXJhbSArIFwiJ10uaG92ZXJlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rSXNIb3ZlcmVkID0gZmlsZUxpbmsubGVuZ3RoID4gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb2pvLmhhc0NsYXNzKHByZXZpZXdDYXJkLCBcImhvdmVyZWRcIikgJiYgIWxpbmtJc0hvdmVyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9qby5kZXN0cm95KHByZXZpZXdDYXJkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5jbGVhckFjdGl2ZUxpbmtzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYWRkUHJldmlld0NhcmREb2N1bWVudDogZnVuY3Rpb24gKHNlYXJjaFJlc3VsdCwgY2FyZENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICB2YXIgaUZyYW1lO1xyXG5cclxuICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoXCJBZGRpbmcgRG9jdW1lbnQgUHJldmlldyB0byBTaGFyZXBvaW50IFByZXZpZXdDYXJkIGZvciBkb2N1bWVudDogXCIgKyBKU09OLnN0cmluZ2lmeShzZWFyY2hSZXN1bHQpKTtcclxuXHJcbiAgICAgICAgICAgIGlGcmFtZSA9IGRvam8uY3JlYXRlKFwiaWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpRnJhbWUuc3JjID0gc2VhcmNoUmVzdWx0LlNlcnZlclJlZGlyZWN0ZWRFbWJlZFVSTDtcclxuICAgICAgICAgICAgZG9qby5hZGRDbGFzcyhpRnJhbWUsIFwiZG9jdW1lbnQtcHJldmlld1wiKTtcclxuXHJcbiAgICAgICAgICAgIGRvam8ucGxhY2UoY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5idWlsZEZpbGVuYW1lSGVhZGluZyhzZWFyY2hSZXN1bHQpLCBjYXJkQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgZG9qby5wbGFjZShpRnJhbWUsIGNhcmRDb250YWluZXIpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNhcmRDb250YWluZXI7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYWRkUHJldmlld0NhcmRNZWRpYUZpbGU6IGZ1bmN0aW9uIChzZWFyY2hSZXN1bHQsIGNhcmRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgdmFyIHZpZGVvU291cmNlLCBwbGF5QnV0dG9uLCBwbGF5QnV0dG9uTGluaywgbWVkaWFDb250YWluZXIsIHdyYXBwZXJDb250YWluZXI7XHJcblxyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIkFkZGluZyBNZWRpYSBQcmV2aWV3IHRvIFNoYXJlcG9pbnQgUHJldmlld0NhcmQgZm9yIGRvY3VtZW50OiBcIiArIEpTT04uc3RyaW5naWZ5KHNlYXJjaFJlc3VsdCkpO1xyXG5cclxuICAgICAgICAgICAgd3JhcHBlckNvbnRhaW5lciA9IGRvam8uY3JlYXRlKFwiZGl2XCIpO1xyXG4gICAgICAgICAgICBkb2pvLmFkZENsYXNzKHdyYXBwZXJDb250YWluZXIsIFwibWVkaWEtY29udGFpbmVyLXdyYXBwZXJcIik7XHJcblxyXG4gICAgICAgICAgICBtZWRpYUNvbnRhaW5lciA9IGRvam8uY3JlYXRlKFwidmlkZW9cIik7XHJcbiAgICAgICAgICAgIGRvam8uYWRkQ2xhc3MobWVkaWFDb250YWluZXIsIFwibWVkaWEtY29udGFpbmVyXCIpO1xyXG4gICAgICAgICAgICBpZiAoY29tbXVuYXJkby5jb25maWcucHJldmlld2NhcmQuQ1VTVE9NX1BSRVZJRVdfRklMRV9QUkVWSUVXX0lNQUdFW3NlYXJjaFJlc3VsdC5TZWNvbmRhcnlGaWxlRXh0ZW5zaW9uXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBtZWRpYUNvbnRhaW5lci5wb3N0ZXIgPSBcIi8vXCIgKyBjb21tdW5hcmRvLmNvbmZpZy5zaGFyZXBvaW50LlNFQVJDSF9IT1NUICsgY29tbXVuYXJkby5jb25maWcucHJldmlld2NhcmQuQ1VTVE9NX1BSRVZJRVdfRklMRV9QUkVWSUVXX0lNQUdFW3NlYXJjaFJlc3VsdC5TZWNvbmRhcnlGaWxlRXh0ZW5zaW9uXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtZWRpYUNvbnRhaW5lci53aWR0aCA9IFwiNDAwXCI7XHJcbiAgICAgICAgICAgIG1lZGlhQ29udGFpbmVyLmhlaWdodCA9IFwiMjMwXCI7XHJcblxyXG4gICAgICAgICAgICB2aWRlb1NvdXJjZSA9IGRvam8uY3JlYXRlKFwic291cmNlXCIpO1xyXG4gICAgICAgICAgICB2aWRlb1NvdXJjZS5zcmMgPSBzZWFyY2hSZXN1bHQuRG9jdW1lbnRMaW5rO1xyXG5cclxuICAgICAgICAgICAgcGxheUJ1dHRvbkxpbmsgPSBkb2pvLmNyZWF0ZShcImFcIik7XHJcbiAgICAgICAgICAgIHBsYXlCdXR0b25MaW5rLnRpdGxlID0gXCJQbGF5XCI7XHJcbiAgICAgICAgICAgIGRvam8ucGxhY2UoZG9qby5jcmVhdGUoXCJzcGFuXCIpLCBwbGF5QnV0dG9uTGluayk7XHJcblxyXG4gICAgICAgICAgICBwbGF5QnV0dG9uID0gZG9qby5jcmVhdGUoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIGRvam8uYWRkQ2xhc3MocGxheUJ1dHRvbiwgXCJtZWRpYS1jb250YWluZXItaW5pdGlhbC1wbGF5YnV0dG9uXCIpO1xyXG4gICAgICAgICAgICBkb2pvLnBsYWNlKHBsYXlCdXR0b25MaW5rLCBwbGF5QnV0dG9uKTtcclxuICAgICAgICAgICAgcmVxdWlyZShbXCJkb2pvL29uXCJdLCBmdW5jdGlvbiAob24pIHtcclxuICAgICAgICAgICAgICAgIG9uKHBsYXlCdXR0b24sIFwiY2xpY2tcIiwgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5tZWRpYUNvbnRyb2wucGxheUJ1dHRvbkNsaWNrKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkb2pvLnBsYWNlKGNvbW11bmFyZG8ucHJldmlld2NhcmQuYnVpbGRGaWxlbmFtZUhlYWRpbmcoc2VhcmNoUmVzdWx0KSwgY2FyZENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGRvam8ucGxhY2UodmlkZW9Tb3VyY2UsIG1lZGlhQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgZG9qby5wbGFjZShtZWRpYUNvbnRhaW5lciwgd3JhcHBlckNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGRvam8ucGxhY2UocGxheUJ1dHRvbiwgd3JhcHBlckNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGRvam8ucGxhY2Uod3JhcHBlckNvbnRhaW5lciwgY2FyZENvbnRhaW5lcik7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY2FyZENvbnRhaW5lcjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBhZGRQcmV2aWV3Q2FyZEVycm9yTWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2UsIGNhcmRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgdmFyIGVycm9yQmxvY2sgPSBkb2pvLmNyZWF0ZShcImRpdlwiKTtcclxuICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoXCJBZGRpbmcgdGhlIGZvbGxvd2luZyBlcnJvciBtZXNzYWdlIHRvIHRoZSBTaGFyZXBvaW50IFByZXZpZXdDYXJkOiBcIiArIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBlcnJvckJsb2NrLmlubmVySFRNTCA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgIGRvam8uYWRkQ2xhc3MoZXJyb3JCbG9jaywgXCJlcnJvci1tZXNzYWdlXCIpO1xyXG4gICAgICAgICAgICBkb2pvLnBsYWNlKGVycm9yQmxvY2ssIGNhcmRDb250YWluZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FyZENvbnRhaW5lcjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBidWlsZFByZXZpZXdDYXJkQ29udGFpbmVyOiBmdW5jdGlvbiAoZG9jdW1lbnRJZCkge1xyXG4gICAgICAgICAgICB2YXIgY2FyZENvbnRhaW5lciwgY2xvc2VCdXR0b247XHJcblxyXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbiA9IGRvam8uY3JlYXRlKFwic3BhblwiKTtcclxuICAgICAgICAgICAgZG9qby5hZGRDbGFzcyhjbG9zZUJ1dHRvbiwgXCJjbG9zZS1wcmV2aWV3Y2FyZC1idXR0b25cIik7XHJcbiAgICAgICAgICAgIHJlcXVpcmUoW1wiZG9qby9vblwiXSwgZnVuY3Rpb24gKG9uKSB7XHJcbiAgICAgICAgICAgICAgICBvbihjbG9zZUJ1dHRvbiwgXCJjbGlja1wiLCBjb21tdW5hcmRvLnByZXZpZXdjYXJkLmNsb3NlQnV0dG9uSGFuZGxlcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY2FyZENvbnRhaW5lciA9IGRvam8uY3JlYXRlKFwiZGl2XCIpO1xyXG4gICAgICAgICAgICBkb2pvLmFkZENsYXNzKGNhcmRDb250YWluZXIsIFwic2hhcmVwb2ludC1wcmV2aWV3LWNhcmRcIik7XHJcbiAgICAgICAgICAgIGRvam8uYWRkQ2xhc3MoY2FyZENvbnRhaW5lciwgXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgIGRvam8uYXR0cihjYXJkQ29udGFpbmVyLCBcImRhdGEtZG9jdW1lbnRJZFwiLCBkb2N1bWVudElkKTtcclxuXHJcbiAgICAgICAgICAgIGRvam8ucGxhY2UoY2xvc2VCdXR0b24sIGNhcmRDb250YWluZXIpO1xyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIkJ1aWxkIFByZXZpZXdDYXJkIGNvbnRhaW5lciB3aXRoIHRoZSBkb2N1bWVudCBpZDogXCIgKyBkb2N1bWVudElkKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjYXJkQ29udGFpbmVyO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGJ1aWxkRmlsZW5hbWVIZWFkaW5nOiBmdW5jdGlvbiAoc2VhcmNoUmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxlTmFtZUhlYWRpbmcgPSBkb2pvLmNyZWF0ZShcImgyXCIpO1xyXG4gICAgICAgICAgICBmaWxlTmFtZUhlYWRpbmcuaW5uZXJIVE1MID0gc2VhcmNoUmVzdWx0LlRpdGxlICsgXCIuXCIgKyBzZWFyY2hSZXN1bHQuU2Vjb25kYXJ5RmlsZUV4dGVuc2lvbjtcclxuICAgICAgICAgICAgZG9qby5hZGRDbGFzcyhmaWxlTmFtZUhlYWRpbmcsIFwiZmlsZW5hbWVcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmaWxlTmFtZUhlYWRpbmc7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2xvc2VCdXR0b25IYW5kbGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQucmVtb3ZlUHJldmlld0NhcmQodHJ1ZSk7XHJcbiAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQuY2xlYXJBY3RpdmVMaW5rcygpO1xyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnByZXZpZXdjYXJkLmNsZWFyRGVzdHJveVRpbWVvdXQoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRQcmV2aWV3Q2FyZFBvc2l0aW9uOiBmdW5jdGlvbiAobGlua05vZGUsIGNhcmRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgdmFyIGxpbmtOb2RlUG9zaXRpb24sIGNhcmRDb250YWluZXJTaXplLCB0b3BQb3NpdGlvbiwgbGVmdFBvc2l0aW9uLCBjb250YWluZXJIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICBsaW5rTm9kZVBvc2l0aW9uID0gbGlua05vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIGNhcmRDb250YWluZXJTaXplID0gY2FyZENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGhvcml6b250YWxcclxuICAgICAgICAgICAgbGVmdFBvc2l0aW9uID0gbGlua05vZGVQb3NpdGlvbi5sZWZ0O1xyXG4gICAgICAgICAgICBpZiAobGlua05vZGVQb3NpdGlvbi5sZWZ0ICsgY2FyZENvbnRhaW5lclNpemUud2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgbGVmdFBvc2l0aW9uID0gd2luZG93LmlubmVyV2lkdGggLSBjYXJkQ29udGFpbmVyU2l6ZS53aWR0aCAtIDQwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlZnRQb3NpdGlvbiA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0UG9zaXRpb24gPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRvam8uc3R5bGUoY2FyZENvbnRhaW5lciwgXCJsZWZ0XCIsIGxlZnRQb3NpdGlvbiArIFwicHhcIik7XHJcblxyXG4gICAgICAgICAgICAvLyB2ZXJ0aWNhbFxyXG4gICAgICAgICAgICB0b3BQb3NpdGlvbiA9IGxpbmtOb2RlUG9zaXRpb24uYm90dG9tICsgd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG4gICAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBjYXJkQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgaWYgKChsaW5rTm9kZVBvc2l0aW9uLmJvdHRvbSArIGNhcmRDb250YWluZXJTaXplLmhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCkgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBlbm91Z2ggc3BhY2UgYmVsb3cgdGhlIGxpbmtcclxuICAgICAgICAgICAgICAgICYmIChsaW5rTm9kZVBvc2l0aW9uLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGNvbnRhaW5lckhlaWdodCA+IDApICAgIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGVub3VnaCBzcGFjZSBhYm92ZSB0aGUgbGlua1xyXG4gICAgICAgICAgICAgICAgJiYgKGxpbmtOb2RlUG9zaXRpb24udG9wID4gKHdpbmRvdy5pbm5lckhlaWdodCAvIDIpKSkgeyAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgbGluayBpcyBpbiB1cHBlciBvciBsb3dlciBoYWxmIG9mIHRoZSBzY3JlZW5cclxuICAgICAgICAgICAgICAgIHRvcFBvc2l0aW9uID0gKGxpbmtOb2RlUG9zaXRpb24udG9wIC0gY29udGFpbmVySGVpZ2h0KSArIHdpbmRvdy5wYWdlWU9mZnNldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkb2pvLnN0eWxlKGNhcmRDb250YWluZXIsIFwidG9wXCIsIHRvcFBvc2l0aW9uICsgXCJweFwiKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjYXJkQ29udGFpbmVyO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldFRhcmdldE5vZGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkb21RdWVyeSwgcXVlcnlSZXN1bHRzLCBpO1xyXG4gICAgICAgICAgICBkb21RdWVyeSA9IFwiLmhvdmVyZWQuc2ktbGlua1wiO1xyXG4gICAgICAgICAgICBpZiAoY29tbXVuYXJkby5jb25maWcuc2hhcmVwb2ludC5ET0NVTUVOVF9IT1NUUy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29tbXVuYXJkby5jb25maWcuc2hhcmVwb2ludC5ET0NVTUVOVF9IT1NUUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbVF1ZXJ5ID0gXCJhW2hyZWYqPSdcIiArIGNvbW11bmFyZG8uY29uZmlnLnNoYXJlcG9pbnQuRE9DVU1FTlRfSE9TVFNbaV0gKyBcIiddLmhvdmVyZWQuc2ktbGlua1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5UmVzdWx0cyA9IGRvam8ucXVlcnkoZG9tUXVlcnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChxdWVyeVJlc3VsdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoXCJMb29raW5nIGZvciB0aGUgY3VycmVudGx5IGFjdGl2ZSB1cmwgbm9kZS4gRm91bmQ6IFwiICsgcXVlcnlSZXN1bHRzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5UmVzdWx0cztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBleHRyYWN0RG9jdW1lbnRJZDogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICB2YXIgcmVnZXgsIG1hdGNoLCBkb2N1bWVudElkO1xyXG5cclxuICAgICAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKFwiWz8mXVwiICsgY29tbXVuYXJkby5jb25maWcucHJldmlld2NhcmQuRE9DVU1FTlRfSURfUEFSQU1fTkFNRSArIFwiPShbQS16MC05LV0rKVwiLCBcImlcIik7XHJcbiAgICAgICAgICAgIGRvY3VtZW50SWQgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgbWF0Y2ggPSB1cmwubWF0Y2gocmVnZXgpO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2ggIT09IG51bGwgJiYgbWF0Y2gubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudElkICs9IG1hdGNoWzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbW11bmFyZG8udXRpbHMuY2RlYnVnKFwiVHJpZWQgdG8gZXh0cmFjdCB0aGUgZG9jdW1lbnQgaWQgXCIgKyBkb2N1bWVudElkICsgXCIgZnJvbSB0aGUgZm9sbG93aW5nIHVybDogXCIgKyB1cmwpO1xyXG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnRJZDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW5kZXJQcmV2aWV3Q2FyZDogZnVuY3Rpb24gKGNhcmRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgdmFyIGxpbmtOb2RlcywgbGlua05vZGU7XHJcblxyXG4gICAgICAgICAgICBsaW5rTm9kZXMgPSBjb21tdW5hcmRvLnByZXZpZXdjYXJkLmdldFRhcmdldE5vZGVzKCk7XHJcblxyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIlRyeWluZyB0byByZW5kZXIgdGhlIGZvbGxvd2luZyBTaGFyZXBvaW50IFByZXZpZXdDYXJkIGNvbnRhaW5lcjogXCIgKyBjYXJkQ29udGFpbmVyLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxpbmtOb2Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb21tdW5hcmRvLnByZXZpZXdjYXJkLnJlbW92ZVByZXZpZXdDYXJkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5jbGVhckFjdGl2ZUxpbmtzKCk7XHJcbiAgICAgICAgICAgICAgICBjb21tdW5hcmRvLnByZXZpZXdjYXJkLmNsZWFyRGVzdHJveVRpbWVvdXQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkb2pvLmZvckVhY2gobGlua05vZGVzLCBmdW5jdGlvbiAoZW50cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9qby5oYXNDbGFzcyhlbnRyeSwgXCJob3ZlcmVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtOb2RlID0gZW50cnk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmtOb2RlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2pvLnBsYWNlKGNhcmRDb250YWluZXIsIGRvam8ucXVlcnkoXCJib2R5XCIpWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXJkQ29udGFpbmVyID0gY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5zZXRQcmV2aWV3Q2FyZFBvc2l0aW9uKGxpbmtOb2RlLCBjYXJkQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2pvLmFkZENsYXNzKGxpbmtOb2RlLCBcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21tdW5hcmRvLnByZXZpZXdjYXJkLmFkZEhvdmVyTGlzdGVuZXIoY2FyZENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW5kZXJFcnJvckNhcmQ6IGZ1bmN0aW9uIChlcnJvck1zZykge1xyXG4gICAgICAgICAgICB2YXIgY2FyZENvbnRhaW5lciA9IGNvbW11bmFyZG8ucHJldmlld2NhcmQuYnVpbGRQcmV2aWV3Q2FyZENvbnRhaW5lcigpO1xyXG4gICAgICAgICAgICBjYXJkQ29udGFpbmVyID0gY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5hZGRQcmV2aWV3Q2FyZEVycm9yTWVzc2FnZShlcnJvck1zZywgY2FyZENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGNvbW11bmFyZG8udXRpbHMuY2RlYnVnKFwiVHJ5aW5nIHRvIHJlbmRlciB0aGUgZm9sbG93aW5nIEVycm9yQ2FyZDogXCIgKyBjYXJkQ29udGFpbmVyLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnByZXZpZXdjYXJkLnJlbmRlclByZXZpZXdDYXJkKGNhcmRDb250YWluZXIpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGZhaWxlZFNlYXJjaFJlc3BvbnNlSGFuZGxlcjogZnVuY3Rpb24gKGpYSFIpIHtcclxuICAgICAgICAgICAgdmFyIGVycm9yTXNnID0gXCJSZXF1ZXN0IHRvIHNoYXJlcG9pbnQgVVJMIFwiICsgY29tbXVuYXJkby5jb25maWcuc2hhcmVwb2ludC5TRUFSQ0hfSE9TVCArIFwiIGZhaWxlZC4gRnVydGhlciBQYXJhbWV0ZXJzOiBcIjtcclxuICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZXJyb3IoZXJyb3JNc2cpO1xyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNlcnJvcihqWEhSKTtcclxuICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5yZW5kZXJFcnJvckNhcmQoY29tbXVuYXJkby51dGlscy5nZXRUZXh0KFwiRVJST1JfTVNHX0ZBSUxFRF9TRUFSQ0hfUkVRVUVTVFwiKSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaXNWYWxpZFNlYXJjaFJlc3VsdDogZnVuY3Rpb24gKHNlYXJjaFJlc3VsdCkge1xyXG4gICAgICAgICAgICB2YXIgaXNWYWxpZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoKHNlYXJjaFJlc3VsdC5pc0NvbnRhaW5lciA9PT0gXCJ0cnVlXCIgfHwgc2VhcmNoUmVzdWx0LlNlcnZlclJlZGlyZWN0ZWRFbWJlZFVSTCA9PT0gbnVsbClcclxuICAgICAgICAgICAgICAgICYmIGNvbW11bmFyZG8uY29uZmlnLnByZXZpZXdjYXJkLkNVU1RPTV9QUkVWSUVXX0ZJTEVfRVhURU5TSU9OUy5pbmRleE9mKHNlYXJjaFJlc3VsdC5TZWNvbmRhcnlGaWxlRXh0ZW5zaW9uKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc3VjY2Vzc2Z1bFNlYXJjaFJlc3BvbnNlSGFuZGxlcjogZnVuY3Rpb24gKHNlYXJjaFJlc3VsdHMpIHtcclxuICAgICAgICAgICAgdmFyIGNhcmRDb250YWluZXIsIGZvdW5kRG9jdW1lbnQsIGRvY3VtZW50SWQsIHNlYXJjaFJlc3VsdCwgZG9jdW1lbnRWYWxpZGF0aW9uO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm91bmREb2N1bWVudCA9IHNlYXJjaFJlc3VsdHMucmVzdWx0TGlzdC5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGZvdW5kRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdCA9IHNlYXJjaFJlc3VsdHMucmVzdWx0TGlzdFswXTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50VmFsaWRhdGlvbiA9IGNvbW11bmFyZG8ucHJldmlld2NhcmQuaXNWYWxpZFNlYXJjaFJlc3VsdChzZWFyY2hSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50VmFsaWRhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8udXRpbHMuY2RlYnVnKFwiRG9jdW1lbnQgZm91bmQuIFN0YXJ0aW5nIHJlbmRlcmluZyBwcm9jZWR1cmUgb2YgdGhlIFByZXZpZXdDYXJkOiBcIiArIEpTT04uc3RyaW5naWZ5KHNlYXJjaFJlc3VsdCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50SWQgPSBzZWFyY2hSZXN1bHRbY29tbXVuYXJkby5jb25maWcuc2hhcmVwb2ludC5JTkRFWF9GSUVMRF9OQU1FX0RPQ1VNRU5UX0lEXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXJkQ29udGFpbmVyID0gY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5idWlsZFByZXZpZXdDYXJkQ29udGFpbmVyKGRvY3VtZW50SWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKiBhZGQgU2hhcmVQb2ludCBvciBjdXN0b20gcHJldmlldyAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tdW5hcmRvLmNvbmZpZy5wcmV2aWV3Y2FyZC5DVVNUT01fUFJFVklFV19GSUxFX0VYVEVOU0lPTlMuaW5kZXhPZihzZWFyY2hSZXN1bHQuU2Vjb25kYXJ5RmlsZUV4dGVuc2lvbikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRDb250YWluZXIgPSBjb21tdW5hcmRvLnByZXZpZXdjYXJkLmFkZFByZXZpZXdDYXJkRG9jdW1lbnQoc2VhcmNoUmVzdWx0LCBjYXJkQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkQ29udGFpbmVyID0gY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5hZGRQcmV2aWV3Q2FyZE1lZGlhRmlsZShzZWFyY2hSZXN1bHQsIGNhcmRDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5yZW5kZXJQcmV2aWV3Q2FyZChjYXJkQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoY29tbXVuYXJkby51dGlscy5nZXRUZXh0KFwiRVJST1JfTVNHX05PX0RPQ1VNRU5UX1BSRVZJRVdcIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoXCJObyBEb2N1bWVudCBmb3VuZC4gUmVuZGVyaW5nIGVycm9yIG1lc3NhZ2UgZm9yIHVzZXIuXCIpO1xyXG4gICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5yZW5kZXJFcnJvckNhcmQoY29tbXVuYXJkby51dGlscy5nZXRUZXh0KFwiRVJST1JfTVNHX05PX0RPQ1VNRU5UX0ZPVU5EXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGhhbmRsZURvY3VtZW50SWRVcmw6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgY29tbXVuYXJkby5zaGFyZXBvaW50LnNlYXJjaERvY3VtZW50c0J5RG9jdW1lbnRJZChcclxuICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQuZXh0cmFjdERvY3VtZW50SWQodXJsKSxcclxuICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQuc3VjY2Vzc2Z1bFNlYXJjaFJlc3BvbnNlSGFuZGxlcixcclxuICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQuZmFpbGVkU2VhcmNoUmVzcG9uc2VIYW5kbGVyXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVtb3ZlUGFyYW1ldGVyRnJvbVVybDogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICB2YXIgcmV0VmFsID0gdXJsO1xyXG4gICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoXCI/XCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldFZhbCA9IHVybC5zdWJzdHIoMCwgdXJsLmluZGV4T2YoXCI/XCIpKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbW11bmFyZG8udXRpbHMuY2RlYnVnKFwiUmVtb3ZlZCBnZXQgcGFyYW1ldGVycyBmcm9tIHVybDogXCIgKyB1cmwpO1xyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIkNsZWFuZWQgVVJMOiBcIiArIHJldFZhbCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXRWYWw7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaGFuZGxlV29waVVybDogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICB2YXIgcmVnZXgsIG1hdGNoLCBzb3VyY2VEb2MsIGRvY3VtZW50VXJsO1xyXG5cclxuICAgICAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKFwiWyY/XXNvdXJjZWRvYz0oW14mXSspXCIsIFwiaVwiKTtcclxuICAgICAgICAgICAgbWF0Y2ggPSB1cmwubWF0Y2gocmVnZXgpO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2ggIT09IG51bGwgJiYgbWF0Y2gubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2VEb2MgPSBtYXRjaFsxXTtcclxuICAgICAgICAgICAgICAgIHNvdXJjZURvYyA9IGRlY29kZVVSSShzb3VyY2VEb2MpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRVcmwgPSBcImh0dHBzOi8vXCI7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudFVybCArPSBjb21tdW5hcmRvLmNvbmZpZy5zaGFyZXBvaW50LlNFQVJDSF9IT1NUO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRVcmwgKz0gY29tbXVuYXJkby5jb25maWcuc2hhcmVwb2ludC5TRUFSQ0hfQ09OVEVYVF9QQVRIO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRVcmwgKz0gc291cmNlRG9jO1xyXG4gICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5oYW5kbGVQYXRoVXJsKGRvY3VtZW50VXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGhhbmRsZVBhdGhVcmw6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgdmFyIHVybCA9IGNvbW11bmFyZG8ucHJldmlld2NhcmQucmVtb3ZlUGFyYW1ldGVyRnJvbVVybCh1cmwpO1xyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnNoYXJlcG9pbnQuc2VhcmNoRG9jdW1lbnRzQnlQYXRoKHVybCwgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5zdWNjZXNzZnVsU2VhcmNoUmVzcG9uc2VIYW5kbGVyLFxyXG4gICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5mYWlsZWRTZWFyY2hSZXNwb25zZUhhbmRsZXIpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYW5hbHl6ZVVybDogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICB2YXIgZG9jdW1lbnRJZDtcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50SWQgPSBjb21tdW5hcmRvLnByZXZpZXdjYXJkLmV4dHJhY3REb2N1bWVudElkKHVybCk7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudElkICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbXVuYXJkby5wcmV2aWV3Y2FyZC51cmx0eXBlLkRPQ1VNRU5UX0lEX1VSTDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKFwiL1dvcGlGcmFtZS5hc3B4P1wiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbXVuYXJkby5wcmV2aWV3Y2FyZC51cmx0eXBlLldPUElfVVJMO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29tbXVuYXJkby5wcmV2aWV3Y2FyZC51cmx0eXBlLlBBVEhfVVJMO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG1vdXNlb3ZlckhhbmRsZXI6IGZ1bmN0aW9uIChsaW5rRWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgdXJsVHlwZSwgdXJsO1xyXG4gICAgICAgICAgICBpZiAoIWRvam8uaGFzQ2xhc3MobGlua0VsZW1lbnQsIFwiaG92ZXJlZFwiKSkgeyAvLyBwcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gb2YgdGhlIHByZXZpZXdjYXJkXHJcbiAgICAgICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIk1vdXNlb3ZlciBldmVudCB0cmlnZ2VyZWQgb24gZWxlbWVudDogXCIgKyBsaW5rRWxlbWVudC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIGRvam8uYWRkQ2xhc3MobGlua0VsZW1lbnQsIFwiaG92ZXJlZFwiKTtcclxuICAgICAgICAgICAgICAgIGRvam8uYWRkQ2xhc3MobGlua0VsZW1lbnQsIFwic2ktbGlua1wiKTsgLy8gbmVlZGVkIHRvIGZpbmQgdGhlIGxpbmsgaWYgbm8gYmFzZSB1cmwgaXMgZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5jbGVhckRlc3Ryb3lUaW1lb3V0KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvam8uaGFzQ2xhc3MobGlua0VsZW1lbnQsIFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gbGlua0VsZW1lbnQuaHJlZjtcclxuICAgICAgICAgICAgICAgICAgICB1cmxUeXBlID0gY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5hbmFseXplVXJsKHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh1cmxUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC51cmx0eXBlLkRPQ1VNRU5UX0lEX1VSTDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8udXRpbHMuY2RlYnVnKFwiRGV0ZWN0ZWQgYSBEb2N1bWVudCBJRCBpbnNpZGUgb2YgdGhlIFVSTC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tdW5hcmRvLnByZXZpZXdjYXJkLmhhbmRsZURvY3VtZW50SWRVcmwodXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBjb21tdW5hcmRvLnByZXZpZXdjYXJkLnVybHR5cGUuV09QSV9VUkw6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIkRldGVjdGVkIGEgV29waSBVcmwuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5oYW5kbGVXb3BpVXJsKHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC51cmx0eXBlLlBBVEhfVVJMOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoXCJEZXRlY3RlZCBhIFBhdGggVVJMLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQuaGFuZGxlUGF0aFVybCh1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbW91c2VvdXRIYW5kbGVyOiBmdW5jdGlvbiAobGlua0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSBsaW5rRWxlbWVudDtcclxuICAgICAgICAgICAgY29tbXVuYXJkby51dGlscy5jZGVidWcoXCJNb3VzZW91dCBldmVudCB0cmlnZ2VyZWQgb24gZWxlbWVudDogXCIgKyBsaW5rRWxlbWVudC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgZG9qby5yZW1vdmVDbGFzcyhzZWxmLCBcImhvdmVyZWRcIik7XHJcbiAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQuY2xlYXJEZXN0cm95VGltZW91dCgpOyAvLyBwcmV2ZW50IGNyZWF0aW9uIG9mIHR3byB0aW1lb3V0IGNhbGxzXHJcbiAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQudGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlld0NhcmQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvam8uaGFzQ2xhc3Moc2VsZiwgXCJob3ZlcmVkXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlld0NhcmQgPSBkb2pvLnF1ZXJ5KFwiLnNoYXJlcG9pbnQtcHJldmlldy1jYXJkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aWV3Q2FyZC5sZW5ndGggPiAwICYmICFkb2pvLmhhc0NsYXNzKHByZXZpZXdDYXJkWzBdLCBcImhvdmVyZWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5yZW1vdmVQcmV2aWV3Q2FyZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvam8ucmVtb3ZlQ2xhc3Moc2VsZiwgXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQudGltZW91dElkID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9qby5yZW1vdmVDbGFzcyhzZWxmLCBcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGNvbW11bmFyZG8uY29uZmlnLnByZXZpZXdjYXJkLlJFTU9WQUxfREVMQVkpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGFkZFVybEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIChob3N0KSB7XHJcbiAgICAgICAgICAgIGNvbW11bmFyZG8udXRpbHMuY2RlYnVnKFwiQWRkaW5nIFVSTCBldmVudCBsaXN0ZW5lciBmb3IgaG9zdDogXCIgKyBob3N0KTtcclxuICAgICAgICAgICAgcmVxdWlyZShbXCJkb2pvL29uXCJdLCBmdW5jdGlvbiAob24pIHtcclxuICAgICAgICAgICAgICAgIG9uKGRvY3VtZW50LCBcImFbaHJlZio9XCIgKyBob3N0ICsgXCJdOm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaHJlZi5pbmRleE9mKGNvbW11bmFyZG8uY29uZmlnLnByZXZpZXdjYXJkLkRJU0FCTEVfUFJFVklFV19QQVJBTUVURVJfV0lUSF9WQUxVRSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQubW91c2VvdmVySGFuZGxlcih0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBvbihkb2N1bWVudCwgXCJhW2hyZWYqPVwiICsgaG9zdCArIFwiXTptb3VzZW91dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaHJlZi5pbmRleE9mKGNvbW11bmFyZG8uY29uZmlnLnByZXZpZXdjYXJkLkRJU0FCTEVfUFJFVklFV19QQVJBTUVURVJfV0lUSF9WQUxVRSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQubW91c2VvdXRIYW5kbGVyKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBvYnNlcnZlciwgdGFyZ2V0LCBjb25maWc7XHJcblxyXG4gICAgICAgICAgICBjb21tdW5hcmRvLnV0aWxzLmNkZWJ1ZyhcIkluaXRpYWxpemluZyBTaGFyZXBvaW5nIEludGVncmF0aW9uIFByZXZpZXdDYXJkXCIpO1xyXG5cclxuICAgICAgICAgICAgLyogZml4IGZvciB0aGUgY29tbXVuaXR5IHBhZ2Ugd2hlcmUgdGhlIHNpemUgb2YgdGhlIG5hdmlnYXRpb24gYmFyIGlzIGNoYW5nZWQgd2hlbiBzY3JvbGxpbmcgKi9cclxuICAgICAgICAgICAgY29uZmlnID0ge2F0dHJpYnV0ZXM6IHRydWV9O1xyXG4gICAgICAgICAgICB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RhYk5hdkJhclwiKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlcG9pbnRQcmV2aWV3Q2FyZHMsIGN1cnJlbnRUb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hhcmVwb2ludFByZXZpZXdDYXJkcyA9IGRvam8ucXVlcnkoXCIuc2hhcmVwb2ludC1wcmV2aWV3LWNhcmRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoYXJlcG9pbnRQcmV2aWV3Q2FyZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VG9wID0gZG9qby5zdHlsZShzaGFyZXBvaW50UHJldmlld0NhcmRzWzBdLCBcInRvcFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvam8ucXVlcnkoXCIudGFiTmF2Rml4ZWRcIikubGVuZ3RoID4gMCAmJiBzaGFyZXBvaW50UHJldmlld0NhcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvam8uc3R5bGUoc2hhcmVwb2ludFByZXZpZXdDYXJkc1swXSwgXCJ0b3BcIiwgY3VycmVudFRvcCAtIDE0MCArIFwicHhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2pvLnN0eWxlKHNoYXJlcG9pbnRQcmV2aWV3Q2FyZHNbMF0sIFwidG9wXCIsIGN1cnJlbnRUb3AgKyAxNDAgKyBcInB4XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCwgY29uZmlnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBlbmQgb2YgIHRoZSBmaXggZm9yIHRoZSBjb21tdW5pdHkgcGFnZSB3aGVyZSB0aGUgc2l6ZSBvZiB0aGUgbmF2aWdhdGlvbiBiYXIgaXMgY2hhbmdlZCB3aGVuIHNjcm9sbGluZyAqL1xyXG5cclxuICAgICAgICAgICAgcmVxdWlyZShbXCJkb2pvL2RvbVJlYWR5IVwiXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZG9qby5mb3JFYWNoKGNvbW11bmFyZG8uY29uZmlnLnNoYXJlcG9pbnQuRE9DVU1FTlRfSE9TVFMsIGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW11bmFyZG8ucHJldmlld2NhcmQuYWRkVXJsRXZlbnRMaXN0ZW5lcihlbnRyeSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5jb21tdW5hcmRvLmNvbmZpZy5zaGFyZXBvaW50LkRPQ1VNRU5UX0hPU1RTID0gWydAY29tbXVuYXJkby5jb25maWcuc2hhcmVwb2ludC5ET0NVTUVOVF9IT1NUMUAnLCAnQGNvbW11bmFyZG8uY29uZmlnLnNoYXJlcG9pbnQuRE9DVU1FTlRfSE9TVDJAJywgJ0Bjb21tdW5hcmRvLmNvbmZpZy5zaGFyZXBvaW50LkRPQ1VNRU5UX0hPU1QzQCddO1xyXG5jb21tdW5hcmRvLmNvbmZpZy5zaGFyZXBvaW50LlNFQVJDSF9IT1NUID0gJ0Bjb21tdW5hcmRvLmNvbmZpZy5zaGFyZXBvaW50LlNFQVJDSF9IT1NUQCc7XHJcbmNvbW11bmFyZG8uY29uZmlnLnNoYXJlcG9pbnQuU0VBUkNIX0NPTlRFWFRfUEFUSCA9ICcnOyAvLyBKdXN0IG5lZWRlZCBpZiBTZWFyY2ggQ2VudGVyIGlzIG5vdCBpbnN0YWxsZWQgaW4gcm9vdFxyXG5jb21tdW5hcmRvLmNvbmZpZy5zaGFyZXBvaW50LklOREVYX0ZJRUxEX05BTUVfRE9DVU1FTlRfSUQgPSAnQm9zY2hETVNTaG9ydGlkJztcclxuY29tbXVuYXJkby5jb25maWcuc2hhcmVwb2ludC5JTkRFWF9GSUVMRF9OQU1FX1BBVEggPSAnUGF0aCc7XHJcbmNvbW11bmFyZG8uY29uZmlnLnByZXZpZXdjYXJkLkRPQ1VNRU5UX0lEX1BBUkFNX05BTUUgPSAnZG9jdW1lbnRJRCc7XHJcbmNvbW11bmFyZG8uY29uZmlnLnByZXZpZXdjYXJkLlJFTU9WQUxfREVMQVkgPSAyMDAwO1xyXG5cclxuY29tbXVuYXJkby5wcmV2aWV3Y2FyZC5pbml0KCk7IC8vIElNUE9SVEFOVDogaW5pdGlhbGl6ZXMgdGhlIFNoYXJlcG9pbnQgUHJldmlld0NhcmQgb24gdGhlIHBhZ2Ugb24gd2hpY2ggaXQgaXMgZW1iZWRkZWQiLCIvKipcclxuICogQk9DQS1UT0RPIC0gU3VwcG9ydCBJbmZvcm1hdGlvblxyXG4gKiBcclxuICogSW1wbGVtZW50cyB0aGUgSmF2YVNjcmlwdCBsb2dpYyBmb3IgU3VwcG9ydCBJbmZvcm1hdGlvblxyXG4gKiBcclxuICogRnVuY3Rpb24gY29weVN1cHBvcnRJbmZvIGlzIHVzZWQgaW4gaGVscG1lbnUuanNwLlxyXG4gKlxyXG4gKiBAYXV0aG9yOiAgICAgICBEYW5pZWwgR2x1ZWNrIDxkYW5pZWwuZ2x1ZWNrQGRlLmJvc2NoLmNvbT5cclxuICogQGRhdGU6ICAgICAgICAgMDguMDEuMjAyMFxyXG4gKiBAYmN2ZXJzaW9uOiAgICBDb25uZWN0aW9ucyA2LjAgQ1I1XHJcbiAqIEBiY0ZpeFZlcnNpb246IDE5LjUwMC4wXHJcbiAqXHJcbiAqIERvY3VtZW50YXRpb246IFRPRE9cclxuICogXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKHdpbmRvdywgJCwgdW5kZWZpbmVkKSB7XHJcblxyXG5cdHdpbmRvdy5zdXBwb3J0SW5mb1V0aWxzID0ge307XHJcblx0XHJcblx0Ly8gQ29uc3RhbnRzXHJcblx0dmFyIEhJREVfU1VQUE9SVF9JTkZPX0NPUElFRF9BRlRFUiA9IDIwMDA7IC8vIFRpbWUgaW4gbXMgYWZ0ZXIgd2hpY2ggdGhlIGluZm8gY29waWVkIGlzIGhpZGRlbiBhZ2Fpblx0XHJcblxyXG5cdHZhciBMT0dfSUQgPSBcImNvbS5ib3NjaC5jb25uZWN0LnN1cHBvcnRJbmZvVXRpbHNcIjtcclxuXHJcblx0LyoqXHJcblx0ICogVGhlIGVsZW1lbnQgc2hvd1N1cHBvcnRJbmZvIGlzIGRlZmluZWQgaW4gaGVhZGVyLmpzcFxyXG5cdCAqIFxyXG5cdCAqIEBwYXJhbSByZXN1bHRcclxuXHQgKi9cclxuXHRmdW5jdGlvbiBzaG93U3VwcG9ydEluZm9Db3BpZWQocmVzdWx0KXtcclxuXHRcdFxyXG5cdFx0aWYgKHJlc3VsdCl7XHJcblx0XHRcdCQoJy5zdXBwb3J0SW5mb0NvcGllZE9rJykuc2hvdygpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyAkKCcuc3VwcG9ydEluZm9Db3BpZWRPaycpLmhpZGUoKSB9LCAyMDAwKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JCgnLnN1cHBvcnRJbmZvQ29waWVkTm9rJykuc2hvdygpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyAkKCcuc3VwcG9ydEluZm9Db3BpZWRPaycpLmhpZGUoKSB9LCAyMDAwKVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBDb3BpZXMgdGhlIHN1cHBvcnQgaW5mbyBpbnRvIGNsaXBib2FyZFxyXG5cdCAqIFRoZSBzdXBwb3J0IGluZm8gaXMgdGFrZW4gZnJvbSBhIGhpZGRlbiBkaXYgaW4gZm9vdGVyLmpzcFxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGNvcHlTdXBwb3J0SW5mbygpe1x0XHJcblx0XHJcblx0XHRkZWJ1ZyhMT0dfSUQsICdjb3B5U3VwcG9ydEluZm8gPj4+Pj4+Jyk7XHJcblx0XHRcclxuXHRcdC8vIEJhc2Ugb24gdGhlIGV4YW1wbGUgZnJvbVxyXG5cdFx0Ly8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjMwMDIxMy9jb3B5LXNlbGVjdGVkLXRleHQtdG8tdGhlLWNsaXBib2FyZC13aXRob3V0LXVzaW5nLWZsYXNoLW11c3QtYmUtY3Jvc3MtYnJvd3NlclxyXG5cdFx0XHJcblx0XHQvLyBTZXR1cCB0aGUgdmFyaWFibGVzXHJcblx0XHR2YXIgdGV4dGFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1cHBvcnRJbmZvVGV4dEFyZWFcIik7XHJcblx0XHR2YXIgYW5zd2VyICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VwcG9ydEluZm9Db3B5QW5zd2VyXCIpO1xyXG5cdFx0dmFyIGNvcHkgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1cHBvcnRJbmZvQ29weUJsb2NrXCIpO1xyXG5cclxuXHQgICAvLyBTZWxlY3Qgc29tZSB0ZXh0ICh5b3UgY291bGQgYWxzbyBjcmVhdGUgYSByYW5nZSlcclxuXHQgICB0ZXh0YXJlYS5zZWxlY3QoKTsgXHJcblxyXG5cdCAgIC8vIFVzZSB0cnkgJiBjYXRjaCBmb3IgdW5zdXBwb3J0ZWQgYnJvd3NlclxyXG5cdCAgIHRyeSB7XHJcblxyXG5cdCAgICAgICAvLyBUaGUgaW1wb3J0YW50IHBhcnQgKGNvcHkgc2VsZWN0ZWQgdGV4dClcclxuXHQgICAgICAgdmFyIG9rID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcclxuXHJcblx0ICAgICAgIGlmIChvaykgc2hvd1N1cHBvcnRJbmZvQ29waWVkKG9rKTtcclxuXHQgICB9IGNhdGNoIChlcnIpIHtcclxuXHRcdCAgIHNob3dTdXBwb3J0SW5mb0NvcGllZChmYWxzZSk7XHJcblx0ICAgfVxyXG5cdFx0XHJcblx0fVxyXG5cclxuXHRzdXBwb3J0SW5mb1V0aWxzLmNvcHlTdXBwb3J0SW5mbyA9IGNvcHlTdXBwb3J0SW5mbztcclxuXHJcbn0od2luZG93LCBqUXVlcnkpKTtcclxuXHJcblxyXG4vKipcclxuICogRnVuY3Rpb24gaXMgZXhlY3V0ZWQgb24gZXZlcnkgcGFnZSBsb2FkIGFuZCBwb3B1bGF0ZXMgdGhlIHZhbHVlIG9mIHRoZSBoaWRkZW4gdGV4dGZpZWxkXHJcbiAqIHdpdGggc3VwcG9ydCBpbmZvcm1hdGlvbiBcclxuICovXHJcbihmdW5jdGlvbih3aW5kb3csICQsIHNlc3Npb25Db29raWVOYW1lLCBiY1RhcmdldE5vZGVDb29raWVOYW1lLCB1bmRlZmluZWQpIHtcclxuXHJcblx0dmFyIExPR19JRCA9IFwiY29tLmJvc2NoLmNvbm5lY3Quc3VwcG9ydEluZm9VdGlsc1wiO1xyXG5cdFxyXG5cdHZhclxyXG5cdFx0dGFyZ2V0U2VydmVyID0gQ29va2llcyhiY1RhcmdldE5vZGVDb29raWVOYW1lKSxcclxuXHRcdHNlc3Npb25Db29raWUgPSBDb29raWVzKHNlc3Npb25Db29raWVOYW1lKSxcclxuXHRcdHNlc3Npb25JZDtcclxuXHJcblx0Ly9FUFRBQ1QtMzI1MTogWFNTIChDcm9zcyBTaXRlIFNjcmlwdGluZykgdmlhIEJDU0VTU0lPTklEIGluIGZvb3RlciBwb3NzaWJsZVxyXG5cdC8qXHJcblx0ICYgLS0+ICZhbXA7XHJcblx0IDwgLS0+ICZsdDtcclxuXHQgPiAtLT4gJmd0O1xyXG5cdCBcIiAtLT4gJnF1b3Q7XHJcblx0ICcgLS0+ICYjeDI3OyAgICAgJmFwb3M7IG5vdCByZWNvbW1lbmRlZCBiZWNhdXNlIGl0cyBub3QgaW4gdGhlIEhUTUwgc3BlYyAoU2VlOiBzZWN0aW9uIDI0LjQuMSkgJmFwb3M7IGlzIGluIHRoZSBYTUwgYW5kIFhIVE1MIHNwZWNzLlxyXG5cdCAvIC0tPiAmI3gyRjsgICAgIGZvcndhcmQgc2xhc2ggaXMgaW5jbHVkZWQgYXMgaXQgaGVscHMgZW5kIGFuIEhUTUwgZW50aXR5XHJcblx0ICovXHJcblx0dmFyIGh0bWxFbnRpdGllcyA9IGZ1bmN0aW9uKHN0cikge1xyXG5cdCAgICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxyXG5cdCAgICBcdFx0XHRcdFx0LnJlcGxhY2UoLzwvZywgJyZsdDsnKVxyXG5cdCAgICBcdFx0XHRcdFx0LnJlcGxhY2UoLz4vZywgJyZndDsnKVxyXG5cdCAgICBcdFx0XHRcdFx0LnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxyXG5cdCAgICBcdFx0XHRcdFx0LnJlcGxhY2UoLycvZywgJyYjeDI3OycpXHJcblx0ICAgIFx0XHRcdFx0XHQucmVwbGFjZSgvXFwvL2csICcmI3gyRjsnKTtcclxuXHR9O1xyXG5cdC8vRU5EIEVQVEFDVC0zMjUxOiBYU1MgKENyb3NzIFNpdGUgU2NyaXB0aW5nKSB2aWEgQkNTRVNTSU9OSUQgaW4gZm9vdGVyIHBvc3NpYmxlXHJcblxyXG5cdFxyXG5cdC8vIENvZGUgZnJvbSBodHRwczovL3d3dy5ncmVnb3J5dmFyZ2hlc2UuY29tL2hvdy10by1nZXQtYnJvd3Nlci1uYW1lLWFuZC12ZXJzaW9uLXZpYS1qYXZhc2NyaXB0L1xyXG5cdGZ1bmN0aW9uIGdldEJyb3dzZXJJbmZvKCl7XHJcblx0ICAgIHZhciB1YT1uYXZpZ2F0b3IudXNlckFnZW50LHRlbSxNPXVhLm1hdGNoKC8ob3BlcmF8Y2hyb21lfHNhZmFyaXxmaXJlZm94fG1zaWV8dHJpZGVudCg/PVxcLykpXFwvP1xccyooXFxkKykvaSkgfHwgW107IFxyXG5cdCAgICBpZigvdHJpZGVudC9pLnRlc3QoTVsxXSkpe1xyXG5cdCAgICAgICAgdGVtPS9cXGJydlsgOl0rKFxcZCspL2cuZXhlYyh1YSkgfHwgW107IFxyXG5cdCAgICAgICAgcmV0dXJuIHtuYW1lOidJRSAnLHZlcnNpb246KHRlbVsxXXx8JycpfTtcclxuXHQgICAgICAgIH0gICBcclxuXHQgICAgaWYoTVsxXT09PSdDaHJvbWUnKXtcclxuXHQgICAgICAgIHRlbT11YS5tYXRjaCgvXFxiT1BSXFwvKFxcZCspLylcclxuXHQgICAgICAgIGlmKHRlbSE9bnVsbCkgICB7cmV0dXJuIHtuYW1lOidPcGVyYScsIHZlcnNpb246dGVtWzFdfTt9XHJcblx0ICAgICAgICB9ICAgXHJcblx0ICAgIE09TVsyXT8gW01bMV0sIE1bMl1dOiBbbmF2aWdhdG9yLmFwcE5hbWUsIG5hdmlnYXRvci5hcHBWZXJzaW9uLCAnLT8nXTtcclxuXHQgICAgaWYoKHRlbT11YS5tYXRjaCgvdmVyc2lvblxcLyhcXGQrKS9pKSkhPW51bGwpIHtNLnNwbGljZSgxLDEsdGVtWzFdKTt9XHJcblx0ICAgIHJldHVybiB7XHJcblx0ICAgICAgbmFtZTogTVswXSxcclxuXHQgICAgICB2ZXJzaW9uOiBNWzFdXHJcblx0ICAgIH07XHJcblx0IH1cdFxyXG5cdFxyXG5cdHZhciBzZXRTdXBwb3J0SW5mbyA9IGZ1bmN0aW9uKCkge1x0XHRcclxuXHRcdGRlYnVnKExPR19JRCwgJ3NldFN1cHBvcnRJbmZvID4+Pj4+PicpO1xyXG5cdFx0XHJcblx0XHR2YXIgb3V0ID0gXCJCb3NjaCBDb25uZWN0IFN1cHBvcnQgaW5mb3JtYXRpb25cXG5cIlxyXG5cdFx0XHJcblx0XHR2YXIgYnJvd3NlckluZm8gPSBnZXRCcm93c2VySW5mbygpXHJcblx0XHRvdXQgKz0gXCJCcm93c2VyOiBcIiArIGJyb3dzZXJJbmZvLm5hbWUgKyBcIiBcIiArIGJyb3dzZXJJbmZvLnZlcnNpb24gKyBcIlxcblwiO1xyXG5cdFx0XHJcblx0XHRvdXQgKz0gJ05vZGU6JztcclxuXHRcdG91dCArPSB0YXJnZXRTZXJ2ZXIgPyBcIiBcIiArIHRhcmdldFNlcnZlciA6IFwiIGVycm9yIG5vIHRhcmdldCBzZXJ2ZXIgZGVmaW5lZFwiO1xyXG5cdFx0XHJcblx0XHRvdXQgKz0gXCJcXG5cIjtcclxuXHJcblx0XHRpZiAoc2Vzc2lvbkNvb2tpZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHNlc3Npb25JZCA9IHNlc3Npb25Db29raWUuc3BsaXQoXCI6XCIpWzBdO1xyXG5cclxuXHRcdFx0Ly9FUFRBQ1QtMzI1MTogWFNTIChDcm9zcyBTaXRlIFNjcmlwdGluZykgdmlhIEJDU0VTU0lPTklEIGluIGZvb3RlciBwb3NzaWJsZVxyXG5cdFx0XHRzZXNzaW9uSWQgPSBodG1sRW50aXRpZXMoc2Vzc2lvbklkKTtcclxuXHJcblx0XHRcdG91dCArPSBcIlNlc3Npb24gSUQ6XCI7XHJcblx0XHRcdG91dCArPSBzZXNzaW9uSWQgPyBcIiBcIiArIHNlc3Npb25JZCA6IFwiIGVycm9yIG5vIHNlc3Npb24gaWRcIjtcdFx0XHRcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0b3V0ICs9IFwiXFxuXCI7XHJcblx0XHRcclxuXHRcdG91dCArPSBcIlZlcnNpb246IEBAYm9zY2hDb25uZWN0VmVyc2lvbkBAXCI7IC8vIE5PVEU6IFRoZSB2ZXJzaW9uIHdpbGwgYmUgc2V0IGR5bmFtaWNhbGx5IGR1cmluZyBkZXBsb3lcclxuXHJcblx0XHQkKFwiI3N1cHBvcnRJbmZvVGV4dEFyZWFcIikudmFsKG91dCk7XHJcblxyXG5cdH07XHJcblxyXG5cdHNldFN1cHBvcnRJbmZvKCk7XHJcblxyXG59KHdpbmRvdywgalF1ZXJ5LCBcIkBnbG9iYWwuc2Vzc2lvbkNvb2tpZU5hbWVAXCIsIFwiQkNUQVJHRVROT0RFXCIpKTsiLCIvKipcclxuICogRVBUQUNULTMxMzggLSBTd2l0Y2ggYmV0d2VlbiB0aGUgT3JpZW50IE1lIGhvbWUgcGFnZSBhbmQgdGhlIGNsYXNzaWMgaG9tZSBwYWdlXHJcbiAqIFxyXG4gKiBGdW5jdGlvbnMgc3dpdGNoSG9tZXBhZ2UgYW5kIHVwZGF0ZVNlbGVjdGVkSG9tZXBhZ2UgYXJlIHVzZWQgaW4gdXNlci5qc3AuXHJcbiAqIFdoZW4gdGhlIHVzZXJzIGNsaWNrcyB0aGUgbWVudSBlbnRyeSB0byBzd2l0Y2ggdGhlIGhvbWUgcGFnZSBoaXMgZXh0ZW5zaW9uIGF0dHJpYnV0ZSBzZWxlY3RlZEhvbWVwYWdlXHJcbiAqIGlzIHVwZGF0ZWQgZGVwZW5kaW5nIG9uIHRoZSBwcmV2aW91cyBzZWxlY3QgaG9tZSBwYWdlIGFuZCBoZSBnZXQncyByZWRpcmVjdGVkIGFjY29yZGluZ2x5LiBFaXRoZXIgdG9cclxuICogL2hvbWVwYWdlIG9yIC9zb2NpYWwuIE9uY2UgaGUgbWFkZSB0aGUgc2VsZWN0aW9uIGZ1cnRoZXIgcmVkaXJlY3RzIHRvIC9zb2NpYWwgd2lsbCBiZSBoYW5kbGVkIHZpYSBJSFMgYmMtaWMuY29uZiBcclxuICogYW5kIHRoZSBjb29raWUgT1JJRU5UTUUgd2hpY2ggaXMgc2V0IHdoZW4gdGhlIHVzZXIgd2FudCdzIHRvIHVzZSBPcmllbnRNZSBhbmQgaXMgdW5zZXQgd2hlbiB0aGUgdXNlciB3YW50J3MgdG8gXHJcbiAqIHVzZSB0aGUgb2xkIGhvbWUgcGFnZS4gVGhlIGZ1bmN0aW9ucyBzZXRTd2l0Y2hMYWJlbCBhbmQgc2V0U3dpdGNoTGFiZWxUZXh0IGFyZSB1c2VkIHRvIHJldHJpZXZlIHRoZSBleHRlbnNpb24gYXR0cmlidXRlXHJcbiAqIGFuZCB0byBzZXQgdGhlIHRleHQgZm9yIHRoZSBob21lIHBhZ2Ugc3dpdGNoIGRlcGVuZGluZyBvbiB0aGUgdXNlcnMgbGFuZ3VhZ2UuICBcclxuICogXHJcbiAqIEZ1bmN0aW9uIGdldEhvbWVVcmwgaXMgdXNlZCBpbiBoZWFkZXIuanNwIHRvIHJldHVybiB0aGUgXCJCb3NjaCBDb25uZWN0XCIgbGluay5cclxuICpcclxuICogQGF1dGhvcjogICAgICAgRGFuaWVsIEdsdWVjayA8ZGFuaWVsLmdsdWVja0BkZS5ib3NjaC5jb20+XHJcbiAqIEBkYXRlOiAgICAgICAgIDEzLjA2LjIwMThcclxuICogQGZpbGU6ICAgICAgICAgc3dpdGNoSG9tZXBhZ2VVdGlscy5qc1xyXG4gKiBAYmN2ZXJzaW9uOiAgICBJQk0gQ29ubmVjdGlvbnMgNi4wIENSMVxyXG4gKiBAYmNGaXhWZXJzaW9uOiA0LjAuMFxyXG4gKlxyXG4gKiBEb2N1bWVudGF0aW9uOiBodHRwczovL2luc2lkZS1kb2N1cGVkaWEuYm9zY2guY29tL2NvbmZsdWVuY2UveC9QdnJxSlFcclxuICogXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKHdpbmRvdywgJCwgdW5kZWZpbmVkKSB7XHJcblxyXG5cdHdpbmRvdy5zd2l0Y2hIb21lcGFnZVV0aWxzID0ge307XHJcblxyXG5cdC8vIENvbnN0YW50c1xyXG5cdHZhciBTRUxFQ1RFRF9IT01FUEFHRV9PUklFTlRNRSA9IFwib3JpZW50bWVcIjsgLy8gTk9URTogYWxzbyB1c2VkIGluIF9ob21lcGFnZVN0YXJ0dXAuanNcclxuXHR2YXIgU0VMRUNURURfSE9NRVBBR0VfT1JJRU5UTUVfT0IgPSBcIm9yaWVudG1lLW9iXCI7IC8vIE5PVEU6IGFsc28gdXNlZCBpbiBfaG9tZXBhZ2VTdGFydHVwLmpzXHJcblx0dmFyIFNFTEVDVEVEX0hPTUVQQUdFX0hPTUVQQUdFID0gXCJob21lcGFnZVwiO1xyXG5cdHZhciBPUklFTlRNRV9DT09LSUVfTkFNRSA9IFwiT1JJRU5UTUVcIjsgLy8gTk9URTogYWxzbyB1c2VkIGluIF9ob21lcGFnZVN0YXJ0dXAuanMgYW5kIElIUyBiYy1pYy5jb25mXHJcblxyXG5cdHZhciBMT0dfSUQgPSBcImNvbS5ib3NjaC5jb25uZWN0LnN3aXRjaEhvbWVwYWdlXCI7XHJcblxyXG5cclxuXHQvKipcclxuXHQgKiBTZXRzIHRoZSBzZWxlY3RlZEhvbWVwYWdlIGV4dGVuc2lvbiBhdHRyaWJ1dGUgZGVwZW5kaW5nIG9uIHRoZSB1c2VycyBwcmV2aW91cyBzZWxlY3RlIGhvbWUgcGFnZS5cclxuXHQgKiBTZXRzIGFuZCB1bnNldHMgdGhlIENvb2tpZSBPUklFTlRNRSB1c2VkIGluIF9ob21lcGFnZVN0YXJ0dXAuanMgYW5kIElIUyBjb25mIGJjLWljLmNvbmZcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB1c2VyaWRcclxuXHQgKiBAcGFyYW0gc2VsZWN0ZWRIb21lcGFnZVxyXG5cdCAqIEByZXR1cm5zXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gdXBkYXRlU2VsZWN0ZWRIb21lcGFnZSh1c2VyaWQsIGN1cnJlbnRTZWxlY3RlZEhvbWVwYWdlKXtcclxuXHJcblx0XHRkZWJ1ZyhMT0dfSUQsICd1cGRhdGVTZWxlY3RlZEhvbWVwYWdlID4+Pj4+PicpO1xyXG5cdFx0ZGVidWcoTE9HX0lELCAndXNlcmlkPScgKyB1c2VyaWQgKyBcIiB8IGN1cnJlbnRTZWxlY3RlZEhvbWVwYWdlPVwiICsgY3VycmVudFNlbGVjdGVkSG9tZXBhZ2UpO1xyXG5cclxuXHRcdHZhciBkYXRlVmFyID0gbmV3IERhdGUobmV3IERhdGUoKS50b1VUQ1N0cmluZygpKS5nZXRUaW1lKCk7XHJcblx0XHR2YXIgbmV3U2VsZWN0ZWRIb21lcGFnZTtcclxuXHRcdHZhciBzd2l0Y2hCYWNrO1xyXG5cdFx0dmFyIHJlZGlyZWN0VXJsID0gXCIvXCI7XHJcblx0XHRcclxuXHRcdGlmIChjdXJyZW50U2VsZWN0ZWRIb21lcGFnZSA9PSBTRUxFQ1RFRF9IT01FUEFHRV9PUklFTlRNRSB8fCBjdXJyZW50U2VsZWN0ZWRIb21lcGFnZSA9PSBTRUxFQ1RFRF9IT01FUEFHRV9PUklFTlRNRV9PQil7XHJcblx0XHRcdG5ld1NlbGVjdGVkSG9tZXBhZ2UgPSBTRUxFQ1RFRF9IT01FUEFHRV9IT01FUEFHRTtcclxuXHRcdFx0c3dpdGNoQmFjayA9IHRydWU7XHJcblx0XHRcdHJlZGlyZWN0VXJsID0gXCIvaG9tZXBhZ2VcIjtcclxuXHRcdFx0XHJcblx0XHRcdENvb2tpZXMucmVtb3ZlKFwiT1JJRU5UTUVcIik7XHJcblx0XHR9IGVsc2UgaWYgKGN1cnJlbnRTZWxlY3RlZEhvbWVwYWdlID09IFNFTEVDVEVEX0hPTUVQQUdFX0hPTUVQQUdFKSB7XHJcblx0XHRcdG5ld1NlbGVjdGVkSG9tZXBhZ2UgPSBTRUxFQ1RFRF9IT01FUEFHRV9PUklFTlRNRTtcclxuXHRcdFx0c3dpdGNoQmFjayA9IGZhbHNlO1xyXG5cdFx0XHRyZWRpcmVjdFVybCA9IFwiL3NvY2lhbFwiO1xyXG5cdFx0XHRcclxuXHRcdFx0Q29va2llcy5zZXQoJ09SSUVOVE1FJywgJ3RydWUnLCB7IGV4cGlyZXM6IDM2NSwgcGF0aDogJy8nIH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZXJyb3IoTE9HX0lELCBcIlNvbWV0aGluZyB3ZW50IHdyb25nLiBJbnZhbGlkIHZhbHVlIGZvciBjdXJyZW50U2VsZWN0ZWRIb21lcGFnZT1cIiArIGN1cnJlbnRTZWxlY3RlZEhvbWVwYWdlKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVx0XHRcclxuXHRcdFxyXG5cdFx0dmFyIHB1dERhdGEgPSAne1wic2VsZWN0ZWRIb21lcGFnZVwiIDogXCInICsgbmV3U2VsZWN0ZWRIb21lcGFnZSArICdcIiwgXCJ0aW1lc3RhbXBcIiA6ICcgKyBkYXRlVmFyICsgJywgXCJzd2l0Y2hCYWNrXCI6ICcgKyBzd2l0Y2hCYWNrICsgJ30nO1xyXG5cdFx0ZGVidWcoTE9HX0lELCAncHV0RGF0YT0nICsgcHV0RGF0YSk7XHJcblxyXG5cdFx0JC5hamF4KHtcclxuXHRcdFx0dXJsOiAnL3Byb2ZpbGVzL2F0b20vcHJvZmlsZUV4dGVuc2lvbi5kbz9leHRlbnNpb25JZD1zZWxlY3RlZEhvbWVwYWdlJnVzZXJpZD0nICsgdXNlcmlkLFxyXG5cdFx0XHR0eXBlOiAnUFVUJyxcclxuXHRcdFx0eGhyRmllbGRzOiB7XHJcblx0XHRcdFx0d2l0aENyZWRlbnRpYWxzOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdGRhdGE6IHB1dERhdGFcclxuXHRcdH0pLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cykge1xyXG5cdFx0XHRkZWJ1ZyhMT0dfSUQsIFwicmVzcG9uc2U9XCIgKyBkYXRhICsgXCIgfCBzdGF0dXM9XCIgKyB0ZXh0U3RhdHVzKTtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uID0gcmVkaXJlY3RVcmw7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSkuZmFpbChmdW5jdGlvbih4aHIsIGRhdGEsIHRleHRTdGF0dXMpIHtcclxuXHRcdFx0ZGVidWcoTE9HX0lELCBcInhocj1cIiArIHhociArIFwiIHwgcmVzcG9uc2U9XCIgKyBkYXRhICsgXCIgfCBzdGF0dXM9XCIgKyB0ZXh0U3RhdHVzKTtcclxuXHRcdFx0ZGVidWcoTE9HX0lELCBcImZhaWxlZCB0byBzdG9yZSB0aGUgZXh0ZW5zaW9uIGF0dHJpYnV0ZSBzZWxlY3RlZEhvbWVwYWdlXCIpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cclxuXHQvKipcclxuXHQgKiBTd2l0Y2ggdGhlIEhvbWVwYWdlIGZyb20gdGhlIGN1cnJlbnQgdXNlciB0b1xyXG5cdCAqIFx0IC0gT3JpZW50TWU6IElmIGhlIHByZXZpb3VzbHkgaGFkIEhvbWVwYWdlIG9yIGRpZCBub3Qgc2VsZWN0IGFueXRoaW5nXHJcblx0ICogICAtIEhvbWVwYWdlOiBJZiBoZSBwcmV2aW91c2x5IGhhZCBPcmllbnRNZVxyXG5cdCAqXHJcblx0ICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgZnJvbSB1c2VyLmpzcFxyXG5cdCAqIFxyXG5cdCAqIEl0IHdpbGwgdXBkYXRlIC8gY3JlYXRlIHRoZSBzdG9yZWQgZXh0ZW50aW9uIGF0dHJpYnV0ZSBhY2NvcmRpbmdseVxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHVzZXJpZFxyXG5cdCAqIEByZXR1cm5zXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gc3dpdGNoSG9tZXBhZ2UodXNlcmlkKXtcclxuXHRcdGRlYnVnKExPR19JRCwgJ3N3aXRjaEhvbWVwYWdlID4+Pj4+PicpO1xyXG5cclxuXHRcdGRlYnVnKExPR19JRCwgJ3VzZXJpZD0nICsgdXNlcmlkKTtcclxuXHRcdFxyXG5cdFx0JC5hamF4KHtcclxuXHRcdFx0dXJsOiAnL3Byb2ZpbGVzL2F0b20vcHJvZmlsZUV4dGVuc2lvbi5kbz9leHRlbnNpb25JZD1zZWxlY3RlZEhvbWVwYWdlJnVzZXJpZD0nICsgdXNlcmlkLFxyXG5cdFx0XHR0eXBlOiAnR0VUJyxcclxuXHRcdFx0eGhyRmllbGRzOiB7XHJcblx0XHRcdFx0d2l0aENyZWRlbnRpYWxzOiB0cnVlXHJcblx0XHRcdH1cclxuXHRcdH0pLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cykge1xyXG5cdFx0XHRkZWJ1ZyhMT0dfSUQsIFwicmVzcG9uc2U9XCIgKyBkYXRhICsgXCIgfCBzdGF0dXM9XCIgKyB0ZXh0U3RhdHVzKTtcclxuXHRcdFx0XHJcblx0XHRcdGlmKGRhdGEpe1xyXG5cdFx0XHRcdHZhciBjdXJyZW50U2VsZWN0ZWRIb21lcGFnZSA9IEpTT04ucGFyc2UoZGF0YSlbXCJzZWxlY3RlZEhvbWVwYWdlXCJdO1xyXG5cdFx0XHRcdGRlYnVnKExPR19JRCwgJ2N1cnJlbnRTZWxlY3RlZEhvbWVwYWdlPScgKyBjdXJyZW50U2VsZWN0ZWRIb21lcGFnZSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0dXBkYXRlU2VsZWN0ZWRIb21lcGFnZSh1c2VyaWQsIGN1cnJlbnRTZWxlY3RlZEhvbWVwYWdlKTtcdFx0XHRcdFxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGRlYnVnKExPR19JRCwgJ0V4dGVuc2lvbiBhdHRyaWJ1dGUgZG9lcyBub3QgeWV0IGV4aXN0LicpO1xyXG5cdFx0XHRcdHVwZGF0ZVNlbGVjdGVkSG9tZXBhZ2UodXNlcmlkLCBTRUxFQ1RFRF9IT01FUEFHRV9IT01FUEFHRSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSkuZmFpbChmdW5jdGlvbih4aHIsIGRhdGEsIHRleHRTdGF0dXMpIHtcclxuXHRcdFx0ZGVidWcoTE9HX0lELCBcInhocj1cIiArIHhociArIFwiIHwgcmVzcG9uc2U9XCIgKyBkYXRhICsgXCIgfCBzdGF0dXM9XCIgKyB0ZXh0U3RhdHVzKTtcclxuXHRcdFx0ZGVidWcoTE9HX0lELCBcImZhaWxlZCB0byByZWFkIHRoZSBleHRlbnNpb24gYXR0cmlidXRlIHNlbGVjdGVkSG9tZXBhZ2UuIEV2ZW50dWFsbHkgaXQgZG9lcyBub3QgeWV0IGV4aXN0XCIpO1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSk7XHRcclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB0aGUgbGluayBmb3IgdGhlIEJvc2NoIENvbm5lY3QgSG9tZSBVUkwuXHJcblx0ICpcclxuXHQgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBmcm9tIGhlYWRlci5qc3BcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB1c2VyaWRcclxuXHQgKiBAcmV0dXJucyBCYXNlZCBvbiB0aGUgc3RvcmVkIGV4dGVudGlvbnMgYXR0cmlidXRlIGZvciB0aGUgdXNlciBpdCB3aWxsIHJldHVybiAvaG9tZXBhZ2Ugb3IgL3NvY2lhbCBcclxuXHQgKi9cclxuXHRmdW5jdGlvbiBnZXRIb21lVXJsKHVzZXJpZCl7XHJcblx0XHRkZWJ1ZyhMT0dfSUQsICdnZXRIb21lVXJsID4+Pj4+PicpO1xyXG5cdFx0ZGVidWcoTE9HX0lELCAndXNlcmlkPScgKyB1c2VyaWQpO1xyXG5cclxuXHRcdHZhciByZWRpcmVjdFVybCA9IFwiL2hvbWVwYWdlXCI7IC8vIERlZmF1bHQgaXMgYWx3YXlzIC9ob21lcGFnZVxyXG5cdFx0XHJcblx0XHR0cnkge1x0XHRcdFx0XHRcdFxyXG5cdFx0XHQkLmFqYXgoe1xyXG5cdFx0XHRcdHVybDogJy9wcm9maWxlcy9hdG9tL3Byb2ZpbGVFeHRlbnNpb24uZG8/ZXh0ZW5zaW9uSWQ9c2VsZWN0ZWRIb21lcGFnZSZ1c2VyaWQ9JyArIHVzZXJpZCxcclxuXHRcdFx0XHR0eXBlOiAnR0VUJyxcclxuXHRcdFx0XHR4aHJGaWVsZHM6IHtcclxuXHRcdFx0XHRcdHdpdGhDcmVkZW50aWFsczogdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuZG9uZShmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzKSB7XHJcblx0XHRcdFx0ZGVidWcoTE9HX0lELCBcInJlc3BvbnNlPVwiICsgSlNPTi5zdHJpbmdpZnkoZGF0YSkgKyBcIiB8IHN0YXR1cz1cIiArIHRleHRTdGF0dXMpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmIChkYXRhKXtcclxuXHRcdFx0XHRcdHZhciBzZWxlY3RlZEhvbWVwYWdlID0gSlNPTi5wYXJzZShkYXRhKVtcInNlbGVjdGVkSG9tZXBhZ2VcIl07XHJcblx0XHRcdFx0XHRkZWJ1ZyhMT0dfSUQsICdzZWxlY3RlZEhvbWVwYWdlPScgKyBzZWxlY3RlZEhvbWVwYWdlKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYgKHNlbGVjdGVkSG9tZXBhZ2UgPT0gU0VMRUNURURfSE9NRVBBR0VfT1JJRU5UTUUgfHwgc2VsZWN0ZWRIb21lcGFnZSA9PSBTRUxFQ1RFRF9IT01FUEFHRV9PUklFTlRNRV9PQil7XHJcblx0XHRcdFx0XHRcdHJlZGlyZWN0VXJsID0gXCIvc29jaWFsXCI7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHNlbGVjdGVkSG9tZXBhZ2UgPT0gU0VMRUNURURfSE9NRVBBR0VfSE9NRVBBR0UpIHtcclxuXHRcdFx0XHRcdFx0cmVkaXJlY3RVcmwgPSBcIi9ob21lcGFnZVwiO1xyXG5cdFx0XHRcdFx0fVx0XHRcdFxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkZWJ1ZyhMT0dfSUQsICdFeHRlbnNpb24gYXR0cmlidXRlIHNlbGVjdGVkSG9tZXBhZ2UgaXMgbm90IHlldCBzZXQuIFVzaW5nIC9ob21lcGFnZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRkZWJ1ZyhMT0dfSUQsIFwicmVkaXJlY3RVcmw9XCIgKyByZWRpcmVjdFVybCk7XHJcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uID0gcmVkaXJlY3RVcmw7XHJcblx0XHRcdFx0XHJcblx0XHRcdH0pLmZhaWwoZnVuY3Rpb24oeGhyLCBkYXRhLCB0ZXh0U3RhdHVzKSB7XHJcblx0XHRcdFx0ZGVidWcoTE9HX0lELCBcInhocj1cIiArIHhociArIFwiIHwgcmVzcG9uc2U9XCIgKyBkYXRhICsgXCIgfCBzdGF0dXM9XCIgKyB0ZXh0U3RhdHVzKTtcclxuXHRcdFx0XHRkZWJ1ZyhMT0dfSUQsIFwiZmFpbGVkIHRvIHJlYWQgdGhlIGV4dGVuc2lvbiBhdHRyaWJ1dGUgc2VsZWN0ZWRIb21lcGFnZS4gRXZlbnR1YWxseSBpdCBkb2VzIG5vdCB5ZXQgZXhpc3RcIik7XHJcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uID0gcmVkaXJlY3RVcmw7XHJcblx0XHRcdH0pO1x0XHRcdFxyXG5cdFx0fSBjYXRjaChlcnIpIHtcclxuXHRcdFx0Ly8gSWYgYW55dGhpbmcgZ29lcyB3cm9uZyB3ZSB3aWxsIGFsd2F5cyByZXR1cm4gL2hvbWVwYWdlXHJcblx0XHRcdGVycm9yKExPR19JRCwgJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBFcnJvciBtZXNzYWdlOiAnICsgZXJyICsnLiBVc2UgL2hvbWVwYWdlJyk7XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbiA9IHJlZGlyZWN0VXJsO1xyXG5cdFx0fVx0XHRcclxuXHR9XHJcblx0XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGxhYmVsIGZvciB0aGUgVXNlciBtZW51IGVudHJ5IHRvIHN3aXRjaCB0aGUgSG9tZXBhZ2VcclxuICAgICAqIGJhc2VkIG9uIHRoZSB1c2VycyBjb25maWd1cmVkIGhvbWUgcGFnZSBhbmQgbGFuZ3VhZ2VcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHVzZXJpZFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2V0U3dpdGNoTGFiZWwodXNlcmlkKXtcclxuXHRcdGRlYnVnKExPR19JRCwgJ3NldFN3aXRjaExhYmVsID4+Pj4+PicpO1xyXG5cdFx0ZGVidWcoTE9HX0lELCAndXNlcmlkPScgKyB1c2VyaWQpO1xyXG5cdFx0XHJcblx0XHQvLyBJZiB0aGUgY29va2llIGZvciBPUklFTlRNRSBpcyBzZXQsIG5vIG5lZWQgdG8gcmVhZCB0aGUgZXh0ZW5zaW9uIGF0dHJpYnV0ZVxyXG5cdFx0aWYoZG9qby5jb29raWUoXCJPUklFTlRNRVwiKSl7XHJcblx0XHRcdHNldFN3aXRjaExhYmVsVGV4dChTRUxFQ1RFRF9IT01FUEFHRV9PUklFTlRNRSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH07XHJcbiAgICBcdFxyXG5cdFx0Ly8gR2V0IHRoZSBpbmZvIGZyb20gdGhlIHNlcnZlciBpZiB0aGUgT1JJRU5UTUUgY29va2llIGlzIG5vdCB5ZXQgc2V0XHJcblx0XHQkLmFqYXgoe1xyXG5cdFx0XHR1cmw6ICcvcHJvZmlsZXMvYXRvbS9wcm9maWxlRXh0ZW5zaW9uLmRvP2V4dGVuc2lvbklkPXNlbGVjdGVkSG9tZXBhZ2UmdXNlcmlkPScgKyB1c2VyaWQsXHJcblx0XHRcdHR5cGU6ICdHRVQnLFxyXG5cdFx0XHR4aHJGaWVsZHM6IHtcclxuXHRcdFx0XHR3aXRoQ3JlZGVudGlhbHM6IHRydWVcclxuXHRcdFx0fVxyXG5cdFx0fSkuZG9uZShmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzKSB7XHJcblx0XHRcdGRlYnVnKExPR19JRCwgXCJyZXNwb25zZT1cIiArIEpTT04uc3RyaW5naWZ5KGRhdGEpICsgXCIgfCBzdGF0dXM9XCIgKyB0ZXh0U3RhdHVzKTtcclxuXHJcblx0XHRcdGlmIChkYXRhKXtcclxuXHRcdFx0XHRzZXRTd2l0Y2hMYWJlbFRleHQoSlNPTi5wYXJzZShkYXRhKVtcInNlbGVjdGVkSG9tZXBhZ2VcIl0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGRlYnVnKExPR19JRCwgJ0V4dGVuc2lvbiBhdHRyaWJ1dGUgc2VsZWN0ZWRIb21lcGFnZSBpcyBub3QgeWV0IHNldC4gVXNpbmcgaG9tZXBhZ2UgYXMgZGVmYXVsdCcpO1xyXG5cdFx0XHRcdHNldFN3aXRjaExhYmVsVGV4dChTRUxFQ1RFRF9IT01FUEFHRV9IT01FUEFHRSk7XHJcblx0XHRcdH1cclxuXHRcdH0pLmZhaWwoZnVuY3Rpb24oeGhyLCBkYXRhLCB0ZXh0U3RhdHVzKSB7XHJcblx0XHRcdGRlYnVnKExPR19JRCwgXCJ4aHI9XCIgKyB4aHIgKyBcIiB8IHJlc3BvbnNlPVwiICsgZGF0YSArIFwiIHwgc3RhdHVzPVwiICsgdGV4dFN0YXR1cyk7XHJcblx0XHRcdGRlYnVnKExPR19JRCwgXCJmYWlsZWQgdG8gcmVhZCB0aGUgZXh0ZW5zaW9uIGF0dHJpYnV0ZSBzZWxlY3RlZEhvbWVwYWdlLiBFdmVudHVhbGx5IGl0IGRvZXMgbm90IHlldCBleGlzdFwiKTtcclxuXHRcdH0pO1x0XHRcdFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgd2lsbCBzZXQgdGhlIGFjdHVhbCB0ZXh0IGluIHRoZSB1c2VyLmpzcCBtZW51IGVudHJ5LlxyXG4gICAgICogQXMgdGhlIGVsZW1lbnQgbWlnaHQgbm90IGJlIHRoZXJlIG9uIHRoZSBmaXJzdCBjaGVjayBkdWUgdG8gdGhlIGhvdmVyIGVmZmVjdCBvZiB0aGUgbWVudVxyXG4gICAgICogd2Ugd2FpdCBmb3Igc29tZSB0aW1lIChtYXguIDEgc2VjKSB0byBnZXQgdGhlIGVsZW1lbnQgYmVmb3JlIHdlIHNldCB0aGUgdGV4dC5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHNlbGVjdGVkSG9tZXBhZ2VcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldFN3aXRjaExhYmVsVGV4dChzZWxlY3RlZEhvbWVwYWdlKXtcclxuICAgIFx0ZGVidWcoTE9HX0lELCAnc2V0U3dpdGNoTGFiZWxUZXh0ID4+Pj4+PicpO1xyXG4gICAgXHRkZWJ1ZyhMT0dfSUQsICdzZWxlY3RlZEhvbWVwYWdlPScgKyBzZWxlY3RlZEhvbWVwYWdlKTtcclxuICAgIFx0XHJcblx0XHQvLyBTZXQgdGhlIGxhYmVscyBiYXNlZCBvbiB0aGUgdXNlciBsYW5ndWFnZVxyXG4gICAgXHR2YXIgc3VwcG9ydGVkTGFuZ3VhZ2VzREUgPSBbXCJkZVwiLCBcImRlLWRlXCIsIFwiZGUtYXRcIiwgXCJkZS1saVwiLCBcImRlLWx1XCIsIFwiZGUtY2hcIl07XHJcblx0XHR2YXIgc3VwcG9ydGVkTGFuZ3VhZ2VzRlIgPSBbXCJmclwiXTtcclxuXHRcdHZhciB1c2VyTGFuZ3VhZ2UgPSB3aWRnZXRVdGlscy5nZXRVc2VyTGFuZ3VhZ2UoKTtcclxuXHRcdFxyXG5cdFx0ZGVidWcoTE9HX0lELCBcInVzZXJMYW5ndWFnZT1cIiArIHVzZXJMYW5ndWFnZSk7XHJcblx0XHRcclxuXHRcdHZhciBob21lcGFnZT0nVHJ5IG91dCBuZXcgaG9tZSBwYWdlJztcclxuXHRcdHZhciBvcmllbnRtZT0nR28gYmFjayB0byBvbGQgaG9tZSBwYWdlJztcclxuXHRcdGlmIChzdXBwb3J0ZWRMYW5ndWFnZXNERS5pbmRleE9mKHVzZXJMYW5ndWFnZSkgPj0gMCkge1xyXG5cdFx0XHRob21lcGFnZT0nTmV1ZSBIb21lcGFnZSBhdXNwcm9iaWVyZW4nO1xyXG5cdFx0XHRvcmllbnRtZT0nWnVyXFx1MDBGQ2NrIHp1ciBhbHRlbiBIb21lcGFnZSc7XHJcblx0XHR9IGVsc2UgaWYgKHN1cHBvcnRlZExhbmd1YWdlc0ZSLmluZGV4T2YodXNlckxhbmd1YWdlKSA+PSAwKXtcclxuXHRcdFx0aG9tZXBhZ2U9J0Vzc2F5ZXpsYSBub3V2ZWxsZSBwYWdlIGRcXHUwMDI3YWNjdWVpbCc7XHJcblx0XHRcdG9yaWVudG1lPSdSZXRvdXIgXFx1MDBFMCBsXFx1MDAyN2FuY2llbm5lIHBhZ2UgZFxcdTAwMjdhY2N1ZWlsJztcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gQ2hlY2sgdGhlIHNlbGVjdGVkIGhvbWVwYWdlIG9mIHRoZSB1c2VyXHJcbiAgICBcdHZhciBsYWJlbCA9IGhvbWVwYWdlO1xyXG4gICAgXHRcclxuXHRcdGlmIChzZWxlY3RlZEhvbWVwYWdlID09IFNFTEVDVEVEX0hPTUVQQUdFX09SSUVOVE1FIHx8IHNlbGVjdGVkSG9tZXBhZ2UgPT0gU0VMRUNURURfSE9NRVBBR0VfT1JJRU5UTUVfT0Ipe1xyXG5cdFx0XHRsYWJlbCA9IG9yaWVudG1lO1xyXG5cdFx0fSBlbHNlIGlmIChzZWxlY3RlZEhvbWVwYWdlID09IFNFTEVDVEVEX0hPTUVQQUdFX0hPTUVQQUdFKSB7XHJcblx0XHRcdGxhYmVsID0gaG9tZXBhZ2U7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsYWJlbCA9IGhvbWVwYWdlO1xyXG5cdFx0fVx0XHRcclxuXHRcdFxyXG5cdFx0ZGVidWcoTE9HX0lELCBcImxhYmVsPVwiICsgbGFiZWwpO1xyXG5cclxuICAgIFx0Ly8gRmluZCB0aGUgdXNlciBtZW51IGVudHJ5IGFuZCBzZXQgdGhlIHRleHQgICAgXHRcclxuICAgIFx0dmFyIGV4ZWN1dGlvblRpbWUgPSAwO1xyXG4gICAgXHR2YXIgaW50ZXJ2YWwgPSAxMDsgLy8gbXNcclxuICAgIFx0dmFyIHRpbWVvdXQgPSAxMDAwOyAvLyBtc1xyXG4gICAgXHR2YXIgd2FpdGluZ0Zvck1lbnVFbnRyeSA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgXHRcdC8vIFdhaXQgZm9yIHRoZSBzd2l0Y2hIb21lcGFnZSBtZW51IGVudHJ5XHJcblx0ICAgIFx0aWYgKCQoJyNzd2l0Y2hIb21lcGFnZScpLnRleHQoKSkge1xyXG5cdCAgICBcdFx0ZGVidWcoTE9HX0lELCBcInN3aXRjaEhvbWVwYWdlIGVsZW1lbnQgZm91bmQuIFNldHRpbmcgbGFiZWxcIik7XHJcblx0ICAgIFx0XHRcclxuXHQgICAgXHRcdCQoJyNzd2l0Y2hIb21lcGFnZScpLnRleHQobGFiZWwpOyAgICBcdFx0XHJcblx0ICAgIFx0XHRcclxuXHQgICAgXHRcdGNsZWFySW50ZXJ2YWwod2FpdGluZ0Zvck1lbnVFbnRyeSk7XHJcblx0ICAgIFx0fSBlbHNlIGlmIChleGVjdXRpb25UaW1lID4gdGltZW91dCkge1xyXG5cdCAgICBcdFx0Ly8gd2UgaGF2ZSB0byBzdG9wIHRoZSBpbnRlcnZhbCBhZnRlciBhIHByZS1kZWZpbmVkIHRpbWVvdXRcclxuXHQgICAgXHRcdGVycm9yKExPR19JRCwgXCJUaW1lb3V0IHJlYWNoZWQhIFRoZSBzd2l0Y2hIb21lcGFnZSBlbGVtZW50IGNvdWxkIG5vdCBiZSBmb3VuZFwiKTtcclxuXHQgICAgXHRcdGNsZWFySW50ZXJ2YWwod2FpdGluZ0Zvck1lbnVFbnRyeSk7XHJcblx0ICAgIFx0fSBlbHNlIHtcclxuXHQgICAgXHRcdGV4ZWN1dGlvblRpbWUgKz0gaW50ZXJ2YWw7XHJcblx0ICAgIFx0fVxyXG4gICAgXHR9LCBpbnRlcnZhbCk7XHJcblxyXG4gICAgfVxyXG5cdFxyXG5cdHN3aXRjaEhvbWVwYWdlVXRpbHMuc3dpdGNoSG9tZXBhZ2UgPSBzd2l0Y2hIb21lcGFnZTtcclxuXHRzd2l0Y2hIb21lcGFnZVV0aWxzLmdldEhvbWVVcmwgPSBnZXRIb21lVXJsO1xyXG5cdHN3aXRjaEhvbWVwYWdlVXRpbHMuc2V0U3dpdGNoTGFiZWwgPSBzZXRTd2l0Y2hMYWJlbDtcclxuXHJcblxyXG59KHdpbmRvdywgalF1ZXJ5KSk7IiwiLyoqXG4gKiBCb3NjaCBDb25uZWN0IFRlcm1zICYgQ29uZGl0aW9ucyBQb3B1cCAoRVBUQUNULTE2NDIpXG4gKiBcbiAqXG4gKiBAYXV0aG9yOiAgICAgICBEdXJ5b2RoYW4gU2FodSA8RHVyeW9kaGFuLlNhaHVAaW4uYm9zY2guY29tPlxuICogQGRhdGU6ICAgICAgICAgMTYuMTIuMjAxNFxuICogQGZpbGU6ICAgICAgICAgdGVybXNBbmRDb25kaXRpb25zLmpzXG4gKiBAYmN2ZXJzaW9uOiAgICBJQk0gQ29ubmVjdGlvbnMgNS4wIENSMVxuICogQGJjRml4VmVyc2lvbjogMi4wLjBcbiAqXG4gKiBEb2N1bWVudGF0aW9uOiBodHRwczovL2luc2lkZS1kb2N1cGVkaWEuYm9zY2guY29tL2NvbmZsdWVuY2UvcGFnZXMvdmlld3BhZ2UuYWN0aW9uP3BhZ2VJZD0yNjI3MDg4ODdcbiAqIFxuICovXG5cblxuLy9wYXNzaW5nIHdpZG93ICwgZG9qbyAsIHVuZGVmaW5lZCB0byBzZWxmIGludm9raW5nIGZ1bmN0aW9uICwgc28gdGhhdCB3ZSBjYW4gZ2V0IGEgZnJlc2ggY29weSBvZiB0aG9zZSB2YXJpYWJsZXMuXG4oZnVuY3Rpb24od2luZG93LCBkb2pvLCB1bmRlZmluZWQpIHtcblxuXHQvLyBDbGVhbiBhbnkgY29va2llcyB3aGljaCB3aGVyZSB0aGVyZSBiZWZvcmUgUmVsZWFzZSAyLjAuMFxuXHR2YXIgb2xkQ29va2llRm91bmQgPSBmYWxzZTtcblxuXHR2YXIgb2xkQ29va2llTmFtZVRjXzAgPSBcImNvbmZpcm1fdGNcIjtcblxuXHQvLyBUaGlzIHZhcmlhYmxlIGlzIHRvIGNoZWNrIG9sZCBjb29raWUgZm9yIFQmQyBpbiBQIHN5c3RlbVxuXHR2YXIgb2xkQ29va2llTmFtZVRjXzEgPSBcImNvbmZpcm1fdGNfMS4xXCI7XG5cblx0Ly8gVGhpcyB2YXJpYWJsZSBpcyB0byBjaGVjayBvbGQgY29va2llIGZvciBUJkMgaW4gdGhlIGN1cnJlbnQgZGV2IGVudmlyb25tbmV0c1xuXHR2YXIgb2xkQ29va2llTmFtZVRjXzIgPSBcImJjQ29uZmlybVRDXCI7XG5cblx0dmFyIHJlZGlyZWN0TGluayA9IFwiaHR0cHM6Ly9pbnNpZGUuYm9zY2guY29tL2lyai9wb3J0YWxcIjtcblx0Ly9jb250YWlucyBjb29raWUgZW50cmllcyBvZiBicm93c2VyLlxuXHR2YXIgY29va2llRW50cmllcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xuXG5cdHZhciBob3N0TmFtZSA9IFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG5cblx0dmFyIExPR19JRCA9IFwiVGVybXMgYW5kIENvbmRpdGlvbnNcIjtcblxuXHQvL3dpbGwgYmUgY2FsbGVkIG9uIGFjY2VwdGluZyB0aGUgVCZDIHBvcCB1cCAuIHRoaXMgc3RvcmVzIFwicHJpdmFjeUFuZEd1aWRlbGluZVwiIHByb2ZpbGUgZXh0ZW5zaW9uIHRvIERCLiBcblx0dmFyIGFjY2VwdFRjID0gZnVuY3Rpb24oKSB7XG5cblx0XHRib3NjaC50Yy5jbG9zZVdpbmRvdygpO1xuXHRcdHZhciBob3N0TmFtZSA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcblx0XHR2YXIgZGF0ZVZhciA9IG5ldyBEYXRlKG5ldyBEYXRlKCkudG9VVENTdHJpbmcoKSkuZ2V0VGltZSgpO1xuXHRcdGRvam8ueGhyR2V0KHtcblx0XHRcdHVybDogaG9zdE5hbWUgKyAnL2Nvbm5lY3Rpb25zL29wZW5zb2NpYWwvYmFzaWMvcmVzdC9wZW9wbGUvQG1lLycsXG5cdFx0XHRoYW5kbGVBczogXCJqc29uXCIsXG5cdFx0XHRsb2FkOiBmdW5jdGlvbihyZXNwb25zZSwgaW9BcmdzKSB7XG5cdFx0XHRcdHZhciBlbWFpbCA9IHJlc3BvbnNlLmVudHJ5LmVtYWlsc1swXS52YWx1ZTtcblx0XHRcdFx0dmFyIHVzZXJJZCA9IGJvc2NoLnRjLmdldFVzZXJJZChyZXNwb25zZS5lbnRyeS5pZCk7XG5cdFx0XHRcdGRvam8ueGhyUHV0KHtcblx0XHRcdFx0XHR1cmw6IGhvc3ROYW1lICsgJy9wcm9maWxlcy9hdG9tL3Byb2ZpbGVFeHRlbnNpb24uZG8/ZXh0ZW5zaW9uSWQ9cHJpdmFjeUFuZEd1aWRlbGluZXMmdXNlcmlkPScgKyB1c2VySWQsXG5cdFx0XHRcdFx0cHV0RGF0YTogZGF0ZVZhci50b1N0cmluZygpLFxuXHRcdFx0XHRcdGhhbmRsZUFzOiBcInRleHRcIixcblx0XHRcdFx0XHRsb2FkOiBmdW5jdGlvbihyZXNwb25zZSwgaW9BcmdzKSB7fSxcblx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24ocmVzcG9uc2UsIGlvQXJncykge1xuXHRcdFx0XHRcdFx0ZGVidWcoTE9HX0lELCBcImZhaWxlZCB0byBzdG9yZSB0aGUgZXh0ZW5zaW9uIHR5cGUgcHJpdmFjeUFuZEd1aWRlbGluZXNcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHRlcnJvcjogZnVuY3Rpb24ocmVzcG9uc2UsIGlvQXJncykgeyAvLyBcblx0XHRcdFx0ZGVidWcoTE9HX0lELCBcIkNvdWxkIG5vdCByZWFkIHByb2ZpbGUhXCIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9O1xuXG5cblx0Ly9DaGFuZ2VzIHRoZSB0ZXh0IGNvbG9yIG9uIGNsaWNraW5nIHRoZSBhY2NlcHQgY2hlY2tib3guXG5cdHZhciB0b2dnbGVOZXh0ID0gZnVuY3Rpb24oY2JveCkge1xuXG5cdFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib2tidXR0b25cIik7XG5cblx0XHRpZiAoY2JveC5jaGVja2VkKSB7XG5cdFx0XHRpZiAobmF2aWdhdG9yLmFwcE5hbWUgPT09IFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCIpIHtcblx0XHRcdFx0ZWxlbS5zdHlsZS5jb2xvciA9IFwiYmxhY2tcIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJjb2xvcjogYmxhY2sgIWltcG9ydGFudFwiKTtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5kaXNhYmxlZCA9IGZhbHNlO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChuYXZpZ2F0b3IuYXBwTmFtZSA9PT0gXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIikge1xuXHRcdFx0XHRlbGVtLnN0eWxlLmNvbG9yID0gXCIjNjc2NzY3XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiY29sb3I6ICM2NzY3NjcgIWltcG9ydGFudFwiKTtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0fVxuXHR9O1xuXG5cdC8vc2hvdyB0aGUgcG9wIHVwIC5cblx0dmFyIHNob3dBbGVydERpYWxvZyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly8gY3JlYXRlIGRvam8gZGlqaXQgZGlhbG9nXG5cdFx0ZG9qby5yZXF1aXJlKFwiZGlqaXQuRGlhbG9nXCIpO1xuXHRcdHZhciBhbGVydERsZyA9IG5ldyBkaWppdC5EaWFsb2coe1xuXHRcdFx0aWQ6IFwiYm9zY2hkaXNjbGFpbWVyXCIsXG5cdFx0XHRkdXJhdGlvbjogMVxuXHRcdH0sIFwiYm9zY2hkaXNjbGFpbWVyX2RpdlwiKTtcblx0XHRhbGVydERsZy5zaG93KCk7XG5cdH07XG5cblx0Ly9yZXRyaWV2ZXMgdGhlIHVzZXJJZCBvZiB0aGUgY3VycmVudCB1c2VyLlxuXHR2YXIgZ2V0VXNlcklkID0gZnVuY3Rpb24odW5mb3JtYXR0ZWRVc2VySWQpIHtcblxuXHRcdHZhciBjdXRJbmRleCA9IHVuZm9ybWF0dGVkVXNlcklkLmxhc3RJbmRleE9mKFwiOlwiKSArIDEsXG5cdFx0XHRsZW5ndGggPSB1bmZvcm1hdHRlZFVzZXJJZC5sZW5ndGg7XG5cblx0XHRyZXR1cm4gdW5mb3JtYXR0ZWRVc2VySWQuc3Vic3RyaW5nKGN1dEluZGV4LCBsZW5ndGgpO1xuXHR9O1xuXG5cdC8vY2xvc2VzIHRoZSBUJkMgcG9wIHVwLlxuXHR2YXIgY2xvc2VXaW5kb3cgPSBmdW5jdGlvbigpIHtcblxuXHRcdGVsZW0gPSBkaWppdC5ieUlkKCdib3NjaGRpc2NsYWltZXInKTtcblx0XHRpZiAoZWxlbSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRlbGVtLmhpZGUoKTtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR2YXIgZGlzY2xhaW1lckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm9zY2hkaXNjbGFpbWVyX2RpdicpO1xuXG5cdFx0XHRpZiAoZGlzY2xhaW1lckVsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRkaXNjbGFpbWVyRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8vIHJlZGlyZWN0IHRvIHBvcnRhbCByb29tIG9uIGNsaWNraW5nIHRoZSBjbG9zZSBidXR0b24uXG5cdHZhciBlc2NhcGUgPSBmdW5jdGlvbigpIHtcblx0XHRib3NjaC50Yy5jbG9zZVdpbmRvdygpO1xuXHRcdHdpbmRvdy5sb2NhdGlvbiA9IHJlZGlyZWN0TGluaztcblx0fTtcblxuXG4gICAgdmFyIGRlbGV0ZV9jb29raWUgPSBmdW5jdGlvbiggY29va2llTmFtZSApIHtcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llTmFtZSArIFwiPTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIFVUQzsgcGF0aD0vO1wiO1xuICAgIH1cblxuXHR2YXIgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb29raWVFbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdHZhciBjb29raWVWYWx1ZSA9IGNvb2tpZUVudHJpZXNbaV07XG5cblx0XHRcdHdoaWxlIChjb29raWVWYWx1ZS5jaGFyQXQoMCkgPT09ICcgJykge1xuXHRcdFx0XHRjb29raWVWYWx1ZSA9IGNvb2tpZVZhbHVlLnN1YnN0cmluZygxKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGNvb2tpZU5hbWUgPSBjb29raWVWYWx1ZS5zdWJzdHJpbmcoMCwgY29va2llVmFsdWUuaW5kZXhPZihcIj1cIikpO1xuXHRcdFx0aWYgKGNvb2tpZU5hbWUgPT09IG9sZENvb2tpZU5hbWVUY18wIHx8IGNvb2tpZU5hbWUgPT09IG9sZENvb2tpZU5hbWVUY18xIHx8IGNvb2tpZU5hbWUgPT09IG9sZENvb2tpZU5hbWVUY18yKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRGVsZXRlIG9sZCBjb29raWVcbiAgICAgICAgICAgICAgICBkZWxldGVfY29va2llKGNvb2tpZU5hbWUpO1xuXG5cdFx0XHRcdGRlYnVnKExPR19JRCwgXCJPbGQgY29va2llIGZvdW5kIGFuZCBkZWxldGVkLiBjb29raWVOYW1lPVwiICsgY29va2llTmFtZSk7XG5cblx0XHRcdFx0Ly8gSWYgbm8gb2xkIGNvb2tpZSBpcyBmb3VuZCB1c2VyIGRvc2VuJ3QgbmVlZCB0byBhY2NlcHQgVCZDIGFnYWluXG5cdFx0XHRcdG9sZENvb2tpZUZvdW5kID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCB0aGUgZXh0ZW5zaW9uIGF0dHJpYnV0ZSBwcml2YWN5QW5kR3VpZGVsaW5lcyBpcyB3cml0dGVuIGZvciB0aGUgdXNlclxuXHRcdFx0XHRib3NjaC50Yy5hY2NlcHRUYygpO1xuXHRcdFx0fVxuXHRcdH1cblxuXG5cdFx0aWYgKG9sZENvb2tpZUZvdW5kID09PSBmYWxzZSkge1xuXG5cdFx0XHQvLyBHRVQgcHJpdmFjeUFuZEd1aWRlbGluZXMgZXh0ZW5zaW9uIGF0dHJpYnV0ZVx0ICAgXHRcblx0XHRcdGRvam8ueGhyR2V0KHtcblx0XHRcdFx0dXJsOiBob3N0TmFtZSArICcvY29ubmVjdGlvbnMvb3BlbnNvY2lhbC9iYXNpYy9yZXN0L3Blb3BsZS9AbWUvJyxcblx0XHRcdFx0cHJldmVudENhY2hlOiBcInRydWVcIixcblx0XHRcdFx0dGltb3V0OiA2MDAwMDAsXG5cdFx0XHRcdGhhbmRsZUFzOiBcImpzb25cIixcblx0XHRcdFx0bG9hZDogZnVuY3Rpb24ocmVzcG9uc2UsIGlvQXJncykge1xuXG5cdFx0XHRcdFx0dmFyIGVtYWlsID0gcmVzcG9uc2UuZW50cnkuZW1haWxzWzBdLnZhbHVlLFxuXHRcdFx0XHRcdFx0dXNlcklkID0gYm9zY2gudGMuZ2V0VXNlcklkKHJlc3BvbnNlLmVudHJ5LmlkKTtcblxuXHRcdFx0XHRcdGRvam8ueGhyR2V0KHtcblx0XHRcdFx0XHRcdHVybDogaG9zdE5hbWUgKyAnL3Byb2ZpbGVzL2F0b20vcHJvZmlsZUV4dGVuc2lvbi5kbz9leHRlbnNpb25JZD1wcml2YWN5QW5kR3VpZGVsaW5lcyZ1c2VyaWQ9JyArIHVzZXJJZCxcblx0XHRcdFx0XHRcdGhhbmRsZUFzOiBcInRleHRcIixcblx0XHRcdFx0XHRcdGxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlLCBpb0FyZ3MpIHtcblx0XHRcdFx0XHRcdFx0ZGVidWcoTE9HX0lELCBcInJlc3BvbnNlIHRvIHhockdldCBmb3IgcHJpdmFjeUFuZEd1aWRlbGluZXM9XCIgKyByZXNwb25zZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChyZXNwb25zZSA9PT0gXCJcIikge1xuXHRcdFx0XHRcdFx0XHRcdGJvc2NoLnRjLnNob3dBbGVydERpYWxvZygpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24ocmVzcG9uc2UsIGlvQXJncykge1xuXHRcdFx0XHRcdFx0XHRib3NjaC50Yy5zaG93QWxlcnREaWFsb2coKTtcblx0XHRcdFx0XHRcdFx0ZGVidWcoTE9HX0lELCBcImZldGNoaW5nIHByb2YgZXh0biBmYWlsZWQgLCBzaG93aW5nIGRpYWxvZ1wiKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHRlcnJvcjogZnVuY3Rpb24ocmVzcG9uc2UsIGlvQXJncykge1xuXHRcdFx0XHRcdGRlYnVnKExPR19JRCwgXCJDb3VsZCBub3QgcmVhZCBwcm9maWxlIVwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdC8vYXR0YWNoaW5nIGFsbCBmdW5jdGlvbiB2YXJpYWJsZXMgd2l0aCBhbiBnbG9iYWwgdmFyaWFibGUgYm9zY2guIFxuXHR2YXIgYm9zY2ggPSB7XG5cdFx0dGM6IHtcblx0XHRcdGFjY2VwdFRjOiBhY2NlcHRUYyxcblx0XHRcdHNob3dBbGVydERpYWxvZzogc2hvd0FsZXJ0RGlhbG9nLFxuXHRcdFx0ZXNjYXBlOiBlc2NhcGUsXG5cdFx0XHR0b2dnbGVOZXh0OiB0b2dnbGVOZXh0LFxuXHRcdFx0Z2V0VXNlcklkOiBnZXRVc2VySWQsXG5cdFx0XHRjbG9zZVdpbmRvdzogY2xvc2VXaW5kb3dcblx0XHR9XG5cdH07XG5cblx0Ly9hdHRhY2hpbmcgZ2xvYmFsIHZhcmlhYmxlIHRvIHdpbmRvdyBsZXZlbCAuIHNvIHRoYXQgaXQgY2FuIGJlIGFzc2Vzc2VkIGdsb2JhbGx5IHdpdGggaGVscCBvZiB3aW5kb3cgb2JqZWN0LiBcblx0d2luZG93LmJvc2NoID0gYm9zY2g7XG5cblx0aW5pdCgpO1xuXG59KHdpbmRvdywgZG9qbykpO1xuIl19
